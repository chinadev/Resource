var DISQUS=function(h){var j=h.DISQUS||{};j.AssertionError=function(f){this.message=f};j.AssertionError.prototype.toString=function(){return"Assertion Error: "+(this.message||"[no message]")};j.assert=function(f,i,c){if(!f)if(c)h.console&&h.console.log("DISQUS assertion failed: "+i);else throw new j.AssertionError(i);};var c=[];j.define=function(f,i){typeof f==="function"&&(i=f,f="");for(var e=f.split("."),b=e.shift(),d=j,a=(i||function(){return{}}).call({overwrites:function(a){a.__overwrites__=!0;
return a}},h);b;)d=d[b]?d[b]:d[b]={},b=e.shift();for(var g in a)a.hasOwnProperty(g)&&(!a.__overwrites__&&d[g]!==null&&j.assert(!d.hasOwnProperty(g),"Unsafe attempt to redefine existing module: "+g,!0),d[g]=a[g],c.push(function(a,d){return function(){delete a[d]}}(d,g)));return d};j.use=function(f){return j.define(f)};j.cleanup=function(){for(var f=0;f<c.length;f++)c[f]()};return j}(window);
DISQUS.define(function(h,j){var c=h.DISQUS,f=h.document,i=f.getElementsByTagName("head")[0]||f.body,e={running:!1,timer:null,queue:[]};c.defer=function(b,d){function a(){var a=e.queue;if(a.length===0)e.running=!1,clearInterval(e.timer);for(var d=0,b;b=a[d];d++)b[0]()&&(a.splice(d--,1),b[1]())}e.queue.push([b,d]);a();if(!e.running)e.running=!0,e.timer=setInterval(a,100)};c.each=function(b,d){var a=b.length,g=Array.prototype.forEach;if(isNaN(a))for(var f in b)b.hasOwnProperty(f)&&d(b[f],f,b);else if(g)g.call(b,
d);else for(g=0;g<a;g++)d(b[g],g,b)};c.extend=function(b){c.each(Array.prototype.slice.call(arguments,1),function(d){for(var a in d)b[a]=d[a]});return b};c.serializeArgs=function(b){var d=[];c.each(b,function(a,g){a!==j&&d.push(g+(a!==null?"="+encodeURIComponent(a):""))});return d.join("&")};c.isString=function(b){return Object.prototype.toString.call(b)==="[object String]"};c.serialize=function(b,d,a){d&&(b+=~b.indexOf("?")?b.charAt(b.length-1)=="&"?"":"&":"?",b+=c.serializeArgs(d));if(a)return d=
{},d[(new Date).getTime()]=null,c.serialize(b,d);d=b.length;return b.charAt(d-1)=="&"?b.slice(0,d-1):b};c.require=function(b,d,a,g,l){function e(a){if(a.type=="load"||/^(complete|loaded)$/.test(a.target.readyState))g&&g(),q&&clearTimeout(q),c.bean.remove(a.target,h,e)}var j=f.createElement("script"),h=j.addEventListener?"load":"readystatechange",q=null;j.src=c.serialize(b,d,a);j.async=!0;j.charset="UTF-8";(g||l)&&c.bean.add(j,h,e);l&&(q=setTimeout(function(){l()},2E4));i.appendChild(j);return c};
c.requireStylesheet=function(b,d,a){var g=f.createElement("link");g.rel="stylesheet";g.type="text/css";g.href=c.serialize(b,d,a);i.appendChild(g);return c};c.requireSet=function(b,d,a){var g=b.length;c.each(b,function(b){c.require(b,{},d,function(){--g===0&&a()})})};c.injectCss=function(b){var d=f.createElement("style");d.setAttribute("type","text/css");b=b.replace(/\}/g,"}\n");h.location.href.match(/^https/)&&(b=b.replace(/http:\/\//g,"https://"));d.styleSheet?d.styleSheet.cssText=b:d.appendChild(f.createTextNode(b));
i.appendChild(d)};c.isString=function(b){return Object.prototype.toString.call(b)==="[object String]"}});
DISQUS.define("JSON",function(){function h(a){return a<10?"0"+a:a}function j(a){b.lastIndex=0;return b.test(a)?'"'+a.replace(b,function(a){var d=g[a];return typeof d==="string"?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(g,b){var p,f,e,o,h=d,m,n=b[g];n&&typeof n==="object"&&typeof n.toJSON==="function"&&!i&&(n=n.toJSON(g));typeof l==="function"&&(n=l.call(b,g,n));switch(typeof n){case "string":return j(n);case "number":return isFinite(n)?String(n):"null";case "boolean":case "null":return String(n);
case "object":if(!n)return"null";d+=a;m=[];if(Object.prototype.toString.apply(n)==="[object Array]"){o=n.length;for(p=0;p<o;p+=1)m[p]=c(p,n)||"null";e=m.length===0?"[]":d?"[\n"+d+m.join(",\n"+d)+"\n"+h+"]":"["+m.join(",")+"]";d=h;return e}if(l&&typeof l==="object"){o=l.length;for(p=0;p<o;p+=1)f=l[p],typeof f==="string"&&(e=c(f,n))&&m.push(j(f)+(d?": ":":")+e)}else for(f in n)Object.hasOwnProperty.call(n,f)&&(e=c(f,n))&&m.push(j(f)+(d?": ":":")+e);e=m.length===0?"{}":d?"{\n"+d+m.join(",\n"+d)+"\n"+
h+"}":"{"+m.join(",")+"}";d=h;return e}}var f={},i=!1;if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d,a,g={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;f.stringify=function(g,b,p){var f;a=d="";if(typeof p==="number")for(f=0;f<p;f+=1)a+=" ";else typeof p==="string"&&(a=p);if((l=b)&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return c("",{"":g})};f.parse=function(a,d){function b(a,
g){var f,i,c=a[g];if(c&&typeof c==="object")for(f in c)Object.hasOwnProperty.call(c,f)&&(i=b(c,f),i!==void 0?c[f]=i:delete c[f]);return d.call(a,g,c)}var g,a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),
typeof d==="function"?b({"":g},""):g;throw new SyntaxError("JSON.parse");};var o={a:[1,2,3]},m,r;if(Object.toJSON&&Object.toJSON(o).replace(/\s/g,"")==='{"a":[1,2,3]}')m=Object.toJSON;typeof String.prototype.evalJSON==="function"&&(o='{"a":[1,2,3]}'.evalJSON(),o.a&&o.a.length===3&&o.a[2]===3&&(r=function(a){return a.evalJSON()}));(function(){var a=[1,2,3];typeof a.toJSON==="function"&&(a=a.toJSON(),i=!(a&&a.length===3&&a[2]===3))})();if(i||!m||!r)return{stringify:f.stringify,parse:f.parse};return{stringify:m,
parse:r}});
DISQUS.define(function(){function h(a){for(b=1;a=j.shift();)a()}var j=[],c,f=document,i=f.documentElement,e=i.doScroll,b=/^loade|c/.test(f.readyState),d;f.addEventListener&&f.addEventListener("DOMContentLoaded",c=function(){f.removeEventListener("DOMContentLoaded",c,!1);h()},!1);e&&f.attachEvent("onreadystatechange",c=function(){/^c/.test(f.readyState)&&(f.detachEvent("onreadystatechange",c),h())});d=e?function(a){self!=top?b?a():j.push(a):function(){try{i.doScroll("left")}catch(g){return setTimeout(function(){d(a)},50)}a()}()}:
function(a){b?a():j.push(a)};return{domready:d}});
DISQUS.define("Events",function(){var h=/\s+/,j=Object.keys||function(f){if(f!==Object(f))throw new TypeError("Invalid object");var i=[],c;for(c in f)Object.prototype.hasOwnProperty.call(f,c)&&(i[i.length]=c);return i},c={on:function(f,c,e){var b,d;if(!c)return this;f=f.split(h);for(b=this._callbacks||(this._callbacks={});d=f.shift();)d=b[d]||(b[d]=[]),d.push(c),d.push(e);return this},off:function(f,c,e){var b,d,a;if(!(d=this._callbacks))return this;if(!f&&!c&&!e)return delete this._callbacks,this;
for(f=f?f.split(h):j(d);b=f.shift();)if(!(a=d[b])||!c&&!e)delete d[b];else for(b=a.length-2;b>=0;b-=2)c&&a[b]!==c||e&&a[b+1]!==e||a.splice(b,2);return this},once:function(f,c,e){if(!c)return this;var b=this;return this.on(f,function a(){b.off(f,a);c.apply(this,arguments)},e)},trigger:function(f){var c,e,b,d,a,g,l;if(!(e=this._callbacks))return this;l=[];f=f.split(h);d=1;for(a=arguments.length;d<a;d++)l[d-1]=arguments[d];for(;c=f.shift();){if(g=e.all)g=g.slice();if(b=e[c])b=b.slice();if(b){d=0;for(a=
b.length;d<a;d+=2)b[d].apply(b[d+1]||this,l)}if(g){c=[c].concat(l);d=0;for(a=g.length;d<a;d+=2)g[d].apply(g[d+1]||this,c)}}return this}};c.bind=c.on;c.unbind=c.off;return c});
DISQUS.define(function(h){function j(){throw Error(Array.prototype.join.call(arguments," "));}function c(a,d,g){if(a.addEventListener)a.addEventListener(d,g,!1);else if(a.attachEvent)a.attachEvent("on"+d,g);else throw Error("No event support.");}function f(a,d,g){g||(g=0);var b,f,c,e,i=0,l=function(){i=new Date;c=null;e=a.apply(b,f)};return function(){var o=new Date,j=d-(o-i);b=this;f=arguments;j<=0?(clearTimeout(c),c=null,i=o,e=a.apply(b,f)):c||(c=setTimeout(l,j+g));return e}}var i=h.document,e=
DISQUS.use("JSON"),b={},d={},a=0;if(!(DISQUS.version&&DISQUS.version()==="2")){c(h,"message",function(a){var g,b;for(b in d)if(Object.prototype.hasOwnProperty.call(d,b)&&a.origin==d[b].origin){g=!0;break}if(g)switch(g=e.parse(a.data),(b=d[g.sender])||j("Message from our server but with invalid sender UID:",g.sender),g.scope){case "host":b.trigger(g.name,g.data);break;case "global":DISQUS.trigger(g.name,g.data);break;default:j("Message",g.scope,"not supported. Sender:",a.origin)}},!1);c(h,"hashchange",
function(){DISQUS.trigger("window.hashchange",{hash:h.location.hash})},!1);c(h,"resize",function(){DISQUS.trigger("window.resize")},!1);c(h,"scroll",f(function(){DISQUS.trigger("window.scroll")},250,50));c(i,"click",function(){DISQUS.trigger("window.click")});var g=function(){this.uid=a++;b[this.uid]=this};DISQUS.extend(g.prototype,DISQUS.Events);g.prototype.destroy=function(){delete b[this.uid]};DISQUS.extend(g,{listByKey:function(){var a={},d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&
(a[d]=b[d]);return a},list:function(){var a=[],d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&a.push(b[d]);return a},get:function(a){if(Object.prototype.hasOwnProperty.call(b,a))return b[a];return null}});var l=function(g){g=g||{};this.state=l.INIT;this.uid=g.uid||a++;this.origin=g.origin;this.target=g.target;this.window=null;d[this.uid]=this;this.on("ready",function(){this.state=l.READY},this);this.on("die",function(){this.state=l.KILLED},this)};DISQUS.extend(l,{INIT:0,READY:1,KILLED:2});
DISQUS.extend(l.prototype,DISQUS.Events);l.prototype.sendMessage=function(a,d){var g=function(a,d,g){return function(){DISQUS.postMessage(g.window,a,d)}}(e.stringify({scope:"client",name:a,data:d}),this.origin,this);if(this.isReady())g();else this.on("ready",g)};l.prototype.hide=function(){};l.prototype.show=function(){};l.prototype.url=function(){return DISQUS.serialize(this.target,{disqus_version:"1371678751"})+"#"+this.uid};l.prototype.destroy=function(){this.state=l.KILLED;this.off()};l.prototype.isReady=
function(){return this.state===l.READY};l.prototype.isKilled=function(){return this.state===l.KILLED};var o=function(a){l.call(this,a);this.windowName=a.windowName};DISQUS.extend(o.prototype,l.prototype);o.prototype.load=function(){this.window=h.open("",this.windowName||"_blank");this.window.location=this.url()};o.prototype.isKilled=function(){return l.prototype.isKilled()||this.window.closed};var m=function(a){l.call(this,a);this.styles=a.styles||{};this.role=a.role||"application";this.container=
a.container;this.elem=null};DISQUS.extend(m.prototype,l.prototype);m.prototype.load=function(){var a=this.elem=i.createElement("iframe");a.setAttribute("id","dsq"+this.uid);a.setAttribute("data-disqus-uid",this.uid);a.setAttribute("allowTransparency","true");a.setAttribute("frameBorder","0");this.role&&a.setAttribute("role",this.role);DISQUS.extend(a.style,this.styles)};m.prototype.getOffset=function(){for(var a=this.elem,d=a,g=0,b=0;d;)g+=d.offsetLeft,b+=d.offsetTop,d=d.offsetParent;return{top:b,
left:g,height:a.offsetHeight,width:a.offsetWidth}};m.prototype.hide=function(){this.elem.style.display="none"};m.prototype.show=function(){this.elem.style.display=""};m.prototype.destroy=function(){l.prototype.destroy.call(this);this.elem&&this.elem.parentNode&&this.elem.parentNode.removeChild(this.elem)};var r=function(a){m.call(this,a);this.styles=DISQUS.extend({width:"100%",border:"none",overflow:"hidden",height:"0"},a.styles||{})};DISQUS.extend(r.prototype,m.prototype);r.prototype.load=function(a){var d=
this;m.prototype.load.call(d);var g=d.elem;g.setAttribute("width","100%");g.setAttribute("src",this.url());c(g,"load",function(){d.window=g.contentWindow;a&&a()});(DISQUS.isString(this.container)?i.getElementById(this.container)||i.body:this.container).appendChild(g)};var q=function(a){m.call(this,a);this.contents=a.contents;this.styles=DISQUS.extend({width:"100%",border:"none",overflow:"hidden"},a.styles||{})};DISQUS.extend(q.prototype,m.prototype);q.prototype.load=function(){m.prototype.load.call(this);
var a=this.elem;a.setAttribute("scrolling","no");(DISQUS.isString(this.container)?i.getElementById(this.container)||i.body:this.container).appendChild(a);this.window=a.contentWindow;try{this.window.document.open()}catch(d){a.src="javascript:var d=document.open();d.domain='"+i.domain+"';void(0);"}this.document=this.window.document;this.document.write(this.contents);this.document.close();if(a=this.document.body){var g=this.elem.style;g.height=g.minHeight=g.maxHeight=a.offsetHeight+"px"}};q.prototype.show=
function(){this.elem.style.display="block"};q.prototype.click=function(a){c(this.document.body,"click",function(d){a(d)})};var k=DISQUS.extend({},DISQUS.Events);return{log:function(a){var d=i.getElementById("messages");if(d){var g=i.createElement("p");g.innerHTML=a;d.appendChild(g)}},version:function(){return"2"},on:k.on,off:k.off,trigger:k.trigger,throttle:f,postMessage:function(a,d,g){a.postMessage(d,g)},WindowBase:l,Popup:o,Iframe:m,Channel:r,Sandbox:q,App:g}}});
DISQUS.define("next.host.utils",function(h,j){function c(a){if(!a||a.substring(a.length-8)!=="embed.js")return null;for(var d=[/(https?:)?\/\/(www\.)?disqus\.com\/forums\/([\w_\-]+)/i,/(https?:)?\/\/(www\.)?([\w_\-]+)\.disqus\.com/i,/(https?:)?\/\/(www\.)?dev\.disqus\.org\/forums\/([\w_\-]+)/i,/(https?:)?\/\/(www\.)?([\w_\-]+)\.dev\.disqus\.org/i],b,f=d.length,c=0;c<f;c++)if((b=a.match(d[c]))&&b.length&&b.length===4)return b[3];return null}function f(a,g,b){var c,b=b||g;if(a===d)return"";h.getComputedStyle?
c=d.defaultView.getComputedStyle(a,null).getPropertyValue(g):a.currentStyle&&(c=a.currentStyle[g]?a.currentStyle[g]:a.currentStyle[b]);return c=="transparent"||c===""||c=="rgba(0, 0, 0, 0)"?f(a.parentNode,g,b):c||null}function i(a){function d(a){a=Number(a).toString(16);return a.length==1?"0"+a:a}if(a.substr(0,1)==="#")return a;var b=/.*?rgb\((\d+),\s*(\d+),\s*(\d+)\)/.exec(a);if(!b||b.length!==4)return"";var a=d(b[1]),c=d(b[2]),b=d(b[3]);return"#"+a+c+b}function e(a,g,b,c){DISQUS.isString(g)&&(g=
d.createElement(g));var e=null;g.style.visibility="hidden";a.appendChild(g);e=f(g,b,c);a.removeChild(g);return e}function b(a){return a.toLowerCase().replace(/^\s+|\s+$/g,"").replace(/['"]/g,"")}var d=h.document;return{getShortnameFromUrl:c,getForum:function(a,d){var b=a.getElementsByTagName("script"),f=b.length,e,d=d||c;for(f-=1;f>=0;f--)if(e=b[f],e=e.getAttribute?e.getAttribute("src"):e.src,e=d(e),e!==null)return e.toLowerCase();return null},isSSL:function(a){return a.toLowerCase()==="https:"},
guessThreadTitle:function(){for(var a=d.getElementsByTagName("h1"),g=d.title,b=g.length,c=g,f=0.6,e=0;e<a.length;e++)(function(a){var a=a.textContent||a.innerText,d;if(!(a===null||a===j)){d=0;for(var e=Array(g.length),i=0;i<=g.length;i++){e[i]=Array(a.length);for(var h=0;h<=a.length;h++)e[i][h]=0}for(i=0;i<g.length;i++)for(h=0;h<a.length;h++)g[i]==a[h]&&(e[i+1][h+1]=e[i][h]+1,e[i+1][h+1]>d&&(d=e[i+1][h+1]));d/=b;d>f&&(f=d,c=a)}})(a[e]);return c},getContrastYIQ:function(a){a.match("^rgb")&&(a=i(a).substr(1));
var d=parseInt(a.substr(0,2),16),b=parseInt(a.substr(2,2),16),a=parseInt(a.substr(4,2),16);return(d*299+b*587+a*114)/1E3},colorToHex:i,getElementStyle:e,getAnchorColor:function(a){var b=d.createElement("a");b.href=+new Date;return e(a,b,"color")},normalizeFontValue:b,isSerif:function(a){for(var a=e(a,"span","font-family","fontFamily").split(","),d={courier:1,times:1,"times new roman":1,georgia:1,palatino:1,serif:1},c,f=0;f<a.length;f++)if(c=b(a[f]),d.hasOwnProperty(c))return!0;return!1},getBrowserSupport:function(a){if(a.postMessage){if(!a.JSON)return a.navigator.appName===
"Microsoft Internet Explorer"?2:1}else return 1;return 0},getPermalink:function(){var a=h.location.hash;return(a=a&&a.match(/comment\-([0-9]+)/))&&a[1]}}});
DISQUS.define("next.host.switches",function(){function h(h){DISQUS.App.call(this);this.switches={};this.settings=h;this.url=h.useSSL?"https://securecdn.disqus.com/1371678751/build/next-switches/client_ssl.html":"http://mediacdn.disqus.com/1371678751/build/next-switches/client.html";this.origin=h.useSSL?"https://securecdn.disqus.com":"http://mediacdn.disqus.com"}h.prototype=DISQUS.extend({init:function(){this.frame=new DISQUS.Channel({target:this.url,origin:this.origin,container:this.settings.container,
styles:{display:"none"}});this.frame.load()},fetch:function(h){var c=this,h=h||{},f=h.success;delete h.success;this.frame.on("switches.received",function(i){c.switches=i;DISQUS.trigger("switches.changed",i);f&&f(i)});this.frame.sendMessage("fetch",h)},enabled:function(h){return this.switches[h]?this.switches[h]:!1}},DISQUS.App.prototype);return{Switches:function(j){return new h(j)}}});
DISQUS.define("next.host.profile",function(h){var j=function(c){DISQUS.App.call(this);c=c||{};c.fullscreen=c.fullscreen!==!1;this.frame=null;this.settings=c;c.useSSL?(this.url="https://disqus.com/embed/profile/",this.origin="https://disqus.com"):(this.url="http://disqus.com/embed/profile/",this.origin="http://disqus.com");this.url=DISQUS.serialize(this.url,{f:c.forum,language:c.language})};DISQUS.extend(j.prototype,DISQUS.App.prototype);j.prototype.init=function(){var c=this.settings,f={uid:this.uid,
target:this.url,origin:this.origin},i=c.fullscreen?{height:"100%",position:"fixed",top:0,left:0,zIndex:999999}:{height:"100%",padding:0},e=this.frame=c.windowName?new DISQUS.Popup(DISQUS.extend(f,{windowName:c.windowName})):new DISQUS.Channel(DISQUS.extend(f,{container:c.container||document.body,styles:i,role:"dialog"}));e.once("ready",function(){e.sendMessage("init",{referrer:h.location.href,fullscreen:c.fullscreen,switches:c.switches&&c.switches.switches});this.trigger("loading.init")},this);e.on("close",
function(){e.hide();h.focus()},this);e.on("renderProfile",function(b){this.trigger("renderProfile",b)},this);e.load();this.trigger("loading.start")};j.prototype.destroy=function(){this.frame&&this.frame.destroy()};j.prototype.show=function(c){DISQUS.isString(c)&&(c={username:c});var f=this.frame;if(!f.isReady())return void f.once("ready",function(){this.show(c)},this);f.sendMessage("showProfile",c);f.show()};return{Profile:function(c){return new j(c)}}});
DISQUS.define("next.host.backplane",function(){var h;try{localStorage.setItem("disqus.localStorageTest","disqus"),localStorage.removeItem("disqus.localStorageTest"),h=!0}catch(j){h=!1}var c=function(c){this.frame=c;this.credentials="unset";var i=this;typeof Backplane==="function"&&typeof Backplane.version==="string"&&typeof Backplane.subscribe==="function"&&h&&Backplane(function(){i.initialize()})};DISQUS.extend(c.prototype,{frameEvents:{invalidate:"clearCredentials"},initialize:function(){var c=
this;DISQUS.each(this.frameEvents,function(i,e){c.frame.on("backplane."+e,typeof i==="function"?i:c[i],c)});this.credentialsFromLocalStorage()&&this.frame.sendMessage("login",{backplane:this.credentials});this.subscribe()},subscribe:function(){var c=this;Backplane.subscribe(function(i){var e=c.handlers[i.type];e&&e.call(c,i)})},handlers:{"identity/login":function(c){var i=c.messageURL,c=c.channel;this.credentials!=="unset"&&this.credentials!==null&&this.credentials.channel===c&&this.credentials.messageUrl===
i||(this.setCredentials(c,i),this.frame.sendMessage("login",{backplane:this.getCredentials()}))}},credentialsFromLocalStorage:function(){var c=localStorage.getItem("disqus.backplane.channel"),i=localStorage.getItem("disqus.backplane.messageUrl");this.setCredentials(c,i,!0);return this.credentials},setCredentials:function(c,i,e){if(!c||!i)return void this.clearCredentials();e||(localStorage.setItem("disqus.backplane.channel",c),localStorage.setItem("disqus.backplane.messageUrl",i));this.credentials=
{channel:c,messageUrl:i}},getCredentials:function(){if(this.credentials!=="unset")return this.credentials;return this.credentialsFromLocalStorage()},clearCredentials:function(c){c=c||{};this.credentials=null;localStorage.removeItem("disqus.backplane.channel");localStorage.removeItem("disqus.backplane.messageUrl");if(c.redirectUrl)window.location=c.redirectUrl}});return{BackplaneIntegration:c}});
DISQUS.define("next.host.lounge",function(h,j){function c(d){for(var a=DISQUS.App.list(),b,c=0,f=a.length;c<f;c++)b=a[c],b instanceof e&&d(b)}var f=DISQUS.use("next.host.profile"),i=h.document,e=function(d){DISQUS.App.call(this);this.settings=d;this.container=d.container;this.indicators={north:null,south:null};this._boundGlobalEvents=[];this.frame=null;this.wasNearViewport=this.wasInViewport=!1};e.EVENTS_MAPPING={onReady:"loading.done",onNewComment:"posts.create",onPaginate:"posts.paginate",onIdentify:"session.identify"};
var b=e.prototype;DISQUS.extend(b,DISQUS.App.prototype);b.init=function(){function d(a,b,d){k.on("affiliateLink",function(c){var g=DISQUS.vglnk.$;if(!g)return void k.sendMessage("affiliateLink");g.request(a+"/click",{format:"jsonp",out:c.url,key:b,loc:k.target,subId:d},{fn:function(a){return function(b){var d={token:a};if(b)d.url=b;k.sendMessage("affiliateLink",d)}}(c.token),timeout:DISQUS.vglnk.opt("click_timeout")})})}function a(a,d){b._boundGlobalEvents.push(a);DISQUS.on(a,d,b)}var b=this,c=b.container,
e=b.settings,i="http://disqus.com/embed/comments/",r="http://disqus.com";e.useSSL&&(i="https://disqus.com/embed/comments/",r="https://disqus.com");var q={f:e.forum,t_i:e.identifier,t_u:e.url||h.location.href,t_s:e.slug,t_t:e.title||e.documentTitle,t_e:e.title,t_d:e.documentTitle,t_c:e.category,s_o:e.sortOrder,c:e.useConman||j};if(e.unsupported)q.n_s=e.unsupported;var k=b.frame=new DISQUS.Channel({origin:r,target:DISQUS.serialize(i,q),container:c,uid:b.uid,role:"complementary"});e.unsupported||(b.bindCallbacks(),
b.addLoadingAnim());k.on("ready",function(){var a={permalink:e.permalink,anchorColor:e.anchorColor,referrer:h.location.href,colorScheme:e.colorScheme,language:e.language,typeface:e.typeface,remoteAuthS3:e.remoteAuthS3,apiKey:e.apiKey,sso:e.sso,parentWindowHash:h.location.hash};if(h.navigator.userAgent.match(/(iPad|iPhone|iPod)/))a.width=k.elem.offsetWidth;k.sendMessage("init",a);b.trigger("loading.init")});k.on("resize",function(a){if(b.rendered)k.elem.style.height=a.height+"px",k.sendMessage("embed.resized"),
b.scrollListener()});k.on("reload",function(){h.location.reload()});k.on("reset",function(){DISQUS.reset({reload:!0})});k.on("session.identify",function(a){b.trigger("session.identify",a)});k.on("posts.paginate",function(){b.trigger("posts.paginate")});k.on("posts.create",function(a){b.trigger("posts.create",{id:a.id,text:a.raw_message})});k.on("scrollTo",function(a){var d=k.getOffset(),d=a.relative==="window"?a.top:d.top+a.top,c=b.getWindowYCoords();(a.force||!(d>c.pageYOffset&&d<c.pageYOffset+c.innerHeight))&&
h.scrollTo(0,d)});k.on("realtime.init",function(a){var d=["north","south"],c,e;e=k.getOffset().width+"px";for(var f={width:e,minWidth:e,maxWidth:e,position:"fixed"},i={north:{top:"0"},south:{bottom:"0"}},h=0;h<d.length;h++)e=d[h],c=new DISQUS.Sandbox({uid:"-indicator-"+e,container:b.container,contents:a[e].contents,styles:DISQUS.extend(i[e],f),role:"alert"}),c.load(),c.hide(),function(a){c.click(function(){k.sendMessage("realtime.click",a)})}(e),b.indicators[e]=c});k.on("realtime.showNorth",function(a){var d=
b.indicators.north;d.document.getElementById("message").innerHTML=a;d.show()});k.on("realtime.hideNorth",function(){b.indicators.north.hide()});k.on("realtime.showSouth",function(a){var d=b.indicators.south;d.document.getElementById("message").innerHTML=a;d.show()});k.on("realtime.hideSouth",function(){b.indicators.south.hide()});k.on("fail",function(a){b.removeLoadingAnim();k.elem.style.height="75px";b.trigger("fail",a)});k.on("mainViewRendered",function(a){b.rendered=!0;b.removeLoadingAnim();k.trigger("resize",
a);k.sendMessage("embed.rendered");b.trigger("loading.done")});k.on("profile.show",function(a){if(!b.profile||b.profile.frame.isKilled())b.profile=f.Profile({windowName:a.windowName,language:a.language,useSSL:e.useSSL,forum:e.forum,switches:e.switches}),b.profile.init();b.profile.show({id:a.userId})});k.once("loadLinkAffiliator",function(a){if(!h.vglnk_self&&!h.vglnk&&!function(){for(var a in h)if(a.indexOf("skimlinks")===0||a.indexOf("skimwords")===0)return!0;return!1}()){var b=a.apiUrl,c=a.key,
e=String(a.id);if(!(a.clientUrl==null||b==null||c==null||a.id==null))DISQUS.define("vglnk",function(){return{api_url:b,key:c,sub_id:e}}),h.vglnk_self="DISQUS.vglnk",DISQUS.require(a.clientUrl),DISQUS.defer(function(){return DISQUS.vglnk.opt},function(){k.sendMessage("affiliationOptions",{timeout:DISQUS.vglnk.opt("click_timeout")})}),d(b,c,e)}});k.once("loadBackplane",function(){b.backplane=new DISQUS.next.host.backplane.BackplaneIntegration(k)});k.load(function(){e.unsupported?(k.elem.style.height=
"500px",k.elem.setAttribute("scrolling","yes"),k.elem.setAttribute("horizontalscrolling","no"),k.elem.setAttribute("verticalscrolling","yes"),k.show()):(k.elem.setAttribute("scrolling","no"),k.elem.setAttribute("horizontalscrolling","no"),k.elem.setAttribute("verticalscrolling","no"))});a("window.hashchange",function(a){k.sendMessage("window.hashchange",a.hash)});a("window.resize",function(){k.sendMessage("window.resize")});a("window.scroll",b.scrollListener);a("window.click",function(){k.sendMessage("window.click")});
a("switches.changed",function(a){k.sendMessage("switches.changed",a)});b.trigger("loading.start")};b.bindCallbacks=function(){var d=this,a=e.EVENTS_MAPPING,b=d.settings.callbacks;b&&DISQUS.each(b,function(b,c){a[c]&&DISQUS.each(b,function(b){d.on(a[c],b)})})};b.addLoadingAnim=function(){var d,a,b,c=this.container,e=i.createElement("style");e.type="text/css";e.styleSheet?e.styleSheet.cssText=".disqus-loader{animation:disqus-embed-spinner .7s infinite linear;-webkit-animation:disqus-embed-spinner .7s infinite linear}@keyframes disqus-embed-spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes disqus-embed-spinner{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}":
e.appendChild(i.createTextNode(".disqus-loader{animation:disqus-embed-spinner .7s infinite linear;-webkit-animation:disqus-embed-spinner .7s infinite linear}@keyframes disqus-embed-spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes disqus-embed-spinner{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}"));d=i.createElement("div");a=i.createElement("div");b=i.createElement("div");a.appendChild(e);a.appendChild(b);d.appendChild(a);d.style.overflow=
"hidden";a.style.height=a.style.width="54px";a.style.margin="0 auto";a.style.overflow="hidden";b.style.height=b.style.width="29px";b.style.margin="11px 14px";b.className="disqus-loader";b.style.backgroundImage=a.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABmCAMAAACA210sAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAlhQTFRFMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtWDj2BwAAAMh0Uk5TAAABAQICAwMEBAUFBgYHBwgICQkKCgsLDAwNDQ4ODw8QEBEREhITExQUFRUWFhcXGBgZGRoaGxscHB0dHh4fHyAgISEjIyQkJSUmJigoKSkqKisrLCwtLS4uLy8wMDExMjIzMzQ0NTU2Njc3ODg5OTo6Ozs8PD09Pj4/P0BAQUFCQkNDRERFRUZGR0dISElJS0tMTE1NTk5PT1BQUVFSUlNTVFRVVVZWV1dYWFlZWlpbW1xcXV1eXl9fYGBhYWJiY2NkZGVlZmaMInkiAAAFVklEQVRo3u2Yf0hbVxTHP/flmYYQxFoXghMJzkpXQmszCd0ma7eKKyKuSOlKGaV0RaRzsIHIGDK2MqSsXVvKcKWIG6V0ItI5Z1tXZBsiIkWciC0iYsMIIbisC1mWhpDG/RFjfpvr4O2vnH+Se+/J575z3z3n5n4F2Uy12aotpUY1HFp1OecXo+S00vo6q9kYXF2ZnfLG+0QWYH2jw5jcEZi6P50dW33qoBL//sl4TqbpyPHSzB97bo2GMjr1bcfUjcbcWXIwlZb24uxBenvH0sM+b0s0om2PAJPBC+hS3KxfvrUtx8IZD+z9LZDcUfL1zqTWj98DtLVP/JP2nIc74+vonplfWQ2EDcZya22deb3T1zOZtOq9saf0jMy6vSarywdU3tAvdIRTmGdOxz5Dd8cWkqeyNzXG1i16ZWijs+MEQPjaUCTh+EU9DFxNZna2AhAZvPUkPXDLqebY++3rj7/xfhXwfTyX5LX/EhA9tZxYz/bjACx0/vQ0YzEDk9O27QD2vx/Gej6oBiKdcylub24DsWN8g9ncAcDAp39mfUV/jJp3Aux//Big9CMF+Go8xcfveR14/k6cuatHB0Qvf5MrZ55NiH0Ajl/8wKEDgOezNOeVV8tAca8z9Zd3AFy4nTsLmRX7AP2Ld9bgxAvA4Ey6S9HLwNP11HrHCnBjmM2sbwTA1gJUAWQgmQKwxpiWkwAz19ncriwBtJugDMCZ4eAOAeYY84QeCPZE8zBDn0eA4qOgAvgzPQKASQEobQbo85DPlgcBjhkIA2SpNSVAQAFoMADeYfLbzSBQ8hpPACwZw2YV8CoATQCDIQmmbwTgMCsA9oxhO4BTASw1QGQMGRsBqDPNADSr6aPNADNKnD7rlWI6lwG1bioCVDSlDb5iB6ITClAL8AA5mwbY9eTXjaRPWs1ugEmvEt/AjySZjwCs9EcAQ3tK8bpUAkT7UYBKgGVJphOgAucAwI2kgfq+KoChJVRQTYA/IMl0AZTB9Vob9+cBSn1RxeJorAVg6RqoYIwngJRFQgYwQqSr19ILUH6LkCl+Iru6QglmEGkosdT0nXWsApzVo4+PLXZ5Y6NBWAdLmbrOxXcfoO6NxHk81BsmiVksjTSkRKV0bBAnvl3amDXiLwZTsV+OWQmQyA/9UF2V2Rj0OmcnvMmROPcAVXNbYLoS5W90NMNFAX4HsEnGvjt7NU5nLgA4JJn78yedEj9XasukkDXVQGQ2L9O9DKhNUswmgJlAXiZjAEdUCWRJC8Bd8jP9AOGIBPOkAfBNSjBbAW7LrOZRgIFQfubuXUBI4uwwdKuAL9/sCnAE4GeJPIrV9WuB/MziBgCJk7i9BWB+VKLKHDYAiwuo5RUW9/QmyJMAgXNRCWYrgP5qhVmBQHeus87Y1QhAjztvPDocbwNsLzcJQN+oPsy6p2wXXgLg4j0kmO9Zk9ui9tBfzrV0r/L3P9wOwPXvJHacKLudkT/O4fHkW4Jib2pYv3dclPlPhTh9Jl6nPW7vQcP698W5RddqMGQyVpbb7fHqEjg3KVUTxLA56Ha7XB63OwKV3ZuU0QfnPXLlUOxxpcTZ0laS4755dVz2yMq4Fxtbj2WppO6bd8P8Zyao9Q0OU8q9Z3p8Koq8CZF1h9lqaixlRn0w5HWtLCytsSVTc8y0rahIpxNFz3S6Ip1Y26J2ITTQLoQG2oXQQLsQGmgXQgPtQmigXQgNtAuhgXYhNNAuhAbahShoFwXtoqBdFLSLgnZR0C4K2kVBuyhoFwXtIofOIDTQLoQG2sVzGmgX72qgXfyggXaxVwPtQmigXYj/S7tQU7WLrQCBfwFnft8xK3413wAAAABJRU5ErkJggg==)";
b.style.backgroundRepeat=a.style.backgroundRepeat="no-repeat";b.style.backgroundPosition="-54px 0";if(this.settings.colorScheme==="dark")a.style.backgroundPosition="0 -51px",b.style.backgroundPosition="-54px -51px";c.appendChild(d);this.loadingElem=d;this.timeout=setTimeout(function(){if(d)(new Image).src=DISQUS.serialize("//juggler.services.disqus.com/stat.gif",{event:"slow_embed"}),a.insertAdjacentHTML("afterend",'<p align="center">Disqus seems to be taking longer than usual. <a href="#" onclick="DISQUS.reset({reload: true}); return false;">Reload</a>?</p>')},
15E3)};b.removeLoadingAnim=function(){var b=this.loadingElem,a=this.container;if(this.timeout)h.clearTimeout(this.timeout),this.timeout=null;b&&b.parentNode===a&&a.removeChild(b)};b.destroy=function(){var b=this.indicators;this.off();if(this._boundGlobalEvents&&this._boundGlobalEvents.length)DISQUS.off(this._boundGlobalEvents.join(" "),null,this),this._boundGlobalEvents=null;this.removeLoadingAnim();this.frame&&this.frame.destroy();this.profile&&this.profile.destroy();if(b.north)b.north.destroy(),
b.north=null;if(b.south)b.south.destroy(),b.south=null;DISQUS.App.prototype.destroy.call(this)};b.getWindowYCoords=function(){if(typeof h.pageYOffset=="number")this.getWindowScroll=function(){return h.pageYOffset},this.getWindowHeight=function(){return h.innerHeight};else{var b=h.document,b=b.documentElement.clientHeight||b.documentElement.clientWidth?b.documentElement:b.body;this.getWindowScroll=function(){return b.scrollTop};this.getWindowHeight=function(){return b.clientHeight}}this.getWindowYCoords=
function(){return{pageYOffset:this.getWindowScroll(),innerHeight:this.getWindowHeight()}};return this.getWindowYCoords()};b.scrollListener=function(){var b=this.frame,a=b.getOffset(),c=a.top,e=c+a.height,f=this.getWindowYCoords(),i=f.pageYOffset,f=f.innerHeight,h=i+f,j=!1,k=!1;c<=h+f&&(k=(j=e>=i)&&c<=h);j&&(b.sendMessage("window.scroll",{frameOffset:a,pageOffset:i,height:f}),this.wasNearViewport||b.sendMessage("window.nearViewport"));this.wasNearViewport=j;if(k!==this.wasInViewport)b.sendMessage(k?
"window.inViewport":"window.scrollOffViewport"),this.wasInViewport=k};b=function(b){return new e(b)};DISQUS.extend(b,{listByKey:function(){var b={};c(function(a){b[a.uid]=a});return b},list:function(){var b=[];c(function(a){b.push(a)});return b},get:function(b){b=DISQUS.App.get(b);return b instanceof e&&b}});return{Lounge:b}});
DISQUS.define("next.host.ignition",function(h){function j(f){for(var e=DISQUS.App.list(),b,d=0,a=e.length;d<a;d++)b=e[d],b instanceof c&&f(b)}var c=function(c){DISQUS.App.call(this);this.settings=c;this.container=c.container;this._boundGlobalEvents=[];this.frame=null},f=c.prototype;DISQUS.extend(f,DISQUS.App.prototype);f.init=function(){var c=this,e=c.container,b=c.settings,d="http://disqus.com/embed/ignition/",a="http://disqus.com";b.useSSL&&(d="https://disqus.com/embed/ignition/",a="https://disqus.com");
var f=c.frame=new DISQUS.Channel({origin:a,target:DISQUS.serialize(d,{f:b.forum,t_i:b.identifier,t_u:b.url||h.location.href,t_s:b.slug,t_t:b.title||b.documentTitle,t_e:b.title,t_d:b.documentTitle,t_c:b.category}),container:e,uid:c.uid,role:"complementary"});f.on("ready",function(){f.sendMessage("init",{anchorColor:b.anchorColor,referrer:h.location.href,colorScheme:b.colorScheme,language:b.language,typeface:b.typeface})});f.on("resize",function(a){f.elem.style.height=a.height+"px";f.sendMessage("embed.resized")});
f.on("fail",function(a){f.elem.style.height="75px";c.trigger("fail",a)});f.load(function(){f.elem.setAttribute("scrolling","no");f.elem.setAttribute("horizontalscrolling","no");f.elem.setAttribute("verticalscrolling","no")});(function(a,b){c._boundGlobalEvents.push(a);DISQUS.on(a,b,c)})("switches.changed",function(a){f.sendMessage("switches.changed",a)})};f.destroy=function(){this.off();if(this._boundGlobalEvents&&this._boundGlobalEvents.length)DISQUS.off(this._boundGlobalEvents.join(" "),null,this),
this._boundGlobalEvents=null;this.frame&&this.frame.destroy();DISQUS.App.prototype.destroy.call(this)};f=function(f){return new c(f)};DISQUS.extend(f,{listByKey:function(){var c={};j(function(e){c[e.uid]=e});return c},list:function(){var c=[];j(function(e){c.push(e)});return c},get:function(f){f=DISQUS.App.get(f);return f instanceof c&&f}});return{Ignition:f}});
DISQUS.define("next.host.config",function(h,j){var c=DISQUS.use("next.host.utils"),f=function(c,b){this.win=c;this.configurator=b;this.config={page:{url:j,title:j,slug:j,category_id:j,identifier:j,language:j,api_key:j,remote_auth_s3:j,author_s3:j},strings:j,sso:{},callbacks:{preData:[],preInit:[],onInit:[],afterRender:[],onReady:[],onNewComment:[],preReset:[],onPaginate:[],onIdentify:[]}}};f.DISQUS_GLOBALS=["shortname","identifier","url","title","category_id","slug"];var i=f.prototype;i.getContainer=
function(){var c=this.win;return c.document.getElementById(c.disqus_container_id||"disqus_thread")};i.runConfigurator=function(){var c=this.configurator||this.win.disqus_config;if(typeof c==="function")try{c.call(this.config)}catch(b){}};i.getValuesFromGlobals=function(){var e=this.win,b=this.config,d=b.page,a;DISQUS.each(f.DISQUS_GLOBALS,function(a){var b=e["disqus_"+a];typeof b!=="undefined"&&(d[a]=b)});this.runConfigurator();if(!b.forum)a=d.shortname,b.forum=a?a.toLowerCase():c.getForum(e.document);
b.demo=e.disqus_demo};i.toJSON=function(){var e=this.win,b=this.config,d=b.page,a=this.getContainer();this.getValuesFromGlobals();return{container:a,forum:b.forum,sortOrder:"default",permalink:c.getPermalink(),useSSL:c.isSSL(e.location.protocol),language:b.language,typeface:c.isSerif(a)?"serif":"sans-serif",anchorColor:c.getAnchorColor(a),colorScheme:128<c.getContrastYIQ(c.getElementStyle(a,"span","color"))?"dark":"light",url:d.url||e.location.href.replace(/#.*$/,""),title:d.title,documentTitle:c.guessThreadTitle(),
slug:d.slug,category:d.category_id,identifier:d.identifier,apiKey:d.api_key,remoteAuthS3:d.remote_auth_s3,sso:b.sso,useConman:b.demo,unsupported:c.getBrowserSupport(e),callbacks:b.callbacks}};return{HostConfig:f}});
(function(h,j){function c(a){i.configurator=a;a=i.toJSON();if(!d)a.container.innerHTML="",d=!0;if(!b)b=f.switches.Switches({container:a.container,useSSL:a.useSSL}),a.switches=b,b.init();e=!a.unsupported&&h.disqus_ignition?f.ignition.Ignition(a):f.lounge.Lounge(a);e.init();a.unsupported||b.fetch({data:{forum:a.forum}})}var f=DISQUS.use("next.host"),i=new f.config.HostConfig(h),e,b,d=!1;c();DISQUS.domready(function(){if(j.getElementsByClassName){var a=j.getElementsByClassName("dsq-brlink");a&&a.length&&
a[0].parentNode.removeChild(a[0])}});DISQUS.request={get:function(a,b,c){DISQUS.require(a,b,c)}};DISQUS.reset=function(a){a=a||{};e&&(e.destroy(),e=null);a.reload&&c(a.config)}})(this,this.document);