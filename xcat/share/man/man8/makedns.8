.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "MAKEDNS.8 8"
.TH MAKEDNS.8 8 "2013-02-06" "perl v5.8.8" "User Contributed Perl Documentation"
.SH "NAME"
\&\fBmakedns\fR \- sets up domain name services (DNS).
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBmakedns\fR [\fI\-h\fR|\fI\-\-help\fR]
.PP
\&\fBmakedns\fR [\-e|\-\-external] [\fI\-n\fR|\fI\-\-new\fR] [\fInoderange\fR]
.PP
\&\fBmakedns\fR [\-e|\-\-external] [\fI\-d\fR|\fI\-\-delete\fR \fInoderange\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBmakedns\fR configures a \s-1DNS\s0 server on the system you run it on, which is typically the xCAT management node.
.PP
The list of nodes to include comes from either the \fBnoderange\fR provided on the command line or the entries in the local /etc/hosts files. 
.PP
There are several bits of information that must be included in the xCAT database before running this command.
.PP
You must set the \fBforwarders\fR attributes in the xCAT \fBsite\fR definition. 
.PP
The \fBforwarders\fR value should be set to the \s-1IP\s0 address of one or more nameservers at your site that can resolve names outside of your cluster.  With this set up, all nodes ask the local nameserver to resolve names, and if it is a name that the \s-1MN\s0 \s-1DNS\s0 does not know about, it will try the forwarder names.
.PP
An xCAT \fBnetwork\fR definition must be defined for each network used in the cluster.  The \fBnet\fR and \fBmask\fR attributes will be used by the \fBmakedns\fR command.
.PP
A network \fBdomain\fR and \fBnameservers\fR values must be provided either in the \fBnetwork\fR definiton corresponding to the node or in the \fBsite\fR definition.
.PP
Only entries in /etc/hosts or the hosts specified by \fBnoderange\fR that have a corresponding xCAT network definition will be added to \s-1DNS\s0.
.PP
By default, \fBmakedns\fR sets up the \fBnamed\fR service and updates the \s-1DNS\s0 records on the local system (mamagement node). If the \-e flag is specified, it will also update the \s-1DNS\s0 records on any external \s-1DNS\s0 server that is listed in the /etc/resolv.conf on the management node. (Assuming the external \s-1DNS\s0 server can recognize the xCAT key as authentication.)
.PP
For more information on Cluster Name Resolution:
https://sourceforge.net/apps/mediawiki/xcat/index.php?title=Cluster_Name_Resolution
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-n\fR|\fB\-\-new\fR" 6
.IX Item "-n|--new"
Use this flag to create new named configuration and db files.
.IP "\fB\-d\fR|\fB\-\-delete\fR" 6
.IX Item "-d|--delete"
Remove the \s-1DNS\s0 records.
.IP "\fB\-e\fR|\fB\-\-external\fR" 6
.IX Item "-e|--external"
Update \s-1DNS\s0 records to the external \s-1DNS\s0 server listed in /etc/resolv.conf.
.IP "\fBnoderange\fR" 6
.IX Item "noderange"
A set of comma delimited node names and/or group names. See the \*(L"noderange\*(R" man page for details on additional supported formats.
.SH "Examples"
.IX Header "Examples"
.IP "1" 6
.IX Item "1"
To set up \s-1DNS\s0 for all the hosts in /etc/hosts file.
.Sp
\&\fBmakedns\fR
.IP "2" 6
.IX Item "2"
To set up \s-1DNS\s0 for \fInode1\fR.
.Sp
\&\fBmakedns\fR \fInode1\fR
.IP "3" 6
.IX Item "3"
To create a new named configuration and db files for all hosts in /etc/hosts.
.Sp
\&\fBmakedns\fR \fB\-n\fR
.IP "4" 6
.IX Item "4"
To delete the \s-1DNS\s0 records for \fInode1\fR.
.Sp
\&\fBmakedns\fR \fB\-d\fR \fInode1\fR
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fImakehosts\fR\|(8)
