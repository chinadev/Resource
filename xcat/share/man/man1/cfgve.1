.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "CFGVE.1 1"
.TH CFGVE.1 1 "2013-02-06" "perl v5.8.8" "User Contributed Perl Documentation"
.SH "NAME"
\&\fBcfgve\fR \- Configure the elements for a virtual environment.
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBcfgve\fR \fB\-t\fR dc \fB\-m\fR manager \fB\-o\fR object [\fB\-c\fR \fB\-k\fR nfs|localfs | \fB\-r\fR]
.PP
\&\fBcfgve\fR \fB\-t\fR cl \fB\-m\fR manager \fB\-o\fR object [\fB\-c\fR \fB\-p\fR cpu type| \fB\-r\fR \fB\-f\fR]
.PP
\&\fBcfgve\fR \fB\-t\fR sd \fB\-m\fR manager \fB\-o\fR object [\fB\-c\fR | \fB\-g\fR | \fB\-s\fR 
| \fB\-a\fR | \fB\-b\fR | \fB\-r\fR \fB\-f\fR]
.PP
\&\fBcfgve\fR \fB\-t\fR nw \fB\-m\fR manager \fB\-o\fR object [\fB\-c\fR \fB\-d\fR data center \fB\-n\fR 
vlan \s-1ID\s0 | \fB\-a\fR \fB\-l\fR cluster | \fB\-b\fR | \fB\-r\fR]
.PP
\&\fBcfgve\fR \fB\-t\fR tpl \fB\-m\fR manager \fB\-o\fR object [\fB\-r\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \fBcfgve\fR command can be used to configure a virtual environment for 
\&'Storage Domain', 'Network' and 'Template' objects.
.PP
The mandatory parameter \fB\-m manager\fR is used to specify the address of the 
manager of virtual environment. xCAT needs it to access the \s-1RHEV\s0 manager.
.PP
The mandatory parameter \fB\-t type\fR is used to specify the type of the target 
object.
.PP
Basically, \fBcfgve\fR command supports five types of object: \fBdc\fR, \fBcl\fR, 
\&\fBsd\fR, \fBnw\fR and \fBtpl\fR. 
.Sp
.RS 3
\&\fBdc\fR \- The \fBcreate\fR and \fBremove\fR operations are supported.
.Sp
\&\fBcl\fR \- The \fBcreate\fR and \fBremove\fR operations are supported.
.Sp
\&\fBsd\fR  \- The \fBcreate\fR, \fBattach\fR, \fBdetach\fR, \fBactivate\fR, 
\&\fBdeactivate\fR and \fBremove\fR operations are supported.
.Sp
\&\fBnw\fR  \- The \fBcreate\fR, \fBattach\fR, \fBdetach\fR and \fBremove\fR operations are supported.
.Sp
\&\fBtpl\fR \- The \fBremove\fR operation is supported.
.RE
.PP
The mandatory parameter \fB\-o object\fR is used to specify which object to configure.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-a\fR To attach the target object." 2
.IX Item "-a To attach the target object."
.PD 0
.IP "\fB\-b\fR To detach the target object." 2
.IX Item "-b To detach the target object."
.IP "\fB\-c\fR To create the target object." 2
.IX Item "-c To create the target object."
.PD
For creating of \fBStorage Domain\fR, the target storage domain will be created 
first, then attached to data center and activated.
.Sp
The parameters that used to create the storage domain are gotten 
from 'virtsd' table. The detail parameters in the virtsd table:
.RS 2
.Sp
.RS 3
\&\fBvirtsd.node\fR \- The name of the storage domain.
.Sp
\&\fBvirtsd.sdtype\fR \- The type of storage domain. Valid value: data, iso, export. 
Default value is 'data'.
.Sp
\&\fBvirtsd.stype\fR \- The storage type. \*(L"nfs\*(R" or \*(L"localfs\*(R".
.Sp
\&\fBvirtsd.location\fR \- The location of the storage. 
\&\fBnfs\fR: Format: [nfsserver:nfspath]. 
The \s-1NFS\s0 export directory must be configured for read write access and must 
be owned by vdsm:kvm.
\&\fBlocalfs\fR: \*(L"/data/images/rhev\*(R" is set by default.
.Sp
\&\fBvirtsd.host\fR \- A host must be specified for a storage doamin as \s-1SPM\s0 
(Storage Pool Manager) when initialize the storage domain. The role of \s-1SPM\s0 
may be migrated to other host by rhev-m during the running of the datacenter 
(For example, when the current \s-1SPM\s0 encountered issue or going to maintenance 
status.
.Sp
\&\fBvirtsd.datacenter\fR \- The storage will be attached to. 'Default' data center 
is the default value. 
.RE
.RE
.RS 2
.RE
.IP "\fB\-d\fR \fIdata center\fR" 2
.IX Item "-d data center"
The name of data center.
.Sp
Specify the 'Data Center' that will be used for the object to be attached to. 
It is used by <nw> type.
.IP "\fB\-f\fR It can be used with \fB\-r\fR to remove the target object by force." 2
.IX Item "-f It can be used with -r to remove the target object by force."
For removing of \fBStorage Domain\fR, if \fB\-f\fR is specified, the storage domain will be deactivated and detached from data center before the removing.
.IP "\fB\-g\fR To activate the target object." 2
.IX Item "-g To activate the target object."
.PD 0
.IP "\fB\-h\fR Display usage message." 2
.IX Item "-h Display usage message."
.IP "\fB\-k\fR \fIstorage type\fR" 2
.IX Item "-k storage type"
.PD
To specify the type of the storage type when creating the data center.
.Sp
Supported type: nfs; localfs.
.IP "\fB\-l\fR \fIcluster\fR" 2
.IX Item "-l cluster"
Specify the cluster for the network to attach to.
.IP "\fB\-m\fR \fImanager\fR" 2
.IX Item "-m manager"
Specify the manager of the virtual environment. 
.Sp
For \s-1RHEV\s0, the \s-1FQDN\s0 (Fully Qualified Domain Name) of the rhev manager have 
to be specified.
.IP "\fB\-n\fR \fIvlan \s-1ID\s0\fR" 2
.IX Item "-n vlan ID"
To specify the vlan number when creating a network.
.IP "\fB\-o\fR \fIobject\fR" 2
.IX Item "-o object"
The name of the target object.
.IP "\fB\-p\fR \fIcpu type\fR" 2
.IX Item "-p cpu type"
To specify the cpu type when creating the cluster.
\&\fBIntel Penryn Family\fR is default type.
.Sp
Supported type: \fBIntel Conroe Family\fR, \fBIntel Penryn Family\fR,
\&\fBIntel Nehalem Family\fR, \fBIntel Westmere Family\fR, \fB\s-1AMD\s0 Opteron G1\fR,
\&\fB\s-1AMD\s0 Opteron G2\fR, \fB\s-1AMD\s0 Opteron G3\fR
.IP "\fB\-r\fR To remove the target object." 2
.IX Item "-r To remove the target object."
For removing of \fBStorage Domain\fR, the storage space will be formatted after removing.
.IP "\fB\-s\fR To deactivate the target object." 2
.IX Item "-s To deactivate the target object."
.PD 0
.IP "\fB\-t\fR \fItype\fR" 2
.IX Item "-t type"
.PD
Specify the \fBtype\fR of the target object.
.Sp
Supported types:
 \fBdc\fR  \- Data Center
 \fBcl\fR  \- Cluster
 \fBsd\fR  \- Storage Domain
 \fBnw\fR  \- Network
 \fBtpl\fR \- Template
.SH "RETURN VALUE"
.IX Header "RETURN VALUE"
0  The command completed successfully.
.PP
1  An error has occurred.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
.IP "1. To create the Storage Domain 'sd1', enter:" 2
.IX Item "1. To create the Storage Domain 'sd1', enter:"
.Vb 1
\& cfgve -t sd -m <FQDN of rhev manager> -o sd1 -c
.Ve
.IP "2. To deactivate the Storage Domain 'sd1' from data center, enter:" 2
.IX Item "2. To deactivate the Storage Domain 'sd1' from data center, enter:"
.Vb 1
\& cfgve -t sd -m <FQDN of rhev manager> -o sd1 -s
.Ve
.IP "3. To remove the Storage Domain 'sd1', enter:" 2
.IX Item "3. To remove the Storage Domain 'sd1', enter:"
.Vb 1
\& cfgve -t sd -m <FQDN of rhev manager> -o sd1 -r
.Ve
.IP "4. To create the network 'nw1', enter:" 2
.IX Item "4. To create the network 'nw1', enter:"
.Vb 1
\& cfgve -t nw -m <FQDN of rhev manager> -o nw1 -c
.Ve
.IP "5. To remove the template 'tpl01', enter:" 2
.IX Item "5. To remove the template 'tpl01', enter:"
.Vb 1
\& cfgve -t tpl -m <FQDN of rhev manager> -o tpl01 -r
.Ve
.SH "FILES"
.IX Header "FILES"
/opt/xcat/bin/cfgve
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIlsve\fR\|(1)
