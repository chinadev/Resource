.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "MKNIMIMAGE.1 1"
.TH MKNIMIMAGE.1 1 "2013-02-06" "perl v5.8.8" "User Contributed Perl Documentation"
.SH "NAME"
\&\fBmknimimage\fR \- Use this xCAT command to create xCAT osimage definitions and related AIX/NIM resources. The command can also be used to update an existing AIX diskless image(SPOT).
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBmknimimage [\-h | \-\-help ]\fR
.PP
\&\fBmknimimage [\-V] \-u osimage_name [attr=val [attr=val ...]]\fR
.PP
\&\fBmknimimage [\-V] [\-f|\-\-force] [\-r|\-\-sharedroot] [\-D|\-\-mkdumpres] [\-l location] [\-c|\-\-completeosimage] [\-s image_source] [\-i current_image] [\-p|\-\-cplpp] [\-t nimtype] [\-m nimmethod] [\-n mksysbnode] [\-b mksysbfile] osimage_name [attr=val [attr=val ...]]\fR
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
This command will create both an xCAT osimage definition and the corresponding \s-1NIM\s0 resource definitions. The command can also be used to update an existing \s-1AIX\s0 diskless image(\s-1SPOT\s0).
.PP
The command will also install the \s-1NIM\s0 master software and configure \s-1NIM\s0 if needed.
.PP
The naming convention for the \s-1NIM\s0 \s-1SPOT\s0 resource definition is to use the same name as the xCAT osimage.  The naming convention for any other \s-1NIM\s0 resources that are created is \*(L"<osimage_name>_<resource_type>\*(R". (ex. \*(L"61image_lpp_source\*(R" )
.PP
When creating a mksysb image definition you must specify either the \*(L"\-n\*(R" or the \*(L"\-b\*(R" option. The \*(L"\-n\*(R" option can be used to create a mksysb image from an existing \s-1NIM\s0 client machine.  The \*(L"\-b\*(R" option can be used to specify an existing mksysb backup file.
.PP
\&\fBAdding software and configuration files to the osimage.\fR
.PP
When creating a diskless osimage definition you also have the option of automatically updating the \s-1NIM\s0 \s-1SPOT\s0 resource.  You can have additional software installed or you can have configuration files added or updated.  To have software installed you must provide either the names of \s-1NIM\s0 installp_bundle resources or fileset names on the command line using the \*(L"attr=val\*(R" option. You may also supply the installp flags, \s-1RPM\s0 flags, emgr flags to use when installing the software. 
.PP
To have configuration files updated you must provide the full path name of a \*(L"synclists\*(R" file which contains the the list of actual files to update.  The xCAT osimage definition that is created will contain the installp_bundle, otherpkgs, and synclists files that are provided on the command line.
.PP
\&\fBUpdating an existing xCAT osimage\fR
.PP
If you wish to update an existing diskless image after it has already been created you can use the \*(L"\-u\*(R" (update) option.  In this case the xCAT osimage definition will not be updated. 
.PP
There are two ways to use the update feature.  
.PP
You can update the osimage definition and run the \fBmknimimage\fR command with no \*(L"installp_bundle\*(R", \*(L"otherpkgs\*(R", or \*(L"synclists\*(R" command line values. The information for updating the \s-1SPOT\s0 will come from the osimage definition only.  This has the advantage of keeping a record of any changes that were made to the \s-1SPOT\s0. 
.PP
Or, you could do a more ad hoc update by providing one or more of the \*(L"installp_bundle\*(R", \*(L"otherpkgs\*(R", or \*(L"synclists\*(R" values on the command line. If any of these values are provided the \fBmknimimage\fR command will use those values only. The osimage definition will not be used or updated.
.PP
\&\s-1WARNING:\s0 Installing random \s-1RPM\s0 packages in a \s-1SPOT\s0 may have unpredictable consequences.  The \s-1SPOT\s0 is a very restricted environment and some \s-1RPM\s0 packages may corrupt the \s-1SPOT\s0 or even hang your management system.  Try to be very careful about the packages you install. When installing RPMs, if the mknimimage command hangs or if there are file systems left mounted after the command completes you may need to reboot your management node to recover.  This is a limitation of the current \s-1AIX\s0 support for diskless systems
.PP
\&\fBCopying an xCAT osimage.\fR
.PP
You can use the \*(L"\-i\*(R" and \*(L"\-p\*(R" options to copy an existing diskless osimage.   To do this you must supply the name of an existing xCAT osimage definition and the name of the new osimage you wish to create. The \fBmknimimage\fR command will do the following:
.PP
\&\- create a new xCAT osimage definition using the new name that was specified.
.PP
\&\- copy the \s-1NIM\s0 \s-1SPOT\s0 resource to a new location and define it to \s-1NIM\s0 using a new name.
.PP
\&\- if the original osimage included a \s-1NIM\s0 \*(L"shared_root\*(R" resource then a new shared_root resource will be created for the new \s-1SPOT\s0.
.PP
\&\- any other resources (or attributes) included in the original osimage will be included in the new osimage definition.
.PP
\&\- if the \*(L"\-p\*(R" option is specified then the original \s-1NIM\s0 lpp_source resource will be copied to a new location and redfined to \s-1NIM\s0. (The default would be to use the original lpp_source \- to save file system space.)
.PP
\&\fBAdditional information\fR
.PP
\&\s-1IMPORTANT:\s0  The \s-1NIM\s0 lpp_source and \s-1SPOT\s0 resources can get quite large. Always make sure that you have sufficient file system space available before running the \fBmknimimage\fR command.
.PP
To list the contents of the xCAT osimage definition use the xCAT \fBlsdef\fR command (\*(L"lsdef \-t osimage \-l \-o <osimage_name>\*(R").
.PP
To check the validity of a \s-1SPOT\s0 or lpp_source resource
.PP
To remove an xCAT osimage definition along with the associated \s-1NIM\s0 resource definitions use the \fBrmnimimage\fR command. Be careful not to accidently remove \s-1NIM\s0 resources if they are still needed.
.PP
To list a \s-1NIM\s0 resource definition use the \s-1AIX\s0 \fBlsnim\fR command (\*(L"lsnim \-l <resource_name>\*(R").
.PP
To check the validity of a \s-1SPOT\s0 or lpp_source resource use the \s-1AIX\s0 \fBnim\fR command (\*(L"nim \-o check <resourec\-name>\*(R").
.PP
To remove specific \s-1NIM\s0 resource definitons use the \s-1AIX\s0 \fBnim\fR command. (\*(L"nim \-o remove <resource\-name>\*(R").
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fBattr=val [attr=val ...]\fR" 10
.IX Item "attr=val [attr=val ...]"
Specifies one or more \*(L"attribute equals value\*(R" pairs, separated by spaces. Attr=val pairs must be specified last on the command line. 
.Sp
Currently supported attributes:
.RS 10
.IP "\fBbosinst_data\fR" 3
.IX Item "bosinst_data"
The name of a \s-1NIM\s0 bosinst_data resource.
.IP "\fBdump\fR" 3
.IX Item "dump"
The name of the \s-1NIM\s0 dump resource.
.IP "\fBfb_script\fR" 3
.IX Item "fb_script"
The name of a \s-1NIM\s0 fb_script resource.
.IP "\fBhome\fR" 3
.IX Item "home"
The name of the \s-1NIM\s0 home resource.
.IP "\fBinstallp_bundle\fR" 3
.IX Item "installp_bundle"
One or more comma separated \s-1NIM\s0 installp_bundle resources.
.IP "\fBlpp_source\fR" 3
.IX Item "lpp_source"
The name of the \s-1NIM\s0 lpp_source resource.
.IP "\fBmksysb\fR" 3
.IX Item "mksysb"
The name of a \s-1NIM\s0 mksysb resource.
.IP "\fBotherpkgs\fR" 3
.IX Item "otherpkgs"
One or more comma separated installp, emgr, or rpm packages.  The packages must
have prefixes of 'I:', 'E:', or 'R:', respectively. (ex. R:foo.rpm)
.IP "\fBpaging\fR" 3
.IX Item "paging"
The name of the \s-1NIM\s0 paging resource.
.IP "\fBresolv_conf\fR" 3
.IX Item "resolv_conf"
The name of the \s-1NIM\s0 resolv_conf resource.
.IP "\fBroot\fR" 3
.IX Item "root"
The name of the \s-1NIM\s0 root resource.
.IP "\fBscript\fR" 3
.IX Item "script"
The name of a \s-1NIM\s0 script resource.
.IP "\fBshared_home\fR" 3
.IX Item "shared_home"
The name of the \s-1NIM\s0 shared_home resource.
.IP "\fBshared_root\fR" 3
.IX Item "shared_root"
A shared_root resource represents a directory that can be used as a / (root) directory by one or more diskless clients.
.IP "\fBspot\fR" 3
.IX Item "spot"
The name of the \s-1NIM\s0 \s-1SPOT\s0 resource.
.IP "\fBsynclists\fR" 3
.IX Item "synclists"
The fully qualified name of a file containing a list of files to synchronize on the nodes.
.IP "\fBtmp\fR" 3
.IX Item "tmp"
The name of the \s-1NIM\s0 tmp resource.
.IP "\fBinstallp_flags\fR" 3
.IX Item "installp_flags"
The alternate flags to be passed along to the \s-1AIX\s0 installp command. (The default for installp_flags is \*(L"\-abgQXY\*(R".)
.IP "\fBrpm_flags\fR" 3
.IX Item "rpm_flags"
The alternate flags to be passed along to the \s-1AIX\s0 rpm command. (The default for
rpm_flags is \*(L"\-Uvh \*(R".) The mknimimage command will check each rpm to see if 
it is installed.  It will not be reinstalled unless you specify the appropriate
rpm option, such as '\-\-replacepkgs'.
.IP "\fBemgr_flags\fR" 3
.IX Item "emgr_flags"
The alternate flags to be passed along to the \s-1AIX\s0 emgr command. (There is no default flags for the emgr command.)
.IP "\fBdumpsize\fR" 3
.IX Item "dumpsize"
The maximum size for a single dump image the dump resource will accept. Space is not allocated until a client starts to dump. The default size is 50GB. The dump resource should be large enough to hold the expected \s-1AIX\s0 dump and snap data. 
.IP "\fBmax_dumps\fR" 3
.IX Item "max_dumps"
The maximum number of archived dumps for an individual client. The default is one. 
.IP "\fBsnapcollect\fR" 3
.IX Item "snapcollect"
Indicates that after a dump is collected then snap data should be collected. The snap data will be collected in the clients dump resource directory.  Values are \*(L"yes\*(R" or \*(L"no\*(R". The default is \*(L"no\*(R".
.IP "\fBnfs_vers\fR" 3
.IX Item "nfs_vers"
Value Specifies the \s-1NFS\s0 protocol version required for \s-1NFS\s0 access.
.IP "\fBnfs_sec\fR" 3
.IX Item "nfs_sec"
Value Specifies the security method required for \s-1NFS\s0 access.
.RE
.RS 10
.Sp
Note that you may specify multiple \*(L"script\*(R", \*(L"otherpkgs\*(R", and \*(L"installp_bundle\*(R" resources by using a comma seperated list. (ex. \*(L"script=ascript,bscript\*(R"). \s-1RPM\s0 names may be included in the \*(L"otherpkgs\*(R" list by using a \*(L"R:\*(R" prefix(ex. \*(L"R:whatever.rpm\*(R"). epkg (\s-1AIX\s0 interim fix package) file names may be included in the \*(L"otherpkgs\*(R" using the 'E:' prefix. (ex. \*(L"otherpkgs=E:IZ38930TL0.120304.epkg.Z\*(R").
.RE
.IP "\fB\-b mksysbfile\fR" 10
.IX Item "-b mksysbfile"
Used to specify the path name of a mksysb file to use when defining a \s-1NIM\s0 mksysb resource.
.IP "\fB\-c|\-\-completeosimage\fR" 10
.IX Item "-c|--completeosimage"
Complete the creation of the osimage definition passed in on the command line. This option will use any additonal values passed in on the command line and/or it will attempt to create required resources in order to complete the definition of the xCAT osimage.  For example, if the osimage definition is missing a spot or shared_root resource the command will create those resources and add them to the osimage definition.
.IP "\fB\-f|\-\-force\fR" 10
.IX Item "-f|--force"
Use the force option to re-create xCAT osimage definition. This option removes the old definition before creating the new one. It does not remove any of the \s-1NIM\s0 resource definitions named in the osimage definition.  Use the \fBrmnimimage\fR command to remove the \s-1NIM\s0 resources associated with an xCAT osimage definition.
.IP "\fB\-h |\-\-help\fR" 10
.IX Item "-h |--help"
Display usage message.
.IP "\fBosimage_name\fR" 10
.IX Item "osimage_name"
The name of the xCAT osimage definition.  This will be used as the name of the xCAT osimage definition as well as the name of the \s-1NIM\s0 \s-1SPOT\s0 resource.
.IP "\fB\-D|\-\-mkdumpres\fR" 10
.IX Item "-D|--mkdumpres"
Create a diskless dump resource.
.IP "\fB\-i current_image\fR" 10
.IX Item "-i current_image"
The name of an existing xCAT osimage that should be copied to make a new xCAT osimage definition. Only valid when defining a \*(L"diskless\*(R" or \*(L"dataless\*(R" type image.
.IP "\fB\-l location\fR" 10
.IX Item "-l location"
The directory location to use when creating new \s-1NIM\s0 resources. The default location is /install/nim.
.IP "\fB\-m nimmethod\fR" 10
.IX Item "-m nimmethod"
Used to specify the \s-1NIM\s0 installation method to use. The possible values are \*(L"rte\*(R" and \*(L"mksysb\*(R". The default is \*(L"rte\*(R".
.IP "\fB\-n mksysbnode\fR" 10
.IX Item "-n mksysbnode"
The xCAT node to use to create a mksysb image.  The node must be a defined as a \s-1NIM\s0 client machine.
.IP "\fB\-p|\-\-cplpp\fR" 10
.IX Item "-p|--cplpp"
Use this option when copying existing diskless osimages to indicate that you also wish to have the lpp_resource copied.  This option is only valid when using the \*(L"\-i\*(R" option.
.IP "\fB\-r|\-\-sharedroot\fR" 10
.IX Item "-r|--sharedroot"
Use this option to specify that a \s-1NIM\s0 \*(L"shared_root\*(R" resource be created for the \s-1AIX\s0 diskless nodes.  The default is to create a \s-1NIM\s0 \*(L"root\*(R" resource.  This feature is only available when using \s-1AIX\s0 version 6.1.4 or beyond. See the \s-1AIX/NIM\s0 documentation for a description of the \*(L"root\*(R" and \*(L"shared_root\*(R" resources.
.IP "\fB\-s image_source\fR" 10
.IX Item "-s image_source"
The source of software to use when creating the new \s-1NIM\s0 lpp_source resource. This could be a source directory or a previously defined \s-1NIM\s0 lpp_source resource name. 
.IP "\fB\-t nimtype\fR" 10
.IX Item "-t nimtype"
Used to specify the \s-1NIM\s0 machine type. The possible values are \*(L"standalone\*(R", \*(L"diskless\*(R" or \*(L"dataless\*(R".  The default is \*(L"standalone\*(R".
.IP "\fB\-u\fR" 10
.IX Item "-u"
Used to update an \s-1AIX/NIM\s0 \s-1SPOT\s0 resource with additional software and configuration files.  This option is only valid for xCAT diskless osimage objects. The \s-1SPOT\s0 resource associated with the xCAT osimage definition will be updated. This option can also be used to update the nfs_vers attribute from NFSv3 to NFSv4 for the \s-1NIM\s0 resources associated with diskful or diskless image.
.IP "\fB\-V |\-\-verbose\fR" 10
.IX Item "-V |--verbose"
Verbose mode.
.SH "RETURN VALUE"
.IX Header "RETURN VALUE"
.IP "0" 3
The command completed successfully.
.IP "1" 3
.IX Item "1"
An error has occurred.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
1) Create an osimage definition and the basic \s-1NIM\s0 resources needed to do a \s-1NIM\s0 \*(L"standalone\*(R" \*(L"rte\*(R" installation of node \*(L"node01\*(R".  Assume the software contained on the \s-1AIX\s0 product media has been copied to the /AIX/instimages directory.
.PP
\&\fBmknimimage \-s /AIX/instimages  61image\fR
.PP
2) Create an osimage definition that includes some additional \s-1NIM\s0 resources.
.PP
\&\fBmknimimage \-s /AIX/instimages 61image installp_bundle=mybndlres,addswbnd\fR
.PP
This command will create lpp_source, spot, and bosinst_data resources using the source specified by the \*(L"\-s\*(R" option.  The installp_bundle information will also be included in the osimage definition.  The mybndlres and addswbnd resources must be created before using this osimage definition to install a node.
.PP
3) Create an osimage definition that includes a mksysb image and related resources.
.PP
\&\fBmknimimage \-m mksysb \-n node27 newsysb spot=myspot bosinst_data=mybdata\fR
.PP
This command will use node27 to create a mksysb backup image and use that to define a \s-1NIM\s0 mksysb resource. The osimage definition will contain the name of the mksysb resource as well as the spot and bosinst_data resource.
.PP
4) Create an osimage definition using a mksysb image provided on the command line.
.PP
\&\fBmknimimage \-m mksysb \-b /tmp/backups/mysysbimage newsysb spot=myspot bosinst_data=mybdata\fR
.PP
This command defines a \s-1NIM\s0 mksysb resource using mysysbimage.
.PP
5) Create an osimage definition and create the required spot definition using the mksysb backup file provided on the command line.
.PP
\&\fBmknimimage \-m mksysb \-b /tmp/backups/mysysbimage newsysb bosinst_data=mybdata\fR
.PP
This command defines a \s-1NIM\s0 mksysb resource and a spot definition using mysysbimage.
.PP
6) Create a diskless image called 61dskls using the \s-1AIX\s0 source files provided in the /AIX/instimages directory.
.PP
\&\fBmknimimage \-t diskless \-s /AIX/instimages 61dskls\fR
.PP
7) Create a diskless image called \*(L"614dskls\*(R" that includes a \s-1NIM\s0 \*(L"shared_root\*(R" and a \*(L"dump\*(R" resource.  Use the existing \s-1NIM\s0 lpp_resource called \*(L"614_lpp_source\*(R". Also specify verbose output.
.PP
\&\fBmknimimage \-V \-r \-D \-t diskless \-s 614_lpp_source 614dskls snapcollect=yes\fR
.PP
The \*(L"snapcollect\*(R" attribute specifies that \s-1AIX\s0 \*(L"snap\*(R" data should be include when a system dump is initiated.
.PP
8) Create a new diskless image by copying an existing image.
.PP
\&\fBmknimimage \-t diskless \-i 61cosi 61cosi_updt1\fR
.PP
Note:  If you also wish to have the original lpp_source copied and defined use the \-p option.
.PP
\&\fBmknimimage \-t diskless \-i 61cosi \-p 61cosi_updt1\fR
.PP
9) Create a diskless image using an existing lpp_source resource named \*(L"61cosi_lpp_source\*(R" and include \s-1NIM\s0 tmp and home resources.  This assumes that the \*(L"mytmp\*(R" and \*(L"myhome\*(R" \s-1NIM\s0 resources have already been created by using \s-1NIM\s0 commands.
.PP
\&\fBmknimimage \-t diskless \-s 61cosi_lpp_source 611cosi tmp=mytmp home=myhome\fR
.PP
10) Create a diskless image and update it with additional software using rpm flags and configuration files. 
.PP
\&\fBmknimimage \-t diskless \-s 61cosi_lpp_source 61dskls otherpkgs=I:fset1,R:foo.rpm,E:IZ38930TL0.120304.epkg.Z synclists=/install/mysyncfile rpm_flags=\*(L"\-i \-\-nodeps\*(R"\fR
.PP
The xCAT osimage definition created by this command will include the \*(L"otherpkgs\*(R" and \*(L"synclists\*(R" values.  The \s-1NIM\s0 \s-1SPOT\s0 resource associated with this osimage will be updated with the additional software using rpm flags \*(L"\-i \-\-nodeps\*(R" and configuration files.
.PP
11) Update an existing diskless image (\s-1AIX/NIM\s0 \s-1SPOT\s0) using the information saved in the xCAT \*(L"61dskls\*(R" osimage definition. Also specify verbose messages.  
.PP
\&\fBmknimimage \-V \-u 61dskls\fR
.PP
12) Update an existing diskless image called \*(L"61dskls\*(R".  Install the additional software specified in the \s-1NIM\s0 \*(L"bndres1\*(R" and \*(L"bndres2\*(R" installp_bundle resources using the installp flags \*(L"\-agcQX\*(R".  (The \s-1NIM\s0 \*(L"bndres1\*(R" and \*(L"bndres2\*(R" definitions must be created before using them in this command.)
.PP
\&\fBmknimimage \-u 61dskls installp_bundle=bndres1,bndres2 installp_flags=\*(L"\-agcQX\*(R"\fR
.PP
Note that when \*(L"installp_bundle\*(R", \*(L"otherpkgs\*(R", or \*(L"synclists\*(R" values are specified with the \*(L"\-u\*(R" option then the xCAT osimage definiton is not used or updated.
.PP
13) Update an existing image to support NFSv4. Also specify verbose messages.  
.PP
\&\fBmknimimage \-V \-u 61dskls nfs_vers=4\fR
.SH "FILES"
.IX Header "FILES"
/opt/xcat/bin/mknimimage
.SH "NOTES"
.IX Header "NOTES"
This command is part of the xCAT software product.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIrmnimimage\fR\|(1)
