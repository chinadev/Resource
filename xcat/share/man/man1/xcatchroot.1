.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "XCATCHROOT.1 1"
.TH XCATCHROOT.1 1 "2013-02-06" "perl v5.8.8" "User Contributed Perl Documentation"
.SH "NAME"
\&\fBxcatchroot\fR \- Use this xCAT command to modify an xCAT AIX diskless operating system image.
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBxcatchroot \-h \fR
.PP
\&\fBxcatchroot [\-V] \-i osimage_name  cmd_string\fR
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
For \s-1AIX\s0 diskless images this command will modify the \s-1AIX\s0 \s-1SPOT\s0 resource using 
the chroot command.  You must include the name of an xCAT osimage
definition and the command that you wish to have run in the spot.
.PP
\&\s-1WARNING:\s0
.Sp
.Vb 3
\&        Be very careful when using this command!!!  Make sure you are
\&        very clear about exactly what you are changing so that you do
\&        not accidently corrupt the image.
.Ve
.Sp
.Vb 2
\&        As a precaution it is advisable to make a copy of the original
\&        spot in case your changes wind up corrupting the image.
.Ve
.PP
When you are done updating a \s-1NIM\s0 spot resource you should always run the \s-1NIM\s0
check operation on the spot.
.Sp
.Vb 1
\&        nim -Fo check <spot_name>
.Ve
.PP
The xcatchroot command will take care of any of the required setup so that 
the command you provide will be able to run in the spot chroot environment.
It will also mount the lpp_source resource listed in the osimage definition
so that you can access additional software that you may wish to install.
.PP
For example, assume that the location of the spot named in the xCAT osimage 
definition is /install/nim/spot/614spot/usr. The associated root directory in
this spot would be /install/nim/spot/614spot/usr/lpp/bos/inst_root.  The chroot
is automatically done to this new root directory.  The spot location is 
mounted on /.../inst_root/usr so that when your command is run in the chroot
environment it is actually running commands from the spot usr location.
.PP
Also, the location of the lpp_source resource specified in the osimage 
definition will be mounted to a subdirectory of the spot /.../inst_root
directory.  For example, if the lpp_source location is 
/install/nim/lpp_source/614lpp_lpp_source then that would be mounted over
/install/nim/spot/614spot/usr/lpp/bos/inst_root/lpp_source.  
.PP
When you provide a command string to run make sure you give the full paths
of all commands and files assuming the /.../inst_root directory is you root
directory.  
.PP
If you wish to install software from the lpp_source location you would
provide a directory location of /lpp_source (or /lpp_source/installp/ppc 
or /lpp_source/RPMS/ppc etc.) See the example below.
.PP
Always run the \s-1NIM\s0 check operation after you are done updating your spot.
(ex. \*(L"nim \-o check <spot_name>\*(R")
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fBcmd_string\fR" 10
.IX Item "cmd_string"
The command you wish to have run in the chroot environment.  (Use a quoted 
string.)
.IP "\fB\-h |\-\-help\fR" 10
.IX Item "-h |--help"
Display usage message.
.IP "\fB\-i osimage_name\fR" 10
.IX Item "-i osimage_name"
The name of the xCAT osimage definition. 
.IP "\fB\-V |\-\-verbose\fR" 10
.IX Item "-V |--verbose"
Verbose mode.
.SH "RETURN VALUE"
.IX Header "RETURN VALUE"
.IP "0" 3
The command completed successfully.
.IP "1" 3
.IX Item "1"
An error has occurred.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
1) Set the root password to \*(L"cluster\*(R" in the spot so that when the diskless 
node boots it will have a root password set.
.PP
\&\fBxcatchroot \-i 614spot \*(L"/usr/bin/echo root:cluster | /usr/bin/chpasswd \-c\*(R"\fR
.PP
2) Install the bash rpm package.
.PP
\&\fBxcatchroot \-i 614spot \*(L"/usr/bin/rpm \-Uvh /lpp_source/RPMS/ppc bash\-3.2\-1.aix5.2.ppc.rpm\*(R"\fR
.PP
3) To enable system debug.
.PP
\&\fBxcatchroot \-i 614spot \*(L"bosdebug \-D \-M\*(R"\fR
.PP
4) To set the \*(L"ipforwarding\*(R" system tunable.
.PP
\&\fBxcatchroot \-i 614spot \*(L"/usr/sbin/no \-r \-o ipforwarding=1\*(R"\fR
.SH "FILES"
.IX Header "FILES"
/opt/xcat/bin/xcatchroot
.SH "NOTES"
.IX Header "NOTES"
This command is part of the xCAT software product.
