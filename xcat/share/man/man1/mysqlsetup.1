.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "MYSQLSETUP.1 1"
.TH MYSQLSETUP.1 1 "2013-02-06" "perl v5.8.8" "User Contributed Perl Documentation"
.SH "NAME"
\&\fBmysqlsetup\fR \- Sets up the MySQL database for xCAT to use.  
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBmysqlsetup\fR {\fB\-h\fR|\fB\-\-help\fR}
.PP
\&\fBmysqlsetup\fR {\fB\-v\fR|\fB\-\-version\fR}
.PP
\&\fBmysqlsetup\fR {\fB\-i\fR|\fB\-\-init\fR} [\fB\-f\fR|\fB\-\-hostfile\fR] [\-o|\-\-odbc] [\-L|\-\-LL] [\fB\-V\fR|\fB\-\-verbose\fR]
.PP
\&\fBmysqlsetup\fR {\fB\-u\fR|\fB\-\-update\fR} [\fB\-f\fR|\fB\-\-hostfile\fR] [\-o|\-\-odbc] [\-L|\-\-LL]          [\fB\-V\fR|\fB\-\-verbose\fR]
.PP
\&\fBmysqlsetup\fR {\fB\-o\fR|\fB\-\-odbc\fR} [\-V|\-\-verbose] 
.PP
\&\fBmysqlsetup\fR {\fB\-L\fR|\fB\-\-LL\fR} [\-V|\-\-verbose] 
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBmysqlsetup\fR \- Sets up the MySQL database for xCAT to use. The mysqlsetup script is run on the Management Node as root after the MySQL code has been installed. Before running the init option, the MySQL server should be stopped.  The xCAT daemon, xcatd, must be running, do not stop it. No xCAT commands should be run during the init process, because we will be migrating the xCAT database to MySQL and restarting the xcatd daemon as well as the MySQL daemon. For full information on all the steps that will be done, read the \*(L"Configure MySQL and Migrate xCAT Data to MySQL\*(R" sections in 
https://sourceforge.net/apps/mediawiki/xcat/index.php?title=Setting_Up_MySQL_as_the_xCAT_DB
Two passwords must be supplied for the setup,  a password for the xcatadmin id and a password for the root id in the MySQL database.  These will be prompted for interactively, unless the environment variables \s-1XCATMYSQLADMIN_PW\s0 and  \s-1XCATMYSQLROOT_PW\s0 are set to the passwords for the xcatadmin id and root id in the database,resp. 
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-h|\-\-help\fR" 6
.IX Item "-h|--help"
Displays the usage message.
.IP "\fB\-v|\-\-version\fR" 6
.IX Item "-v|--version"
Displays the release version of the code.
.IP "\fB\-V|\-\-verbose\fR" 6
.IX Item "-V|--verbose"
Displays verbose messages.
.IP "\fB\-i|\-\-init\fR" 6
.IX Item "-i|--init"
The init option is used to setup an installed MySQL database so that xCAT can use the database.  This involves creating the xcatdb database, the xcatadmin id, allowing access to the xcatdb database by the Management Node. It customizes the my.cnf configuration file for xcat and starts the MySQL server.  It also backs up the current xCAT database and restores it into the newly setup xcatdb MySQL database.  It creates the /etc/xcat/cfgloc file to point the xcatd daemon to the MySQL database and restarts the xcatd daemon using the database. 
On \s-1AIX\s0, it additionally setup the mysql id and group and corrects the permissions in the MySQL install directories. For \s-1AIX\s0, you should be using the MySQL rpms available from the xCAT website. For Linux, you should use the MySQL rpms shipped with the \s-1OS\s0. You can chose the \-f and/or the \-o option, to run after the init. 
.IP "\fB\-u|\-\-update\fR" 6
.IX Item "-u|--update"
To run the update option,  you must first have run the \-i option and have xcat successfully running on the MySQL database. You can chose the \-f and/or the \-o option, to update.    
.IP "\fB\-f|\-\-hostfile\fR" 6
.IX Item "-f|--hostfile"
This option runs during update, it will take all the host from the input file (provide a full path) and give them database access to the xcatdb in  MySQL for the xcatadmin id. Wildcards and ipaddresses may be used. xCAT  must have been previously successfully setup to use MySQL. xcatadmin and MySQL root password are required. 
.IP "\fB\-o|\-\-odbc\fR" 6
.IX Item "-o|--odbc"
This option sets up the \s-1ODBC\s0  /etc/../odbcinst.ini, /etc/../odbc.ini and the .odbc.ini file in roots home directory will be created and initialized to run off the xcatdb MySQL database.
See \*(L"Add \s-1ODBC\s0 Support\*(R" in
https://sourceforge.net/apps/mediawiki/xcat/index.php?title=Setting_Up_MySQL_as_the_xCAT_DB
.IP "\fB\-L|\-\-LL\fR" 6
.IX Item "-L|--LL"
Additional database configuration specifically for the LoadLeveler product. 
See \*(L"Add \s-1ODBC\s0 Support\*(R" in
https://sourceforge.net/apps/mediawiki/xcat/index.php?title=Setting_Up_MySQL_as_the_xCAT_DB
.SH "ENVIRONMENT VARIABLES"
.IX Header "ENVIRONMENT VARIABLES"
.IP "\(bu" 2
\&\fB\s-1XCATMYSQLADMIN_PW\s0\fR \- the password for the xcatadmin id that will be assigned in the MySQL database.
.IP "\(bu" 2
\&\fB\s-1XCATMYSQLROOT_PW\s0\fR \- the password for the root id that will be assigned to the MySQL root id, if the script creates it.  The password to use to run MySQL command to the database as the MySQL root id.  This password may be different than the unix root password on the Management Node.  
.SH "EXAMPLES"
.IX Header "EXAMPLES"
.IP "\(bu" 2
To setup MySQL for xCAT to run on the MySQL xcatdb database :
.Sp
\&\fBmysqlsetup\fR \fI\-i\fR
.IP "\(bu" 2
Add hosts from /tmp/xcat/hostlist that can access the xcatdb database in MySQL:
.Sp
\&\fBmysqlsetup\fR \fI\-u\fR \fI\-f /tmp/xcat/hostlist\fR
.Sp
Where the file contains a host per line, for example:
.Sp
.Vb 4
\&         node1
\&         1.115.85.2
\&         10.%.%.%
\&         nodex.cluster.net
.Ve
.IP "\(bu" 2
To setup the \s-1ODBC\s0 for MySQL xcatdb database access :
.Sp
\&\fBmysqlsetup\fR \fI\-o\fR
.IP "\(bu" 2
To setup MySQL for xCAT and add hosts from /tmp/xcat/hostlist and setup the \s-1ODBC\s0 in Verbose mode:
.Sp
\&\fBmysqlsetup\fR \fI\-i\fR \fI\-f /tmp/xcat/hostlist\fR \fI\-o\fR \fI\-V\fR
