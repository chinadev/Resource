.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "RMDSKLSNODE.1 1"
.TH RMDSKLSNODE.1 1 "2013-06-18" "perl v5.8.8" "User Contributed Perl Documentation"
.SH "NAME"
\&\fBrmdsklsnode\fR \- Use this xCAT command to remove AIX/NIM diskless machine definitions.
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBrmdsklsnode [\-h | \-\-help ]\fR
.PP
\&\fBrmdsklsnode [\-V|\-\-verbose] [\-f|\-\-force] [\-r|\-\-remdef] [\-i image_name] [\-p|\-\-primarySN] [\-b|\-\-backupSN] noderange\fR
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
Use this command to remove all \s-1NIM\s0 client machine definitions that were created for the specified xCAT nodes.
.PP
The xCAT node definitions will not be removed. Use the xCAT \fBrmdef\fR command to remove xCAT node definitions.
.PP
If you are using xCAT service nodes the \fBrmdsklsnode\fR command will automatically determine the correct server(s) for the node and remove the \s-1NIM\s0 definitions on that server(s).
.PP
If the node you are trying to remove is currently running the \fBrmdsklsnode\fR command will not remove the definitions.  You can use the \*(L"\-f\*(R" option to shut down the node and remove the definition.
.PP
\&\fBRemoving alternate \s-1NIM\s0 client definitions\fR
.PP
If you used the \*(L"\-n\*(R" option when you created the \s-1NIM\s0 client definitions with the \fBmkdsklsnode\fR command then the \s-1NIM\s0 client machine names would be a combination of the xCAT node name and the osimage name used to initialize the \s-1NIM\s0 machine. To remove these definitions you must provide the name of the osimage that was used using the \*(L"\-i\*(R" option.
.PP
In most cases you would most likely want to remove the old client definitions without disturbing the nodes that you just booted with the new alternate client definition. The \fBrmdsklsnode \-r\fR option can be used to remove the old alternate client defintions without stopping the running node.
.PP
However, if you have \s-1NIM\s0 dump resources assign to your nodes be aware that when the old \s-1NIM\s0 alternate client definitions are removed it will leave the nodes unable to produce a system dump.  This is a current limitation in the \s-1NIM\s0 support for alternate client definitions.  For this reason it is recommended that you wait to do this cleanup until right before you do your next upgrade.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-f |\-\-force\fR" 10
.IX Item "-f |--force"
Use the force option to stop and remove running nodes. This handles the situation where a \s-1NIM\s0 machine definition indicates that a node is still running even though it is not.
.IP "\fB\-b |\-\-backupSN\fR" 10
.IX Item "-b |--backupSN"
When using backup service nodes only update the backup.  The default is to updat
e both the primary and backup service nodes.
.IP "\fB\-h |\-\-help\fR" 10
.IX Item "-h |--help"
Display usage message.
.IP "\fB\-i image_name\fR" 10
.IX Item "-i image_name"
The name of an xCAT image definition.
.IP "\fBnoderange\fR" 10
.IX Item "noderange"
A set of comma delimited node names and/or group names. See the \*(L"noderange\*(R" man page for details on additional supported formats.
.IP "\fB\-p|\-\-primarySN\fR" 10
.IX Item "-p|--primarySN"
When using backup service nodes only update the primary.  The default is to upda
te both the primary and backup service nodes.
.IP "\fB\-r|\-\-remdef\fR" 10
.IX Item "-r|--remdef"
Use this option to reset, deallocate, and remove \s-1NIM\s0 client definitions.  This option will not attempt to shut down running nodes. This option should be used when remove alternate \s-1NIM\s0 client definitions that were created using \fBmkdsklsnode \-n\fR.
.IP "\fB\-V |\-\-verbose\fR" 10
.IX Item "-V |--verbose"
Verbose mode.
.SH "RETURN VALUE"
.IX Header "RETURN VALUE"
.IP "0" 3
The command completed successfully.
.IP "1" 3
.IX Item "1"
An error has occurred.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
1) Remove the \s-1NIM\s0 client definition for the xCAT node named \*(L"node01\*(R". Give verbose output.
.PP
\&\fBrmdsklsnode \-V node01\fR
.PP
2) Remove the \s-1NIM\s0 client definitions for all the xCAT nodes in the group \*(L"aixnod
es\*(R". Attempt to shut down the nodes if they are running.
.PP
\&\fBrmdsklsnode \-f aixnodes\fR
.PP
3) Remove the \s-1NIM\s0 client machine definition for xCAT node \*(L"node02\*(R" that was created with the \fBmkdsklsnode \-n\fR option and the image \*(L"AIXdskls\*(R". (i.e. \s-1NIM\s0 client machine name \*(L"node02_AIXdskls\*(R".)
.PP
\&\fBrmdsklsnode \-i AIXdskls node02\fR
.PP
This assume that node02 is not currently running.
.PP
4) Remove the old alternate client definition \*(L"node27_olddskls\*(R".
.PP
\&\fBrmdsklsnode \-r \-i olddskls node27\fR
.PP
Assuming the node was booted using an new alternate \s-1NIM\s0 client definition then this will leave the node running.
.SH "FILES"
.IX Header "FILES"
/opt/xcat/bin/rmdsklsnode
.SH "NOTES"
.IX Header "NOTES"
This command is part of the xCAT software product.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fImkdsklsnode\fR\|(1)
