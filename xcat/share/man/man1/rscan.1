.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "RSCAN.1 1"
.TH RSCAN.1 1 "2013-07-12" "perl v5.8.8" "User Contributed Perl Documentation"
.SH "NAME"
\&\fBrscan\fR \- Collects node information from one or more hardware control points.
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fIrscan [\-h|\-\-help]\fR
.PP
\&\fIrscan [\-v|\-\-version]\fR
.PP
\&\fIrscan [\-V|\-\-verbose] noderange [\-u][\-w][\-x|\-z]\fR
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The rscan command lists hardware information for each node managed by the hardware control points specified in noderange.
.PP
For the management module of blade, if the blade server is a Flex system P node, the fsp belongs to the blade server also will be scanned.
.PP
Note: The first line of the output always contains information about the hardware control point. When using the rscan command to generate output for \s-1HMC\s0 or \s-1IVM\s0 hardware control points, it provides the FSPs and BPAs as part of the output. The only exception is the rscan \-u flag which provides updates made hardware control point in the xCAT database. 
.SH "OPTIONS"
.IX Header "OPTIONS"
\&\fB\-h\fR          Display usage message.
.PP
\&\fB\-v\fR          Command Version.
.PP
\&\fB\-V\fR          Verbose output.
.PP
\&\fB\-u\fR          Updates and then prints out node definitions in the xCAT database for \s-1CEC/BPA\s0. It updates the existing nodes that contain the same mtms and serial number for nodes managed by the specified hardware control point. This primarily works with \s-1CEC/FSP\s0 and frame/BPA nodes when the node name is not the same as the managed system name on hardware control point (\s-1HMC\s0), This flag will update the \s-1BPA/FSP\s0 node name definitions to be listed as the managed system name in the xCAT database.  
.PP
For the Flex system manager, both the blade server and fsp object of xCAT will be updated if the mpa and slot id are matched to the object which has been defined in the xCAT database.
.PP
Note: only the matched object will be updated.
.PP
\&\fB\-w\fR          Writes output to xCAT database.
.PP
\&\fB\-x\fR          \s-1XML\s0 format.
.PP
\&\fB\-z\fR          Stanza formated output.
.SH "RETURN VALUE"
.IX Header "RETURN VALUE"
.Vb 1
\&  0 The command completed successfully.
.Ve
.PP
.Vb 1
\&  1 An error has occurred.
.Ve
.SH "EXAMPLES"
.IX Header "EXAMPLES"
1. To list all nodes managed by \s-1HMC\s0 hmc01 in tabular format, enter:
.PP
\&\fIrscan hmc01\fR
.PP
Output is similar to:
.PP
.Vb 1
\&  type    name                       id   type-model  serial-number  address
.Ve
.PP
.Vb 6
\&  hmc     hmc01                           7310-C05    10F426A        hmc01
\&  fsp     Server-9117-MMA-SN10F6F3D       9117-MMA    10F6F3D        3.3.3.197
\&  lpar    lpar3                       4   9117-MMA    10F6F3D
\&  lpar    lpar2                       3   9117-MMA    10F6F3D
\&  lpar    lpar1                       2   9117-MMA    10F6F3D
\&  lpar    p6vios                      1   9117-MMA    10F6F3D
.Ve
.PP
2. To list all nodes managed by \s-1IVM\s0 ivm02 in \s-1XML\s0 format and write the output to the xCAT database, enter:
.PP
\&\fIrscan ivm02 \-x \-w\fR
.PP
Output is similar to:
.PP
.Vb 13
\& <Node>
\&   <cons></cons>
\&   <profile></profile>
\&   <parent></parent>
\&   <serial>10B7D1G</serial>
\&   <model>9133-55A</model>
\&   <node>Server-9133-55A-10B7D1G</node>
\&   <mgt>ivm</mgt>
\&   <nodetype>fsp</nodetype>
\&   <hcp>ivm02</hcp>
\&   <groups>fsp,all</groups>
\&   <id>10</id>
\& </Node>
.Ve
.PP
.Vb 13
\& <Node>
\&   <cons>ivm</cons>
\&   <profile>lpar01</profile>
\&   <parent>Server-9133-55A-10B7D1G</parent>
\&   <serial></serial>
\&   <model></model>
\&   <node>lpar01</node>
\&   <mgt>ivm</mgt>
\&   <nodetype>lpar,osi</nodetype>
\&   <hcp>ivm02</hcp>
\&   <groups>lpar,all</groups>
\&   <id>1</id>
\& <Node>
.Ve
.PP
.Vb 13
\& </Node>
\&   <cons>ivm</cons>
\&   <profile>lpar02</profile>
\&   <parent>Server-9133-55A-10B7D1G</parent>
\&   <serial></serial>
\&   <model></model>
\&   <node>lpar02</node>
\&   <mgt>ivm</mgt>
\&   <nodetype>lpar,osi</nodetype>
\&   <hcp>ivm02</hcp>
\&   <groups>lpar,all</groups>
\&   <id>2</id>
\& </Node>
.Ve
.PP
3. To list all nodes managed by \s-1HMC\s0 hmc02 in stanza format and write the output to the xCAT database, enter:
.PP
\&\fIrscan hmc02 \-z \-w\fR
.PP
Output is similar to:
.PP
.Vb 12
\&  Server-9458-100992001Y_B:
\&    objtype=node
\&    nodetype=bpa
\&    id=2
\&    model=9458-100
\&    serial=992001Y
\&    hcp=hmc02
\&    profile=
\&    parent=
\&    groups=bpa,all
\&    mgt=hmc
\&    cons=
.Ve
.PP
.Vb 12
\&  Server-9119-590-SN02C5F9E:
\&    objtype=node
\&    type=fsp
\&    id=10
\&    model=9119-590
\&    serial=02C5F9E
\&    hcp=hmc02
\&    profile=
\&    parent=Server-9458-100992001Y_B
\&    groups=fsp,all
\&    mgt=hmc
\&    cons=
.Ve
.PP
.Vb 12
\&  lpar01:
\&    objtype=node
\&    nodetype=lpar,osi
\&    id=1
\&    model=
\&    serial=
\&    hcp=hmc02
\&    profile=lpar01
\&    parent=Server-9119-590-SN02C5F9E
\&    groups=lpar,all
\&    mgt=hmc
\&    cons=hmc
.Ve
.PP
.Vb 12
\&  lpar02:
\&    objtype=node
\&    nodetype=lpar,osi
\&    id=2
\&    model=
\&    serial=
\&    hcp=hmc02
\&    profile=lpar02
\&    parent=Server-9119-590-SN02C5F9E
\&    groups=lpar,all
\&    mgt=hmc
\&    cons=hmc
.Ve
.PP
4. To update definitions of nodes, which is managed by hmc03, enter:
.PP
\&\fIrscan hmc03 \-u\fR
.PP
Output is similar to:
.PP
.Vb 3
\&  #Updated following nodes:
\&  type    name                           id      type-model  serial-number  address
\&  fsp     Server-9125-F2A-SN0262672-B    3       9125-F2A    0262672        192.168.200.243
.Ve
.PP
5. To collects the node information from one or more hardware control points on zVM \s-1AND\s0 populate the database with details collected by rscan:
.PP
\&\fIrscan gpok2 \-W\fR
.PP
Output is similar to:
.PP
.Vb 10
\&  gpok2:
\&    objtype=node
\&    arch=s390x
\&    os=sles10sp3
\&    hcp=gpok3.endicott.ibm.com
\&    userid=LINUX2
\&    nodetype=vm
\&    parent=POKDEV61
\&    groups=all
\&    mgt=zvm
.Ve
.PP
6. To scan the Flex system cluster:
.PP
\&\fIrscan cmm01\fR
.PP
Output is similar to:
.PP
.Vb 5
\&  type    name                  id      type-model  serial-number  mpa        address
\&  cmm     AMM680520153          0       789392X     100048A        cmm01      cmm01
\&  blade   SN#YL10JH184067       1       789542X     10F752A        cmm01      12.0.0.9
\&  xblade  SN#YL10JH184068       2       789542X     10F652A        cmm01      12.0.0.10
\&  blade   SN#YL10JH184079       3       789542X     10F697A        cmm01      12.0.0.11
.Ve
.PP
7. To update the Flex system cluster:
.PP
\&\fIrscan cmm01 \-u\fR
.PP
Output is similar to:
.PP
.Vb 3
\&  cmm    [AMM680520153]         Matched To =>[cmm01]
\&  blade  [SN#YL10JH184067]      Matched To =>[cmm01node01]
\&  blade  [SN#YL10JH184079]      Matched To =>[cmm01node03]
.Ve
.SH "FILES"
.IX Header "FILES"
/opt/xcat/bin/rscan
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIlsslp\fR\|(1)
