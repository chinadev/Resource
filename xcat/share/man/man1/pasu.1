.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "PASU.1 1"
.TH PASU.1 1 "2013-02-06" "perl v5.8.8" "User Contributed Perl Documentation"
.SH "NAME"
\&\fBpasu\fR \- run the ASU to many nodes in parallel
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBpasu\fR [\fB\-V\fR] [\fB\-d\fR] [\fB\-n\fR] [\fB\-l\fR \fIuser\fR] [\fB\-p\fR \fIpasswd\fR] [\fB\-f\fR \fIfanout\fR] \fInoderange\fR \fIcommand\fR
.PP
\&\fBpasu\fR [\fB\-V\fR] [\fB\-d\fR] [\fB\-n\fR] [\fB\-l\fR \fIuser\fR] [\fB\-p\fR \fIpasswd\fR] [\fB\-f\fR \fIfanout\fR] \fB\-b\fR \fIbatchfile\fR \fInoderange\fR
.PP
\&\fBpasu\fR [\fB\-h\fR | \fB\-\-help\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \fBpasu\fR command runs the \s-1ASU\s0 command in out-of-band mode in parallel to multiple nodes.  Out-of-band mode means
that \s-1ASU\s0 connects from the xCAT management node to the \s-1IMM\s0 (\s-1BMC\s0) of each node to set or query the \s-1ASU\s0 settings.  To
see all of the \s-1ASU\s0 settings available on the node, use the \*(L"show all\*(R" command.  To query or set multiple values,
use the \fB\-b\fR (batch) option.  To group similar output from multiple nodes, use \fIxcoll\fR\|(1).
.PP
Before running \fBpasu\fR, you must install the \s-1ASU\s0 \s-1RPM\s0 from \s-1IBM\s0.  You can download it from the \s-1IBM\s0 Fix Central site.
You also must configure the IMMs properly according to xCAT documentation.  Run "\fBrpower\fR \fInoderange\fR \fBstat\fR"
to confirm that the IMMs are configured properly.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-n|\-\-nonodecheck\fR" 10
.IX Item "-n|--nonodecheck"
Do not send the noderange to xcatd to expand it into a list of nodes.  Use the noderange exactly as it is specified
to pasu.  In this case, the noderange must be a simple list of comma-separated hostnames of the IMMs.
.IP "\fB\-l|\-\-loginname\fR \fIusername\fR" 10
.IX Item "-l|--loginname username"
The username to use to connect to the IMMs.  If not specified, the row in the xCAT \fBpasswd\fR table with key \*(L"ipmi\*(R"
will be used to get the username.
.IP "\fB\-p|\-\-passwd\fR \fIpasswd\fR" 10
.IX Item "-p|--passwd passwd"
The password to use to connect to the IMMs.  If not specified, the row in the xCAT passwd table with key \*(L"ipmi\*(R"
will be used to get the password.
.IP "\fB\-f|\-\-fanout\fR" 10
.IX Item "-f|--fanout"
How many processes to run in parallel simultaneously.  The default is 64.  You can also set the \s-1XCATPSHFANOUT\s0
environment variable.
.IP "\fB\-b|\-\-batch\fR \-\fIbatchfile\fR" 10
.IX Item "-b|--batch -batchfile"
A simple text file that contains multiple \s-1ASU\s0 commands, each on its own line.
.IP "\fB\-d|\-\-donotfilter\fR" 10
.IX Item "-d|--donotfilter"
By default, pasu filters out (i.e. does not display) the standard initial output from \s-1ASU:\s0
.Sp
.Vb 4
\& IBM Advanced Settings Utility version 9.30.79N
\& Licensed Materials - Property of IBM
\& (C) Copyright IBM Corp. 2007-2012 All Rights Reserved
\& Connected to IMM at IP address node2-imm
.Ve
.Sp
If you want this output to be displayed, use this flag.
.IP "\fB\-V|\-\-verbose\fR" 10
.IX Item "-V|--verbose"
Display verbose messages.
.IP "\fB\-h|\-\-help\fR" 10
.IX Item "-h|--help"
Display usage message.
.SH "RETURN VALUE"
.IX Header "RETURN VALUE"
0  The command completed successfully.
.PP
1  An error has occurred.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
.IP "1." 3
To display the Com1ActiveAfterBoot setting on 2 nodes:
.Sp
.Vb 1
\& pasu node1,node2 show DevicesandIOPorts.Com1ActiveAfterBoot
.Ve
.Sp
Output is similar to:
.Sp
.Vb 2
\&   node1: DevicesandIOPorts.Com1ActiveAfterBoot=Enable
\&   node2: DevicesandIOPorts.Com1ActiveAfterBoot=Enable
.Ve
.IP "2." 3
To display the Com1ActiveAfterBoot setting on all compute nodes:
.Sp
.Vb 1
\& pasu compute show DevicesandIOPorts.Com1ActiveAfterBoot | xcoll
.Ve
.Sp
Output is similar to:
.Sp
.Vb 4
\&   ====================================
\&   compute
\&   ====================================
\&   DevicesandIOPorts.Com1ActiveAfterBoot=Enable
.Ve
.IP "3." 3
To set several settings on all compute nodes, create a batch file
called (for example) asu-settings with contents:
.Sp
.Vb 4
\& set DevicesandIOPorts.Com1ActiveAfterBoot Enable
\& set DevicesandIOPorts.SerialPortSharing Enable
\& set DevicesandIOPorts.SerialPortAccessMode Dedicated
\& set DevicesandIOPorts.RemoteConsole Enable
.Ve
.Sp
Then run:
.Sp
.Vb 1
\& pasu -b asu-settings compute | xcoll
.Ve
.Sp
Output is similar to:
.Sp
.Vb 6
\&   ====================================
\&   compute
\&   ====================================
\&   Batch mode start.
\&   [set DevicesandIOPorts.Com1ActiveAfterBoot Enable]
\&   DevicesandIOPorts.Com1ActiveAfterBoot=Enable
.Ve
.Sp
.Vb 2
\&   [set DevicesandIOPorts.SerialPortSharing Enable]
\&   DevicesandIOPorts.SerialPortSharing=Enable
.Ve
.Sp
.Vb 2
\&   [set DevicesandIOPorts.SerialPortAccessMode Dedicated]
\&   DevicesandIOPorts.SerialPortAccessMode=Dedicated
.Ve
.Sp
.Vb 2
\&   [set DevicesandIOPorts.RemoteConsole Enable]
\&   DevicesandIOPorts.RemoteConsole=Enable
.Ve
.Sp
.Vb 5
\&   Beginning intermediate batch update.
\&   Waiting for command completion status.
\&   Command completed successfully.
\&   Completed intermediate batch update.
\&   Batch mode competed successfully.
.Ve
.IP "4." 3
To confirm that all the settings were made on all compute nodes, create a batch file
called (for example) asu-show with contents:
.Sp
.Vb 4
\& show DevicesandIOPorts.Com1ActiveAfterBoot
\& show DevicesandIOPorts.SerialPortSharing
\& show DevicesandIOPorts.SerialPortAccessMode
\& show DevicesandIOPorts.RemoteConsole
.Ve
.Sp
Then run:
.Sp
.Vb 1
\& pasu -b asu-show compute | xcoll
.Ve
.Sp
Output is similar to:
.Sp
.Vb 6
\&   ====================================
\&   compute
\&   ====================================
\&   Batch mode start.
\&   [show DevicesandIOPorts.Com1ActiveAfterBoot]
\&   DevicesandIOPorts.Com1ActiveAfterBoot=Enable
.Ve
.Sp
.Vb 2
\&   [show DevicesandIOPorts.SerialPortSharing]
\&   DevicesandIOPorts.SerialPortSharing=Enable
.Ve
.Sp
.Vb 2
\&   [show DevicesandIOPorts.SerialPortAccessMode]
\&   DevicesandIOPorts.SerialPortAccessMode=Dedicated
.Ve
.Sp
.Vb 2
\&   [show DevicesandIOPorts.RemoteConsole]
\&   DevicesandIOPorts.RemoteConsole=Enable
.Ve
.Sp
.Vb 1
\&   Batch mode competed successfully.
.Ve
.SH "FILES"
.IX Header "FILES"
/opt/xcat/bin/pasu
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fInoderange\fR\|(3), \fIrpower\fR\|(1), \fIxcoll\fR\|(1)
