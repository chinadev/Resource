.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "CHVM.1 1"
.TH CHVM.1 1 "2013-02-18" "perl v5.8.8" "User Contributed Perl Documentation"
.SH "NAME"
\&\fBchvm\fR \- Changes HMC\-, IVM\-, and zVM\-managed partition profiles or virtual machines. For Power 775, chvm could be used to change the octant configuration values for generating LPARs; change the I/O slots assignment to LPARs within the same CEC.
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBchvm\fR [\fB\-h\fR| \fB\-\-help\fR]
.PP
\&\fBchvm\fR [\fB\-v\fR| \fB\-\-version\fR]
.Sh "\s-1PPC\s0 (with \s-1HMC\s0) specific:"
.IX Subsection "PPC (with HMC) specific:"
\&\fBchvm\fR [\fB\-V\fR| \fB\-\-verbose\fR] \fInoderange\fR [\fB\-p\fR \fIprofile\fR]
.PP
\&\fBchvm\fR [\fB\-V\fR| \fB\-\-verbose\fR] \fInoderange\fR \fIattr\fR=\fIval\fR [\fIattr\fR=\fIval\fR...]
.Sh "\s-1PPC\s0 (using Direct \s-1FSP\s0 Management) specific:"
.IX Subsection "PPC (using Direct FSP Management) specific:"
\&\fBchvm\fR \fInoderange\fR [\fB\-p\fR \fIprofile\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fBlparname\fR={\fB*\fR|\fBname\fR}]
.PP
\&\fBchvm\fR \fInoderange\fR \fB\-i id\fR [\fB\-m\fR \fImemory_interleaving\fR] \fB\-r\fR \fIpartition_rule\fR
.Sh "VMware/KVM specific:"
.IX Subsection "VMware/KVM specific:"
\&\fBchvm\fR \fInoderange\fR [\fB\-a\fR \fIsize\fR] [\fB\-d\fR \fIdisk\fR] [\fB\-p\fR \fIdisk\fR] [\fB\-\-resize\fR \fBdisk\fR=\fIsize\fR] [\fB\-\-cpus\fR \fIcount\fR] [\fB\-\-mem\fR \fImemory\fR]
.Sh "zVM specific:"
.IX Subsection "zVM specific:"
\&\fBchvm\fR \fInoderange\fR [\fB\-\-add3390\fR \fIdisk_pool\fR \fIdevice_address\fR \fIsize\fR \fImode\fR \fIread_password\fR \fIwrite_password\fR \fImulti_password\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-add3390active\fR \fIdevice_address\fR \fImode\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-add9336\fR \fIdisk_pool\fR \fIdevice_address\fR \fIsize\fR \fImode\fR \fIread_password\fR \fIwrite_password\fR \fImulti_password\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-adddisk2pool\fR \fIfunction\fR \fIregion\fR \fIvolume\fR \fIgroup\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-addnic\fR \fIdevice_address\fR \fItype\fR \fIdevice_count\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-addpagespool\fR \fIvolume_address\fR \fIvolume_label\fR \fIvolume_use\fR \fIsystem_config_name\fR \fIsystem_config_type\fR \fIparm_disk_owner\fR \fIparm_disk_number\fR \fIparm_disk_password\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-addprocessor\fR \fIdevice_address\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-addprocessoractive\fR \fIdevice_address\fR \fItype\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-addvdisk\fR \fIdevice_address\fR \fIsize\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-addzfcp\fR \fIpool\fR \fIdevice_address\fR \fIloaddev\fR \fIsize\fR \fItag\fR \fIwwpn\fR \fIlun\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-connectnic2guestlan\fR \fIdevice_address\fR \fIlan\fR \fIowner\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-connectnic2vswitch\fR \fIdevice_address\fR \fIvswitch\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-copydisk\fR \fItarget_address\fR \fIsource_node\fR \fIsource_address\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-dedicatedevice\fR \fIvirtual_device\fR \fIreal_device\fR \fImode\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-deleteipl\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-disconnectnic\fR \fIdevice_address\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-formatdisk\fR \fIdevice_address\fR \fImulti_password\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-grantvswitch\fR \fIvswitch\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-purgerdr\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-removedisk\fR \fIdevice_address\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-removenic\fR \fIdevice_address\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-removeprocessor\fR \fIdevice_address\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-removeloaddev\fR \fIwwpn\fR \fIlun\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-removezfcp\fR \fIdevice_address\fR \fIwwpn\fR \fIlun\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-replacevs\fR \fIdirectory_entry\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-setipl\fR \fIipl_target\fR \fIload_parms\fR \fIparms\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-setpassword\fR \fIpassword\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-setloaddev\fR \fIwwpn\fR \fIlun\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-sharevolume\fR \fIvolume_address\fR \fIshare_enable\fR]
.PP
\&\fBchvm\fR \fInoderange\fR [\fB\-\-undedicatedevice\fR \fIdevice_address\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
.Sh "\s-1PPC\s0 (with \s-1HMC\s0) specific:"
.IX Subsection "PPC (with HMC) specific:"
The chvm command modifies the partition profile for the partitions specified in noderange. A partitions current profile can be read using lsvm, modified, and piped into the chvm command, or changed with the \-p flag. 
.PP
This command also supports to change specific partition attributes by specifying one or more \*(L"attribute equals value\*(R" pairs in command line directly, without whole partition profile.
.Sh "\s-1PPC\s0 (using Direct \s-1FSP\s0 Management) specific:"
.IX Subsection "PPC (using Direct FSP Management) specific:"
chvm could be used to change the octant configuration values for generating LPARs. chvm is designed to set the Octant configure value to split the \s-1CPU\s0 and memory for partitions, and set Octant Memory interleaving value. The chvm will only set the pending attributes value. After chvm, the \s-1CEC\s0 needs to be rebooted manually for the pending values to be enabled. Before reboot the cec, the administrator can use chvm to change the partition plan. If the the partition needs I/O slots, the administrator should use chvm to assign the I/O slots. 
.PP
chvm is also designed to assign the I/O slots to the new \s-1LPAR\s0. Both the current \s-1IO\s0 owning lpar and the new \s-1IO\s0 owning lpar must be powered off before an \s-1IO\s0 assignment. Otherwise, if the I/O slot is belonged to an Lpar and the \s-1LPAR\s0 is power on, the command will return an error when trying to assign that slot to a different lpar. 
.PP
The administrator should use lsvm to get the profile content, and then edit the content, and add the node name with \*(L":\*(R" manually before the I/O which will be assigned to the node. And then the profile can be piped into the chvm command, or changed with the \-p flag.
.Sh "VMware/KVM specific:"
.IX Subsection "VMware/KVM specific:"
The chvm command modifes the vm specified in noderange.  Calling with deregister or purge options at the same time as the resize option is not recommended.
.Sh "zVM specific:"
.IX Subsection "zVM specific:"
The chvm command modifes the virtual machine's configuration specified in noderange.
.SH "OPTIONS"
.IX Header "OPTIONS"
.Sh "Common:"
.IX Subsection "Common:"
.IP "\fB\-h\fR" 10
.IX Item "-h"
Display usage message.
.IP "\fB\-v\fR" 10
.IX Item "-v"
Command Version.
.Sh "\s-1PPC\s0 (with \s-1HMC\s0) specific:"
.IX Subsection "PPC (with HMC) specific:"
.IP "\fB\-p\fR \fIprofile\fR" 10
.IX Item "-p profile"
Name of an existing partition profile.
.IP "\fIattr\fR=\fIval\fR" 10
.IX Item "attr=val"
Specifies one or more \*(L"attribute equals value\*(R" pairs, separated by spaces.
.IP "\fB\-V\fR" 10
.IX Item "-V"
Verbose output.
.Sh "\s-1PPC\s0 (using Direct \s-1FSP\s0 Management) specific:"
.IX Subsection "PPC (using Direct FSP Management) specific:"
.IP "\fB\-i\fR" 10
.IX Item "-i"
Starting numeric id of the newly created partitions. For Power 775 using Direct \s-1FSP\s0 Management, the id value only could be \fB1\fR, \fB5\fR, \fB9\fR, \fB13\fR, \fB17\fR, \fB21\fR, \fB25\fR and \fB29\fR.
.IP "\fB\-m\fR" 10
.IX Item "-m"
memory interleaving. The setting value only could be \fB1\fR or \fB2\fR. \fB2\fR means \fBnon-interleaved\fR mode (also 2MC mode), the memory cannot be shared across the processors in an octant. \fB1\fR means \fBinterleaved\fR mode (also 8MC mode) , the memory can be shared. The default value is \fB1\fR .
.IP "\fB\-r\fR" 10
.IX Item "-r"
partition rule.
.Sp
If all the octants configuration value are same in one \s-1CEC\s0,  it will be  " \fB\-r\fR  \fB0\-7\fR:\fIvalue\fR" .
.Sp
If the octants use the different configuration value in one cec, it will be "\fB\-r\fR \fB0\fR:\fIvalue1\fR,\fB1\fR:\fIvalue2\fR,...\fB7\fR:\fIvalue7\fR\*(L", or \*(R"\fB\-r\fR \fB0\fR:\fIvalue1\fR,\fB1\-7\fR:\fIvalue2\fR" and so on.
.Sp
The octants configuration value for one Octant could be  \fB1\fR, \fB2\fR, \fB3\fR, \fB4\fR, \fB5\fR. The meanings of the octants configuration value  are as following:
.Sp
.Vb 5
\& 1 -- 1 partition with all cpus and memory of the octant
\& 2 -- 2 partitions with a 50/50 split of cpus and memory
\& 3 -- 3 partitions with a 25/25/50 split of cpus and memory
\& 4 -- 4 partitions with a 25/25/25/25 split of cpus and memory
\& 5 -- 2 partitions with a 25/75 split of cpus and memory
.Ve
.IP "\fB\-p\fR \fIprofile\fR" 10
.IX Item "-p profile"
Name of I/O slots assignment profile.
.IP "\fBlparname\fR={\fB*\fR|\fBname\fR}" 10
.IX Item "lparname={*|name}"
Set \s-1LPAR\s0 name for the specified lpars. If '*' specified, it means to get names from xCAT database and then set them for the specified lpars. If a string is specified, it only supports single node and the string will be set for the specified lpar. The user can use lsvm to check the lparnames for lpars. 
.Sh "VMware/KVM specific:"
.IX Subsection "VMware/KVM specific:"
.IP "\fB\-a\fR \fIsize\fR" 10
.IX Item "-a size"
Add a new Hard disk with size defaulting to \s-1GB\s0.  Multiple can be added with comma separated values.
.IP "\fB\-\-cpus\fR \fIcount\fR" 10
.IX Item "--cpus count"
Set the number of CPUs.
.IP "\fB\-d\fR \fIdisk\fR" 10
.IX Item "-d disk"
Deregister the Hard disk but leave the backing files.  Multiple can be done with comma separated values.  The disks are specified by \s-1SCSI\s0 id.  Size defaults to \s-1GB\s0.
.IP "\fB\-\-mem\fR \fImemory\fR" 10
.IX Item "--mem memory"
Set the memory, defaults to \s-1MB\s0.
.IP "\fB\-p\fR \fIdisk\fR" 10
.IX Item "-p disk"
Purge the Hard disk.  Deregisters and deletes the files.  Multiple can be done with comma separated values.  The disks are specified by \s-1SCSI\s0 id.  Size defaults to \s-1GB\s0.
.IP "\fB\-\-resize\fR \fBdisk\fR=\fIsize\fR" 10
.IX Item "--resize disk=size"
Change the size of the Hard disk.  The disk can never be set to less than it's current size.  Multiple disks can be resized to \fIsize\fR by using comma separated values on the left side of \fB=\fR.  The disks are specified by \s-1SCSI\s0 id.  Size defaults to \s-1GB\s0.
.Sh "zVM specific:"
.IX Subsection "zVM specific:"
.IP "\fB\-\-add3390\fR \fIdisk_pool\fR \fIdevice_address\fR \fIsize\fR \fImode\fR \fIread_password\fR \fIwrite_password\fR \fImulti_password\fR" 10
.IX Item "--add3390 disk_pool device_address size mode read_password write_password multi_password"
Adds a 3390 (\s-1ECKD\s0) disk to a virtual machine's directory entry. The device address can be automatically assigned by specifying 'auto'. The size of the disk can be specified in \s-1GB\s0, \s-1MB\s0, or the number of cylinders.
.IP "\fB\-\-add3390active\fR \fIdevice_address\fR \fImode\fR" 10
.IX Item "--add3390active device_address mode"
Adds a 3390 (\s-1ECKD\s0) disk that is defined in a virtual machine's directory entry to that virtual server's active configuration.
.IP "\fB\-\-add9336\fR \fIdisk_pool\fR \fIdevice_address\fR \fIsize\fR \fImode\fR \fIread_password\fR \fIwrite_password\fR \fImulti_password\fR" 10
.IX Item "--add9336 disk_pool device_address size mode read_password write_password multi_password"
Adds a 9336 (\s-1FBA\s0) disk to a virtual machine's directory entry. The device address can be automatically assigned by specifying 'auto'. The size of the disk can be specified in \s-1GB\s0, \s-1MB\s0, or the number of blocks.
.IP "\fB\-\-adddisk2pool\fR \fIfunction\fR \fIregion\fR \fIvolume\fR \fIgroup\fR" 10
.IX Item "--adddisk2pool function region volume group"
Add a disk to a disk pool defined in the \s-1EXTENT\s0 \s-1CONTROL\s0. Function type can be either: (4) Define region as full volume and add to group \s-1OR\s0 (5) Add existing region to group.  The disk has to already be attached to \s-1SYSTEM\s0.
.IP "\fB\-\-addnic\fR \fIdevice_address\fR \fItype\fR \fIdevice_count\fR" 10
.IX Item "--addnic device_address type device_count"
Adds a network adapter to a virtual machine's directory entry (case sensitive).
.IP "\fB\-\-addpagespool\fR \fIvolume_addr\fR \fIvolume_label\fR \fIvolume_use\fR \fIsystem_config_name\fR \fIsystem_config_type\fR \fIparm_disk_owner\fR \fIparm_disk_number\fR \fIparm_disk_password\fR" 10
.IX Item "--addpagespool volume_addr volume_label volume_use system_config_name system_config_type parm_disk_owner parm_disk_number parm_disk_password"
Add a full volume page or spool disk to the virtual machine.
.IP "\fB\-\-addprocessor\fR \fIdevice_address\fR" 10
.IX Item "--addprocessor device_address"
Adds a virtual processor to a virtual machine's directory entry.
.IP "\fB\-\-addprocessoractive\fR \fIdevice_address\fR \fItype\fR" 10
.IX Item "--addprocessoractive device_address type"
Adds a virtual processor to a virtual machine's active configuration (case sensitive).
.IP "\fB\-\-addvdisk\fR \fIdevice_address\fR \fIsize\fR" 10
.IX Item "--addvdisk device_address size"
Adds a v\-disk to a virtual machine's directory entry.
.IP "\fB\-\-addzfcp\fR \fIpool\fR \fIdevice_address\fR \fIloaddev\fR \fIsize\fR \fItag\fR \fIwwpn\fR \fIlun\fR" 10
.IX Item "--addzfcp pool device_address loaddev size tag wwpn lun"
Add a zFCP device to a device pool defined in xCAT. The device must have been 
carved up in the storage controller and configured with a \s-1WWPN/LUN\s0 before it can 
be added to the xCAT storage pool. z/VM does not have the ability to communicate 
directly with the storage controller to carve up disks dynamically. xCAT will 
find the a zFCP device in the specified pool that meets the size required, if 
the \s-1WWPN\s0 and \s-1LUN\s0 are not given. The device address can be automatically assigned 
by specifying 'auto'. The \s-1WWPN/LUN\s0 can be set as the \s-1LOADDEV\s0 in the directory
entry if (1) is specified as the 'loaddev'.
.IP "\fB\-\-connectnic2guestlan\fR \fIdevice_address\fR \fIlan\fR \fIowner\fR" 10
.IX Item "--connectnic2guestlan device_address lan owner"
Connects a given network adapter to a GuestLAN.
.IP "\fB\-\-connectnic2vswitch\fR \fIdevice_address\fR \fIvswitch\fR" 10
.IX Item "--connectnic2vswitch device_address vswitch"
Connects a given network adapter to a VSwitch.
.IP "\fB\-\-copydisk\fR \fItarget_address\fR \fIsource_node\fR \fIsource_address\fR" 10
.IX Item "--copydisk target_address source_node source_address"
Copy a disk attached to a given virtual server.
.IP "\fB\-\-dedicatedevice\fR \fIvirtual_device\fR \fIreal_device\fR \fImode\fR" 10
.IX Item "--dedicatedevice virtual_device real_device mode"
Adds a dedicated device to a virtual machine's directory entry.
.IP "\fB\-\-deleteipl\fR" 10
.IX Item "--deleteipl"
Deletes the \s-1IPL\s0 statement from the virtual machine's directory entry.
.IP "\fB\-\-disconnectnic\fR \fIdevice_address\fR" 10
.IX Item "--disconnectnic device_address"
Disconnects a given network adapter.
.IP "\fB\-\-formatdisk\fR \fIdisk_address\fR \fImulti_password\fR" 10
.IX Item "--formatdisk disk_address multi_password"
Formats a disk attached to a given virtual server (only \s-1ECKD\s0 disks supported). The disk should not be linked to any other virtual server. This command is best used after \fIadd3390()\fR.
.IP "\fB\-\-grantvswitch\fR \fIvswitch\fR" 10
.IX Item "--grantvswitch vswitch"
Grant vSwitch access for given virtual machine.
.IP "\fB\-\-purgerdr\fR" 10
.IX Item "--purgerdr"
Purge the reader belonging to the virtual machine
.IP "\fB\-\-removedisk\fR \fIdevice_address\fR" 10
.IX Item "--removedisk device_address"
Removes a minidisk from a virtual machine's directory entry.
.IP "\fB\-\-removenic\fR \fIdevice_address\fR" 10
.IX Item "--removenic device_address"
Removes a network adapter from a virtual machine's directory entry.
.IP "\fB\-\-removeprocessor\fR \fIdevice_address\fR" 10
.IX Item "--removeprocessor device_address"
Removes a processor from an active virtual machine's configuration.
.IP "\fB\-\-removeloaddev\fR \fIwwpn\fR \fIlun\fR" 10
.IX Item "--removeloaddev wwpn lun"
Removes the \s-1LOADDEV\s0 statement from a virtual machines's directory entry.
.IP "\fB\-\-removezfcp\fR \fIdevice_address\fR \fIwwpn\fR \fIlun\fR" 10
.IX Item "--removezfcp device_address wwpn lun"
Removes a given \s-1SCSI/FCP\s0 device belonging to the virtual machine.
.IP "\fB\-\-replacevs\fR \fIdirectory_entry\fR" 10
.IX Item "--replacevs directory_entry"
Replaces a virtual machine's directory entry. The directory entry can be echoed into stdin or a text file.
.IP "\fB\-\-setipl\fR \fIipl_target\fR \fIload_parms\fR \fIparms\fR" 10
.IX Item "--setipl ipl_target load_parms parms"
Sets the \s-1IPL\s0 statement for a given virtual machine.
.IP "\fB\-\-setpassword\fR \fIpassword\fR" 10
.IX Item "--setpassword password"
Sets the password for a given virtual machine.
.IP "\fB\-\-setloaddev\fR \fIwwpn\fR \fIlun\fR" 10
.IX Item "--setloaddev wwpn lun"
Sets the \s-1LOADDEV\s0 statement in the virtual machine's directory entry.
.IP "\fB\-\-undedicatedevice\fR \fIdevice_address\fR" 10
.IX Item "--undedicatedevice device_address"
Delete a dedicated device from a virtual machine's active configuration and directory entry.
.SH "RETURN VALUE"
.IX Header "RETURN VALUE"
0 The command completed successfully.
.PP
1 An error has occurred.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
.Sh "\s-1PPC\s0 (with \s-1HMC\s0) specific:"
.IX Subsection "PPC (with HMC) specific:"
1. To change the partition profile for lpar4 using the configuration data in the file /tmp/lparfile, enter:
.PP
.Vb 1
\& cat /tmp/lparfile | chvm lpar4
.Ve
.PP
Output is similar to:
.PP
.Vb 1
\& lpar4: Success
.Ve
.PP
2. To change the partition profile for lpar4 to the existing profile 'prof1', enter:
.PP
.Vb 1
\& chvm lpar4 -p prof1
.Ve
.PP
Output is similar to:
.PP
.Vb 1
\& lpar4: Success
.Ve
.PP
3. To change partition attributes for lpar4 by specifying attribute value pairs in command line, enter:
.PP
.Vb 1
\& chvm lpar4 max_mem=4096
.Ve
.PP
Output is similar to:
.PP
.Vb 1
\& lpar4: Success
.Ve
.Sh "\s-1PPC\s0 (using Direct \s-1FSP\s0 Management) specific:"
.IX Subsection "PPC (using Direct FSP Management) specific:"
1. For Power 775, to create a new partition lpar1 on the first octant of the cec cec01, lpar1 will use all the cpu and memory of the octant 0, enter: 
.PP
.Vb 1
\& mkdef -t node -o lpar1 mgt=fsp groups=all parent=cec01   nodetype=lpar   hcp=cec01
.Ve
.PP
then:
.PP
.Vb 1
\& chvm lpar1 -i 1 -m 1 -r 0:1
.Ve
.PP
Output is similar to:
.PP
.Vb 2
\& lpar1: Success
\& cec01: Please reboot the CEC cec1 firstly, and then use chvm to assign the I/O slots to the LPARs
.Ve
.PP
2. For Power 775, to create new partitions lpar1\-lpar8 on the whole cec cec01, each \s-1LPAR\s0 will use all the cpu and memory of each octant, enter:
.PP
.Vb 1
\& mkdef -t node -o lpar1-lpar8 nodetype=lpar  mgt=fsp groups=all parent=cec01  hcp=cec01
.Ve
.PP
then:
.PP
.Vb 1
\& chvm lpar1-lpar8 -i 1 -m 1 -r 0-7:1
.Ve
.PP
Output is similar to:
.PP
.Vb 9
\& lpar1: Success
\& lpar2: Success
\& lpar3: Success
\& lpar4: Success
\& lpar5: Success
\& lpar6: Success
\& lpar7: Success
\& lpar8: Success
\& cec01: Please reboot the CEC cec1 firstly, and then use chvm to assign the I/O slots to the LPARs
.Ve
.PP
3. For Power 775 cec1, to create new partitions lpar1\-lpar9, the lpar1 will use 25% \s-1CPU\s0 and 25% memory of the first octant, and lpar2 will use the left \s-1CPU\s0 and memory of the first octant. lpar3\-lpar9 will use all the cpu and memory of each octant, enter:
.PP
.Vb 1
\& mkdef -t node -o lpar1-lpar9 mgt=fsp groups=all parent=cec1   nodetype=lpar   hcp=cec1
.Ve
.PP
then:
.PP
.Vb 1
\& chvm lpar1-lpar9 -i 1 -m 1  -r 0:5,1-7:1
.Ve
.PP
Output is similar to: 
.PP
.Vb 10
\& lpar1: Success
\& lpar2: Success
\& lpar3: Success
\& lpar4: Success
\& lpar5: Success
\& lpar6: Success
\& lpar7: Success
\& lpar8: Success
\& lpar9: Success
\& cec1: Please reboot the CEC cec1 firstly, and then use chvm to assign the I/O slots to the LPARs
.Ve
.PP
4.To change the I/O slot profile for lpar4 using the configuration data in the file /tmp/lparfile, the I/O slots information is similar to:
.PP
.Vb 3
\& 4: 514/U78A9.001.0123456-P1-C17/0x21010202/2/1
\& 4: 513/U78A9.001.0123456-P1-C15/0x21010201/2/1
\& 4: 512/U78A9.001.0123456-P1-C16/0x21010200/2/1
.Ve
.PP
then run the command:
.PP
.Vb 1
\& cat /tmp/lparfile | chvm lpar4
.Ve
.PP
5. To change the I/O slot profile for lpar1\-lpar8 using the configuration data in the file /tmp/lparfile. Users can use the output of lsvm.and remove the cec information, and  modify the lpar id  before each I/O, and run the command as following:
.PP
.Vb 1
\& chvm lpar1-lpar8 -p /tmp/lparfile
.Ve
.PP
6. To change the \s-1LPAR\s0 name, enter:
.PP
.Vb 1
\& chvm lpar1 lparname=test_lpar01
.Ve
.PP
Output is similar to:
.PP
.Vb 1
\& lpar1: Success
.Ve
.Sh "VMware/KVM specific:"
.IX Subsection "VMware/KVM specific:"
.Vb 1
\& chvm vm1 -a 8,16 --mem 512 --cpus 2
.Ve
.PP
Output is similar to:
.PP
.Vb 1
\& vm1: node successfully changed
.Ve
.Sh "zVM specific:"
.IX Subsection "zVM specific:"
1. To adds a 3390 (\s-1ECKD\s0) disk to a virtual machine's directory entry:
.PP
.Vb 1
\&  chvm gpok3 --add3390 POOL1 0101 2G MR
.Ve
.PP
Output is similar to:
.PP
.Vb 1
\&  gpok3: Adding disk 0101 to LNX3... Done
.Ve
.PP
2. To add a network adapter to a virtual machine's directory entry:
.PP
.Vb 1
\&  chvm gpok3 --addnic 0600 QDIO 3
.Ve
.PP
Output is similar to:
.PP
.Vb 1
\&  gpok3: Adding NIC 0900 to LNX3... Done
.Ve
.PP
3. To connects a given network adapter to a GuestLAN:
.PP
.Vb 1
\&  chvm gpok3 --connectnic2guestlan 0600 GLAN1 LN1OWNR
.Ve
.PP
Output is similar to:
.PP
.Vb 1
\&  gpok3: Connecting NIC 0600 to GuestLan GLAN1 on LN1OWNR... Done
.Ve
.PP
4. To connects a given network adapter to a vSwitch:
.PP
.Vb 1
\&  chvm gpok3 --connectnic2vswitch 0600 VSW1
.Ve
.PP
Output is similar to:
.PP
.Vb 1
\&  gpok3: Connecting NIC 0600 to vSwitch VSW1 on LNX3... Done
.Ve
.PP
5. To removes a minidisk from a virtual machine's directory entry:
.PP
.Vb 1
\&  chvm gpok3 --removedisk 0101
.Ve
.PP
Output is similar to:
.PP
.Vb 1
\&  gpok3: Removing disk 0101 on LNX3... Done
.Ve
.PP
6. To Removes a network adapter from a virtual machine's directory entry:
.PP
.Vb 1
\&  chvm gpok3 --removenic 0700
.Ve
.PP
Output is similar to:
.PP
.Vb 1
\&  gpok3: Removing NIC 0700 on LNX3... Done
.Ve
.PP
7. To replaces a virtual machine's directory entry:
.PP
.Vb 1
\&  cat /tmp/dirEntry.txt | chvm gpok3 --replacevs
.Ve
.PP
Output is similar to:
.PP
.Vb 1
\&  gpok3: Replacing user entry of LNX3... Done
.Ve
.SH "FILES"
.IX Header "FILES"
/opt/xcat/bin/chvm
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fImkvm\fR\|(1), \fIlsvm\fR\|(1), \fIrmvm\fR\|(1)
