(function(){function g(a){throw a;}var i=void 0,l=!0,m=null,p=!1;function aa(){return function(a){return a}}function q(){return function(){}}function u(a){return function(){return this[a]}}function ba(a){return function(){return a}}var v,w=this;function ca(a,b){var d=a.split("."),e=w;!(d[0]in e)&&e.execScript&&e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)!d.length&&b!==i?e[f]=b:e=e[f]?e[f]:e[f]={}}
function da(a){a=a.split(".");for(var b=w,d;d=a.shift();)if(b[d]!=m)b=b[d];else return m;return b}function ea(){}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return"array"==fa(a)}function ha(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function y(a){return"string"==typeof a}function ia(a){return"function"==fa(a)}function z(a){return a[ja]||(a[ja]=++ka)}var ja="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ka=0;function la(a,b,d){return a.call.apply(a.bind,arguments)}
function ma(a,b,d){a||g(Error());if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return a.apply(b,d)}}return function(){return a.apply(b,arguments)}}function na(a,b,d){na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return na.apply(m,arguments)}var oa=Date.now||function(){return+new Date};
function B(a,b){function d(){}d.prototype=b.prototype;a.z=b.prototype;a.prototype=new d;a.prototype.constructor=a};function pa(a,b){for(var d=1;d<arguments.length;d++){var e=String(arguments[d]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,e)}return a}function qa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function ra(a){if(!sa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ta,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ua,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(wa,"&quot;"));return a}var ta=/&/g,ua=/</g,va=/>/g,wa=/\"/g,sa=/[&<>\"]/;var xa,ya,za,Aa,Ba;function Ca(){return w.navigator?w.navigator.userAgent:m}function Da(){return w.navigator}Aa=za=ya=xa=p;var Ea;if(Ea=Ca()){var Fa=Da();xa=0==Ea.indexOf("Opera");ya=!xa&&-1!=Ea.indexOf("MSIE");(za=!xa&&-1!=Ea.indexOf("WebKit"))&&Ea.indexOf("Mobile");Aa=!xa&&!za&&"Gecko"==Fa.product}var Ga=xa,C=ya,E=Aa,G=za,Ha,Ia=Da();Ha=Ia&&Ia.platform||"";Ba=-1!=Ha.indexOf("Mac");Ha.indexOf("Win");Ha.indexOf("Linux");Da()&&(Da().appVersion||"").indexOf("X11");var Ja=Ca();Ja&&Ja.indexOf("Android");
Ja&&Ja.indexOf("iPhone");Ja&&Ja.indexOf("iPad");function Ka(){var a=w.document;return a?a.documentMode:i}var La;a:{var Ma="",Na;if(Ga&&w.opera)var Oa=w.opera.version,Ma="function"==typeof Oa?Oa():Oa;else if(E?Na=/rv\:([^\);]+)(\)|;)/:C?Na=/MSIE\s+([^\);]+)(\)|;)/:G&&(Na=/WebKit\/(\S+)/),Na)var Pa=Na.exec(Ca()),Ma=Pa?Pa[1]:"";if(C){var Qa=Ka();if(Qa>parseFloat(Ma)){La=String(Qa);break a}}La=Ma}var Ra={};
function H(a){var b;if(!(b=Ra[a])){b=0;for(var d=qa(String(La)).split("."),e=qa(String(a)).split("."),f=Math.max(d.length,e.length),h=0;0==b&&h<f;h++){var j=d[h]||"",k=e[h]||"",n=RegExp("(\\d*)(\\D*)","g"),s=RegExp("(\\d*)(\\D*)","g");do{var r=n.exec(j)||["","",""],t=s.exec(k)||["","",""];if(0==r[0].length&&0==t[0].length)break;b=((0==r[1].length?0:parseInt(r[1],10))<(0==t[1].length?0:parseInt(t[1],10))?-1:(0==r[1].length?0:parseInt(r[1],10))>(0==t[1].length?0:parseInt(t[1],10))?1:0)||((0==r[2].length)<
(0==t[2].length)?-1:(0==r[2].length)>(0==t[2].length)?1:0)||(r[2]<t[2]?-1:r[2]>t[2]?1:0)}while(0==b)}b=Ra[a]=0<=b}return b}var Sa=w.document,Ta=!Sa||!C?i:Ka()||("CSS1Compat"==Sa.compatMode?parseInt(La,10):5);function Ua(a,b){for(var d in a)b.call(i,a[d],d,a)}function Va(){var a=Wa,b;for(b in a)return p;return l}var Xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ya(a,b){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var h=0;h<Xa.length;h++)d=Xa[h],Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}};function Za(a){Error.captureStackTrace?Error.captureStackTrace(this,Za):this.stack=Error().stack||"";a&&(this.message=String(a))}B(Za,Error);Za.prototype.name="CustomError";function $a(a,b){b.unshift(a);Za.call(this,pa.apply(m,b));b.shift();this.Xi=a}B($a,Za);$a.prototype.name="AssertionError";function ab(a,b){g(new $a("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};function bb(a){return a[a.length-1]}
var I=Array.prototype,cb=I.indexOf?function(a,b,d){return I.indexOf.call(a,b,d)}:function(a,b,d){d=d==m?0:0>d?Math.max(0,a.length+d):d;if(y(a))return!y(b)||1!=b.length?-1:a.indexOf(b,d);for(;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1},db=I.forEach?function(a,b,d){I.forEach.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=y(a)?a.split(""):a,h=0;h<e;h++)h in f&&b.call(d,f[h],h,a)},eb=I.filter?function(a,b,d){return I.filter.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=[],h=0,j=y(a)?
a.split(""):a,k=0;k<e;k++)if(k in j){var n=j[k];b.call(d,n,k,a)&&(f[h++]=n)}return f},fb=I.map?function(a,b,d){return I.map.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=Array(e),h=y(a)?a.split(""):a,j=0;j<e;j++)j in h&&(f[j]=b.call(d,h[j],j,a));return f},gb=I.some?function(a,b,d){return I.some.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=y(a)?a.split(""):a,h=0;h<e;h++)if(h in f&&b.call(d,f[h],h,a))return l;return p},hb=I.every?function(a,b,d){return I.every.call(a,b,d)}:function(a,b,d){for(var e=
a.length,f=y(a)?a.split(""):a,h=0;h<e;h++)if(h in f&&!b.call(d,f[h],h,a))return p;return l};function ib(a){var b=a.length;if(0<b){for(var d=Array(b),e=0;e<b;e++)d[e]=a[e];return d}return[]};function jb(a,b){this.x=a!==i?a:0;this.y=b!==i?b:0}v=jb.prototype;v.clone=function(){return new jb(this.x,this.y)};v.toString=function(){return"("+this.x+", "+this.y+")"};v.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};v.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};v.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function kb(a,b){this.width=a;this.height=b}v=kb.prototype;v.clone=function(){return new kb(this.width,this.height)};v.toString=function(){return"("+this.width+" x "+this.height+")"};v.isEmpty=function(){return!(this.width*this.height)};v.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};v.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
v.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function lb(a,b,d,e){this.left=a;this.top=b;this.width=d;this.height=e}v=lb.prototype;v.clone=function(){return new lb(this.left,this.top,this.width,this.height)};v.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
v.intersection=function(a){var b=Math.max(this.left,a.left),d=Math.min(this.left+this.width,a.left+a.width);if(b<=d){var e=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(e<=a)return this.left=b,this.top=e,this.width=d-b,this.height=a-e,l}return p};
v.difference=function(a){var b;b:{b=Math.max(this.left,a.left);var d=Math.min(this.left+this.width,a.left+a.width);if(b<=d){var e=Math.max(this.top,a.top),f=Math.min(this.top+this.height,a.top+a.height);if(e<=f){b=new lb(b,e,d-b,f-e);break b}}b=m}if(!b||!b.height||!b.width)a=[this.clone()];else{b=[];var d=this.top,e=this.height,f=this.left+this.width,h=this.top+this.height,j=a.left+a.width,k=a.top+a.height;a.top>this.top&&(b.push(new lb(this.left,this.top,this.width,a.top-this.top)),d=a.top,e-=a.top-
this.top);k<h&&(b.push(new lb(this.left,k,this.width,h-k)),e=k-d);a.left>this.left&&b.push(new lb(this.left,d,a.left-this.left,e));j<f&&b.push(new lb(j,d,f-j,e));a=b}return a};v.contains=function(a){return a instanceof lb?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
v.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};v.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};v.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var mb;var nb=!E&&!C||C&&C&&9<=Ta||E&&H("1.9.1");C&&H("9");function ob(a){return a?new pb(J(a)):mb||(mb=new pb)}function qb(a,b){var d=b||document;return d.querySelectorAll&&d.querySelector?d.querySelectorAll("."+a):d.getElementsByClassName?d.getElementsByClassName(a):rb(a,b)}function L(a){var b=document,d=m;return(d=b.querySelectorAll&&b.querySelector?b.querySelector("."+a):qb(a,i)[0])||m}
function rb(a,b){var d,e,f,h;d=document;d=b||d;if(d.querySelectorAll&&d.querySelector&&a)return d.querySelectorAll(""+(a?"."+a:""));if(a&&d.getElementsByClassName){var j=d.getElementsByClassName(a);return j}j=d.getElementsByTagName("*");if(a){h={};for(e=f=0;d=j[e];e++){var k=d.className;"function"==typeof k.split&&0<=cb(k.split(/\s+/),a)&&(h[f++]=d)}h.length=f;return h}return j}
function sb(a){var b=!G&&"CSS1Compat"==a.compatMode?a.documentElement:a.body;a=a.parentWindow||a.defaultView;return new jb(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}function tb(a){return a?a.parentWindow||a.defaultView:window}
function ub(a){var b;var d=document;b=d.createElement("div");C?(b.innerHTML="<br>"+a,b.removeChild(b.firstChild)):b.innerHTML=a;if(1==b.childNodes.length)b=b.removeChild(b.firstChild);else{for(a=d.createDocumentFragment();b.firstChild;)a.appendChild(b.firstChild);b=a}return b}function vb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}
function wb(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(C&&!(C&&9<=Ta)){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var d=1==a.nodeType,e=1==b.nodeType;if(d&&e)return a.sourceIndex-b.sourceIndex;var f=a.parentNode,h=b.parentNode;return f==h?xb(a,b):!d&&vb(f,b)?-1*zb(a,b):!e&&vb(h,a)?zb(b,a):(d?a.sourceIndex:f.sourceIndex)-(e?b.sourceIndex:h.sourceIndex)}e=J(a);d=e.createRange();
d.selectNode(a);d.collapse(l);e=e.createRange();e.selectNode(b);e.collapse(l);return d.compareBoundaryPoints(w.Range.START_TO_END,e)}function zb(a,b){var d=a.parentNode;if(d==b)return-1;for(var e=b;e.parentNode!=d;)e=e.parentNode;return xb(e,a)}function xb(a,b){for(var d=b;d=d.previousSibling;)if(d==a)return-1;return 1}
function Ab(a){var b,d=arguments.length;if(d){if(1==d)return arguments[0]}else return m;var e=[],f=Infinity;for(b=0;b<d;b++){for(var h=[],j=arguments[b];j;)h.unshift(j),j=j.parentNode;e.push(h);f=Math.min(f,h.length)}h=m;for(b=0;b<f;b++){for(var j=e[0][b],k=1;k<d;k++)if(j!=e[k][b])return h;h=j}return h}function J(a){return 9==a.nodeType?a:a.ownerDocument||a.document}var Bb={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Cb={IMG:" ",BR:"\n"};function Eb(a){var b=[];Fb(a,b,p);return b.join("")}
function Fb(a,b,d){if(!(a.nodeName in Bb))if(3==a.nodeType)d?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Cb)b.push(Cb[a.nodeName]);else for(a=a.firstChild;a;)Fb(a,b,d),a=a.nextSibling}function pb(a){this.qa=a||w.document||document}v=pb.prototype;v.Ae=u("qa");v.Be=function(a){return y(a)?this.qa.getElementById(a):a};v.$=pb.prototype.Be;v.createElement=function(a){return this.qa.createElement(a)};v.createTextNode=function(a){return this.qa.createTextNode(String(a))};
v.Ee=function(){return this.qa.parentWindow||this.qa.defaultView};v.appendChild=function(a,b){a.appendChild(b)};v.ze=function(a){return nb&&a.children!=i?a.children:eb(a.childNodes,function(a){return 1==a.nodeType})};v.isElement=function(a){var b=typeof a;return("object"==b&&a!=m||"function"==b)&&1==a.nodeType};v.contains=vb;function Gb(a,b){var d;a:{d=J(a);if(d.defaultView&&d.defaultView.getComputedStyle&&(d=d.defaultView.getComputedStyle(a,m))){d=d[b]||d.getPropertyValue(b)||"";break a}d=""}return d||(a.currentStyle?a.currentStyle[b]:m)||a.style&&a.style[b]}function Hb(a){var b=a.getBoundingClientRect();C&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Ib(a){if(C&&!(C&&8<=Ta))return a.offsetParent;var b=J(a),d=Gb(a,"position"),e="fixed"==d||"absolute"==d;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(d=Gb(a,"position"),e=e&&"static"==d&&a!=b.documentElement&&a!=b.body,!e&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==d||"absolute"==d||"relative"==d))return a;return m}
function Jb(a){var b=a.offsetWidth,d=a.offsetHeight,e=G&&!b&&!d;return(b===i||e)&&a.getBoundingClientRect?(a=Hb(a),new kb(a.right-a.left,a.bottom-a.top)):new kb(b,d)};function M(){0!=Kb&&(this.xi=Error().stack,Lb[z(this)]=this)}var Kb=0,Lb={};M.prototype.te=p;M.prototype.Hc=function(){if(!this.te&&(this.te=l,this.C(),0!=Kb)){var a=z(this);delete Lb[a]}};M.prototype.C=function(){if(this.Ue)for(;this.Ue.length;)this.Ue.shift()()};function Mb(a,b){this.type=a;this.currentTarget=this.target=b}v=Mb.prototype;v.C=q();v.Hc=q();v.Ja=p;v.defaultPrevented=p;v.lc=l;v.stopPropagation=function(){this.Ja=l};v.preventDefault=function(){this.defaultPrevented=l;this.lc=p};var Nb=0;function Ob(){}v=Ob.prototype;v.key=0;v.Ma=p;v.Mb=p;v.Xb=function(a,b,d,e,f,h){ia(a)?this.Le=l:a&&a.handleEvent&&ia(a.handleEvent)?this.Le=p:g(Error("Invalid listener argument"));this.ta=a;this.gf=b;this.src=d;this.type=e;this.capture=!!f;this.Vc=h;this.Mb=p;this.key=++Nb;this.Ma=p};v.handleEvent=function(a){return this.Le?this.ta.call(this.Vc||this.src,a):this.ta.handleEvent.call(this.ta,a)};var Pb=!C||C&&9<=Ta,Qb=C&&!H("9");!G||H("528");E&&H("1.9b")||C&&H("8")||Ga&&H("9.5")||G&&H("528");E&&!H("8")||C&&H("9");function Rb(a){Rb[" "](a);return a}Rb[" "]=ea;function Sb(a,b){a&&this.Xb(a,b)}B(Sb,Mb);v=Sb.prototype;v.target=m;v.relatedTarget=m;v.offsetX=0;v.offsetY=0;v.clientX=0;v.clientY=0;v.screenX=0;v.screenY=0;v.button=0;v.keyCode=0;v.charCode=0;v.ctrlKey=p;v.altKey=p;v.shiftKey=p;v.metaKey=p;v.Fh=p;v.qb=m;
v.Xb=function(a,b){var d=this.type=a.type;Mb.call(this,d);this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(E){var f;a:{try{Rb(e.nodeName);f=l;break a}catch(h){}f=p}f||(e=m)}}else"mouseover"==d?e=a.fromElement:"mouseout"==d&&(e=a.toElement);this.relatedTarget=e;this.offsetX=G||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=G||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==d?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Fh=Ba?a.metaKey:a.ctrlKey;this.state=a.state;this.qb=a;a.defaultPrevented&&this.preventDefault();delete this.Ja};v.stopPropagation=function(){Sb.z.stopPropagation.call(this);this.qb.stopPropagation?this.qb.stopPropagation():this.qb.cancelBubble=l};
v.preventDefault=function(){Sb.z.preventDefault.call(this);var a=this.qb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=p,Qb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};v.C=q();var Tb={},N={},Ub={},Vb={};function O(a,b,d,e,f){if(ga(b))for(var h=0;h<b.length;h++)O(a,b[h],d,e,f);else Wb(a,b,d,p,e,f)}
function Wb(a,b,d,e,f,h){b||g(Error("Invalid event type"));f=!!f;var j=N;b in j||(j[b]={U:0,H:0});j=j[b];f in j||(j[f]={U:0,H:0},j.U++);var j=j[f],k=z(a),n;j.H++;if(j[k]){n=j[k];for(var s=0;s<n.length;s++)if(j=n[s],j.ta==d&&j.Vc==h){if(j.Ma)break;e||(n[s].Mb=p);return}}else n=j[k]=[],j.U++;var r=Xb,t=Pb?function(a){return r.call(t.src,t.ta,a)}:function(a){a=r.call(t.src,t.ta,a);if(!a)return a},s=t,j=new Ob;j.Xb(d,s,a,b,f,h);j.Mb=e;s.src=a;s.ta=j;n.push(j);Ub[k]||(Ub[k]=[]);Ub[k].push(j);a.addEventListener?
(a==w||!a.se)&&a.addEventListener(b,s,f):a.attachEvent(b in Vb?Vb[b]:Vb[b]="on"+b,s);Tb[j.key]=j}function Yb(a,b,d,e,f){if(ga(b))for(var h=0;h<b.length;h++)Yb(a,b[h],d,e,f);else Wb(a,b,d,l,e,f)}function P(a,b,d,e,f){if(ga(b))for(var h=0;h<b.length;h++)P(a,b[h],d,e,f);else{e=!!e;a:{h=N;if(b in h&&(h=h[b],e in h&&(h=h[e],a=z(a),h[a]))){a=h[a];break a}a=m}if(a)for(h=0;h<a.length;h++)if(a[h].ta==d&&a[h].capture==e&&a[h].Vc==f){Zb(a[h].key);break}}}
function Zb(a){if(Tb[a]){var b=Tb[a];if(!b.Ma){var d=b.src,e=b.type,f=b.gf,h=b.capture;d.removeEventListener?(d==w||!d.se)&&d.removeEventListener(e,f,h):d.detachEvent&&d.detachEvent(e in Vb?Vb[e]:Vb[e]="on"+e,f);d=z(d);if(Ub[d]){var f=Ub[d],j=cb(f,b);0<=j&&I.splice.call(f,j,1);0==f.length&&delete Ub[d]}b.Ma=l;if(b=N[e][h][d])b.Qe=l,$b(e,h,d,b);delete Tb[a]}}}
function $b(a,b,d,e){if(!e.$b&&e.Qe){for(var f=0,h=0;f<e.length;f++)e[f].Ma?e[f].gf.src=m:(f!=h&&(e[h]=e[f]),h++);e.length=h;e.Qe=p;0==h&&(delete N[a][b][d],N[a][b].U--,0==N[a][b].U&&(delete N[a][b],N[a].U--),0==N[a].U&&delete N[a])}}function ac(a,b,d,e,f){var h=1;b=z(b);if(a[b]){var j=--a.H,k=a[b];k.$b?k.$b++:k.$b=1;try{for(var n=k.length,s=0;s<n;s++){var r=k[s];r&&!r.Ma&&(h&=bc(r,f)!==p)}}finally{a.H=Math.max(j,a.H),k.$b--,$b(d,e,b,k)}}return Boolean(h)}
function bc(a,b){a.Mb&&Zb(a.key);return a.handleEvent(b)}
function Xb(a,b){if(a.Ma)return l;var d=a.type,e=N;if(!(d in e))return l;var e=e[d],f,h;if(!Pb){f=b||da("window.event");var j=l in e,k=p in e;if(j){if(0>f.keyCode||f.returnValue!=i)return l;a:{var n=p;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(s){n=l}if(n||f.returnValue==i)f.returnValue=l}}n=new Sb;n.Xb(f,this);f=l;try{if(j){for(var r=[],t=n.currentTarget;t;t=t.parentNode)r.push(t);h=e[l];h.H=h.U;for(var x=r.length-1;!n.Ja&&0<=x&&h.H;x--)n.currentTarget=r[x],f&=ac(h,r[x],d,l,n);if(k){h=e[p];h.H=
h.U;for(x=0;!n.Ja&&x<r.length&&h.H;x++)n.currentTarget=r[x],f&=ac(h,r[x],d,p,n)}}else f=bc(a,n)}finally{r&&(r.length=0)}return f}d=new Sb(b,this);return f=bc(a,d)};function cc(){M.call(this)}B(cc,M);v=cc.prototype;v.se=l;v.qd=m;v.addEventListener=function(a,b,d,e){O(this,a,b,d,e)};v.removeEventListener=function(a,b,d,e){P(this,a,b,d,e)};
v.dispatchEvent=function(a){var b=a.type||a,d=N;if(b in d){if(y(a))a=new Mb(a,this);else if(a instanceof Mb)a.target=a.target||this;else{var e=a;a=new Mb(b,this);Ya(a,e)}var e=1,f,d=d[b],b=l in d,h;if(b){f=[];for(h=this;h;h=h.qd)f.push(h);h=d[l];h.H=h.U;for(var j=f.length-1;!a.Ja&&0<=j&&h.H;j--)a.currentTarget=f[j],e&=ac(h,f[j],a.type,l,a)&&a.lc!=p}if(p in d)if(h=d[p],h.H=h.U,b)for(j=0;!a.Ja&&j<f.length&&h.H;j++)a.currentTarget=f[j],e&=ac(h,f[j],a.type,p,a)&&a.lc!=p;else for(f=this;!a.Ja&&f&&h.H;f=
f.qd)a.currentTarget=f,e&=ac(h,f,a.type,p,a)&&a.lc!=p;a=Boolean(e)}else a=l;return a};v.C=function(){cc.z.C.call(this);var a=0;if(this!=m){var b=z(this);if(Ub[b])for(var b=Ub[b],d=b.length-1;0<=d;d--)Zb(b[d].key),a++}else Ua(Tb,function(b,d){Zb(d);a++});this.qd=m};function dc(a,b,d){M.call(this);this.fd=a;this.dh=b||0;this.Ge=d;this.Ig=na(this.Sg,this)}B(dc,M);v=dc.prototype;v.Va=0;v.C=function(){dc.z.C.call(this);this.stop();delete this.fd;delete this.Ge};v.start=function(a){this.stop();var b=this.Ig;a=a!==i?a:this.dh;ia(b)||(b&&"function"==typeof b.handleEvent?b=na(b.handleEvent,b):g(Error("Invalid listener argument")));this.Va=2147483647<a?-1:w.setTimeout(b,a||0)};v.stop=function(){0!=this.Va&&w.clearTimeout(this.Va);this.Va=0};
v.Sg=function(){this.Va=0;this.fd&&this.fd.call(this.Ge)};var ec;ec=ba(l);var Wa={},fc=m;function hc(a){a=z(a);delete Wa[a];Va()&&fc&&fc.stop()}function ic(){fc||(fc=new dc(function(){var a=oa();Ua(Wa,function(d){jc(d,a)});Va()||ic()},20));var a=fc;0!=a.Va||a.start()};function lc(){M.call(this);this.da=mc;this.ue=this.startTime=m}B(lc,cc);var mc=0;lc.prototype.od=function(){this.ia("begin")};lc.prototype.fc=function(){this.ia("end")};lc.prototype.ia=function(a){this.dispatchEvent(a)};function nc(a,b,d,e){lc.call(this);(!ga(a)||!ga(b))&&g(Error("Start and end parameters must be arrays"));a.length!=b.length&&g(Error("Start and end points must be the same length"));this.Bb=a;this.Vg=b;this.duration=d;this.ne=e;this.coords=[];this.oj=p}B(nc,lc);v=nc.prototype;v.ye=0;v.Q=0;v.bd=m;
v.play=function(a){if(a||this.da==mc)this.Q=0,this.coords=this.Bb;else if(1==this.da)return p;hc(this);this.startTime=a=oa();-1==this.da&&(this.startTime-=this.duration*this.Q);this.ue=this.startTime+this.duration;this.bd=this.startTime;this.Q||this.od();this.ia("play");-1==this.da&&this.ia("resume");this.da=1;var b=z(this);b in Wa||(Wa[b]=this);ic();jc(this,a);return l};v.stop=function(a){hc(this);this.da=mc;a&&(this.Q=1);oc(this,this.Q);this.ia("stop");this.fc()};
v.C=function(){this.da==mc||this.stop(p);this.ia("destroy");nc.z.C.call(this)};v.destroy=function(){this.Hc()};function jc(a,b){a.Q=(b-a.startTime)/(a.ue-a.startTime);1<=a.Q&&(a.Q=1);a.ye=1E3/(b-a.bd);a.bd=b;oc(a,a.Q);1==a.Q?(a.da=mc,hc(a),a.ia("finish"),a.fc()):1==a.da&&a.nd()}function oc(a,b){ia(a.ne)&&(b=a.ne(b));a.coords=Array(a.Bb.length);for(var d=0;d<a.Bb.length;d++)a.coords[d]=(a.Vg[d]-a.Bb[d])*b+a.Bb[d]}v.nd=function(){this.ia("animate")};v.ia=function(a){this.dispatchEvent(new pc(a,this))};
function pc(a,b){Mb.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.rj=b.coords[2];this.duration=b.duration;this.Q=b.Q;this.Ei=b.ye;this.state=b.da;this.si=b}B(pc,Mb);function Q(a,b,d,e,f){nc.call(this,b,d,e,f);this.element=a}B(Q,nc);Q.prototype.oc=ea;Q.prototype.nd=function(){this.oc();Q.z.nd.call(this)};Q.prototype.fc=function(){this.oc();Q.z.fc.call(this)};Q.prototype.od=function(){this.oc();Q.z.od.call(this)};function qc(a,b,d,e,f){(2!=b.length||2!=d.length)&&g(Error("Start and end points must be 2D"));Q.apply(this,arguments)}B(qc,Q);
qc.prototype.oc=function(){this.element.style.width=Math.round(this.coords[0])+"px";this.element.style.height=Math.round(this.coords[1])+"px"};var S={a:{}};S.a.k={be:"http://api.qudian.so",yc:"http://api.qudian.so/static/cors/cors.html",ki:"http://api.qudian.so/static/cors/cookie.html",Wh:p,Af:2592E3,Yf:90,Xf:110,ji:0.8,ii:0.618034,li:{xa:0,jb:1,vc:2,ei:4}};S.g={};
S.g.k={c:{Ld:"\u767b\u5f55",Md:"\u9000\u51fa",de:"\u540c\u6b65\u5230\u5fae\u535a",fg:"\u6211\u6dfb\u52a0\u7684\u8da3\u70b9",gg:"\u6211\u7b7e\u5230\u7684\u8da3\u70b9",bg:"\u8bb0\u4f4f\u6211\u7684\u9009\u62e9",rc:"\u8bf7\u5148\u767b\u5f55",wf:"\u589e\u52a0\u8da3\u70b9\u5931\u8d25",Hd:"\u8be5\u5904\u5df2\u7ecf\u5b58\u5728\u8da3\u70b9",ng:"\u4ec0\u4e48\u662f\u8da3\u70b9?",Qf:"\u6709\u8da3\uff1f\u70b9\u4e00\u4e0b\uff01"},url:{dc:"http://qudian.so",Qh:"http://e.weibo.com/qudianso",host:S.a.k.be},offset:{wc:0.2,
gi:2,hi:134,fi:204,Tf:3,Kd:17,qc:3,hb:1,tc:7,uc:5,ib:119,Nd:84,sc:29,xc:35,Td:20,Id:-30,yf:5,Od:70,vf:"0px -220px",xf:"-155px -220px",Uf:"0px -340px",Rf:"-117px -156px",Of:"-79px -156px"},time:{cg:3E3,jg:300,Nf:300,Mf:1E3,ig:300,hg:2E3,Sf:600}};S.g.b={};
S.g.b.ld=function(a,b){var d,e,f;switch(a){case S.g.k.c.Hd:d=S.g.k.offset.vf;break;case S.g.k.c.wf:d=S.g.k.offset.xf;break;case S.g.k.c.rc:d=S.g.k.offset.Uf}e=L("pintex-msgbox");e.style.backgroundPosition=d;e.style.display="block";b?(f=sb(document),d=b.getBoundingClientRect().left,f=b.getBoundingClientRect().top+f.y+S.g.k.offset.Od):(d=0.5*document.body.offsetWidth+sb(document).x,f=0.4*window.screen.availHeight+sb(document).y);d+e.getBoundingClientRect().width>document.body.offsetWidth&&(d=d-e.getBoundingClientRect().width+
b.getBoundingClientRect().width);e.style.left=d+"px";e.style.top=f+"px";setTimeout(function(){e.style.display="none"},S.g.k.time.hg)};S.b={};S.b.S={};S.b.S.once=function(a,b,d){for(var e=a.length,f=0;f<e;f++)if(b.call(d,a[f],f,a))return l;return p};S.b.S.each=function(a,b,d){d=d===i?this:d;for(var e=0,f=a.length;e<f;e++)b.call(d,a[e],e,a)};S.b.S.map=function(a,b,d){d=d?d:this;for(var e=[],f=0,h=a.length;f<h;f++)e[f]=b.call(d,a[f],f,a);return e};S.b.S.indexOf=function(a,b,d){d=d||function(a,b){return a===b};for(var e=0,f=a.length;e<f&&!d(a[e],b);e++);return e===f?-1:e};
S.b.S.concat=function(a,b,d){var e,f;if(d)d=a.slice(),d.push.apply(d,b.slice());else{d=[];e=0;for(f=a.length;e<f;e++)-1===d.indexOf(a[e])&&d.push(d[e]);e=0;for(f=b.length;e<f;e++)-1===d.indexOf(b[e])&&d.push(d[e])}return d};S.b.Dd=function(a){var b;return function(){if(b)return b;b=this;a.apply(this,arguments);return b}};S.b.Ba=function(a,b){var d={};2===arguments.length?a(d):b=a;return function(){var a=Array.prototype.slice.call(arguments);a.unshift(d);return b.apply(this,a)}};S.b.wrap=function(a,b,d){function e(){return a.apply(d,f)}var f;d=d||{};return function(){f=arguments;return b.apply(d,[e].concat(Array.prototype.slice.call(f)))}};
S.b.Sh=function(a,b,d,e){function f(){a.apply(d,arguments)}d=d||{};e=e||d;return function(){return b.apply(e,[f].concat(Array.prototype.slice.call(arguments)))}};S.b.Uh=function(){return S.b.wrap(S.a.b.Fa,function(a){var b=S.b.hash.apply(m,arguments);return S.b.ma(b)||S.b.ma(b,a())},i)};S.b.ui=function(a,b,d){d=d||{};return function(){var e=arguments;S.b.S.each(a,function(a,b){a[1]&&a[0]!==S.b.qe(e[b])&&Array.prototype.splice.call(e,b,0,a[2])});b.apply(d,e)}};
S.b.yi=function(a,b){for(var d in a)"function"===typeof a[d]&&(b[d]=b[d]!==i?S.b.Sh(a[d],b[d],a,b):function(){var b=a[d];return function(){b.apply(a,arguments)}}());return b};
S.b.Gh=function(a,b){var d=window.open(a.url,a.title,["toolbar=no, location=no, directories=no, status=no, menubar=no,copyhistory=no, width=",a.sf,", height=",a.Fe,", top=",(window.screenTop?window.screenTop:window.screenY)+window.innerHeight/2-a.Fe/2,", left="+((window.screenLeft?window.screenLeft:window.screenX)+window.innerWidth/2-a.sf/2)].join("")),e=setInterval(function(){d.closed&&(clearInterval(e),b?b():0)},200)};
S.b.preventDefault=function(a){a=a||window.event;a.preventDefault&&a.preventDefault();a.returnValue&&(a.returnValue=p);return p};S.b.stopPropagation=function(a){a||(a=window.event);a.cancelBubble=l;a.stopPropagation&&a.stopPropagation()};S.b.$i=function(a){return"/"+a.split("/").slice(3).join("/")};S.b.qe=function(a){return a===m?"null":a===i?"undefined":a!==a?"NaN":Object.prototype.toString.call(a).slice(8,-1)};
S.b.qi=S.b.Ba(function(a){a.Yb=[];var b=window.onload;window.onload=function(){for(var d=0;d<a.Yb.length;d++)a.Yb[d]();"function"===typeof b?b():0}},function(){var a=arguments[0];a.Yb.push.apply(a.Yb,Array.prototype.slice.call(arguments,1))});S.b.Mh=function(a,b,d){a=[a,""].join("=");var e=new Date;e.setTime(e.getTime()+-864E5);a+=["; expires",e.toGMTString()].join("=");b?a+=["; path",b].join("="):0;d?a+=["; domain",d].join("="):0;document.cookie=a};
S.b.Ji=function(a){for(var b=document.cookie.split("; "),d=0,e=b.length;d<e;d++){var f=b[d].split("=");if(f[0]===a)return f[1]}return""};S.b.dj=function(a,b,d){S.b.Mh(a,b,d)};S.b.hash=S.b.Ba(function(a){a.hash=a.hash||[];for(var b=[],d=1,e=arguments.length;d<e;d++)-1===a.hash.indexOf(arguments[d])?a.hash.push(arguments[d]):0,b.push(a.hash.indexOf(arguments[d]));return b.join("")});
S.b.ma=S.b.Ba(function(a){var b=arguments.length;return 2===b?a[arguments[1]]:3!==b&&4===b?a[arguments[1]]?(a[arguments[1]].push(arguments[2]),a[arguments[1]]):a[arguments[1]]=[arguments[2]]:a[arguments[1]]=arguments[2]});S.b.Ui=function(a,b){var d=b.Rh||window,e=d.document.createElement("script");b.id&&(e.id=b.id);e.type="text/javascript";e.src=a;e.charset="utf-8";d.document.body.appendChild(e);S.b.Ne(e,b.B);return e};
S.b.Ti=function(a,b){var d=b.Rh||window,e=d.document.createElement("link");b.id&&(e.id=b.id);e.rel="stylesheet";e.type="text/css";e.href=a;d.document.getElementsByTagName("head")[0].appendChild(e);S.b.Ne(e,b.B);return e};S.b.Ne=function(a,b){a.addEventListener?a.addEventListener("load",function(){b&&b()},p):a.readyState&&(a.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&b&&b()})};S.b.error=function(a,b){g({name:a,message:b})};
S.b.vi=function(a,b,d){a||S.b.error(b,d)};S.b.eh=function(){var a=window,b=typeof a.XMLHttpRequest;return"function"==b||!!("object"==b&&a.XMLHttpRequest)||"unknown"==b};var rc=S.b,sc;if(S.b.eh())sc=function(){return new XMLHttpRequest};else{var tc;b:{for(var uc=["Microsoft","Msxml2","Msxml3"],vc=uc.length;vc--;)try{tc=uc[vc]+".XMLHTTP";new ActiveXObject(tc);break b}catch(wc){}tc=i}sc=function(){return new ActiveXObject(tc)}}rc.Ki=sc;S.a.b={};S.a.b.De=function(a,b,d){a=[a];for(var e=0,f,h,j,k,n,s;;){f=a.pop();if(f===i)return m;if(!(f.nodeName in Bb))if(3==f.nodeType){var r=Eb(f).length,e=e+Eb(f).length;e>b&&!h&&(h=f,j=r-(e-b));if(e>=d&&!k){k=f;n=r-(e-d);break}}else if(f.nodeName in Cb)e+=Cb[f.nodeName].length;else for(r=f.childNodes.length-1;0<=r;r--)a.push(f.childNodes[r])}try{if(s=xc(h,j,k,n),s.V()||s.isCollapsed())return m}catch(t){return m}return s};
S.a.b.Pc=function(a,b){for(var d=b||J(a).body,e=[];a&&a!=d;){for(var f=a;f=f.previousSibling;)e.unshift(Eb(f));a=a.parentNode}return e.join("").length};
S.a.b.Fa=function(a){var b=a.j(),d=a.p(),e=a.o();a=a.s();b=S.a.b.Ia(b,d);e=S.a.b.Ia(e,a);a=xc(b.r,b.offset,e.r,e.offset);d="";a=[a.Z()];for(var f=p;0!==a.length&&h!==e.r;){var h=a.pop();h===b.r&&(f=l);if(!(h.nodeName in Bb))if(h.nodeName in Cb)f&&(d+=Cb[h.nodeName]);else if(3==h.nodeType){if(h===b.r&&h===e.r){d+=h.nodeValue.slice(b.offset,e.offset);break}else if(h===b.r){d+=h.nodeValue.slice(b.offset);continue}else if(h===e.r){d+=h.nodeValue.slice(0,e.offset);break}f&&(d+=h.nodeValue)}else for(var j=
h.childNodes,k=j.length-1;0<=k;k--)a.push(j[k])}return d};S.a.b.ih=function(a){var b=a.j(),d=a.p(),e=a.o();a=a.s();b=S.a.b.Ia(b,d);e=S.a.b.Ia(e,a);return xc(b.r,b.offset,e.r,e.offset)};S.a.b.Ia=function(a,b){if(3===a.nodeType){if(a.nodeValue.charAt(b))return{r:a,offset:b}}else if(1===a.nodeType&&a.childNodes[b])return S.a.b.Ia(a.childNodes[b],0);for(;!a.nextSibling;)a=a.parentNode;return S.a.b.Ia(a.nextSibling,0)};S.a.b.Tb=function(){return document.body};
S.a.b.Da=function(a,b){return RegExp("["+(b?"^":"")+a.join("|")+"]","g")};S.a.b.Fa=S.b.Uh();S.b.Re={};S.b.Re.random=function(a,b){a=a||0;return Math.floor(Math.random()*((b||9)-a)+a)};S.b.c={};S.b.c.lj=function(a){for(var b=[],d=a.length-1;0<=d;d--)b.unshift("%u"+a.charCodeAt(d).toString(16));return b.join("")};S.b.c.Hi=function(a){return a.replace(/%u([0-9a-fA-F]+)/g,function(a,d){return String.fromCharCode(parseInt(d,16))})};
S.b.c.nj=function(a){return a.replace(/%u([0-9a-fA-F]+)/g,function(a,d){var e=[];c=parseInt(d,16);128>c?e.push(c):2048>c?e.push(c>>6|192,c&63|128):65536>c?e.push(c>>12|224,c>>6&63|128,c&63|128):e.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128);for(var f=e.length-1;0<=f;f--)e[f]="%"+e[f].toString(16);return e.join("")})};
S.b.c.pj=function(a){a=a.split("%").slice(1);for(var b=0,d=[];b<a.length;){var e=parseInt(a[b],16),f,h,j;0===(e&128)?(d.push(e),b+=1):240===(e&240)?(f=parseInt(a[b+1],16),h=parseInt(a[b+2],16),j=parseInt(a[b+3],16),d.push(((e&7)<<18)+((f&63)<<12)+((h&63)<<6)+(j&63)),b+=4):224===(e&224)?(f=parseInt(a[b+1],16),h=parseInt(a[b+2],16),d.push(((e&15)<<12)+((f&63)<<6)+(h&63)),b+=3):192===(e&192)&&(f=parseInt(a[b+1],16),d.push(((e&31)<<6)+(f&63)),b+=2)}for(b=d.length-1;0<=b;b--)d[b]="%u"+d[b].toString(16);
return d.join("")};S.b.c.mj=function(a){return unicode2utf8(toUnicode(a))};S.b.c.Ii=function(a){return fromUnicode(utf82unicode(a))};S.b.c.kj=function(a){for(var b=[],d=a.length-1;0<=d;d--)b.unshift("&#"+a.charCodeAt(d)+";");return b.join("")};S.b.c.Gi=function(a){return a.replace(/&#(\d+);/g,function(a,d){return String.fromCharCode(d)})};S.b.c.trim=function(a,b){return b?a.replace(/( |\r|\r\n|\n)/g,""):a.replace(/^\s+/g,"").replace(/\s+$/g,"")};S.b.c.Oi=function(a,b,d){return[a.slice(0,b),d,a.slice(b)].join("")};
S.b.c.random=function(a,b){1===arguments.length?"number"===typeof a?b="abcdefghijklmnopqistuvwxyzABCDEFGHIJKLMNOPQISTUVWXYZ":(b=a,a=4):(a=a||4,b=b||"abcdefghijklmnopqistuvwxyzABCDEFGHIJKLMNOPQISTUVWXYZ");for(var d="";0<a;a--)d+=b[S.b.Re.random(0,b.length)];return d};S.b.c.cd=function(a,b){return 0===a.length||0===b.length?Math.max(a.length,b.length):Math.min(S.b.c.cd(a.slice(1),b)+1,S.b.c.cd(a,b.slice(1))+1,S.b.c.cd(a.slice(1),b.slice(1))+(a[0]===b[0]?0:1))};
S.b.c.match=function(a,b){var d=-1;S.b.S.once(b,function(b,f){"String"===S.b.qe(b)?b=RegExp(b):0;if(b.test(a))return d=f,l});return d};S.b.c.Ic=function(a){var b=arguments;return a.replace(/\{(\d+)\}/gi,function(a,e){return b[+e+1]})};S.b.c.Gb="\u4e00-\u9fa5\uf900-\ufa2d";S.b.c.ag="a-zA-Z";S.b.c.Wf="\\s , \\. < > \\/ \\? ; \\: ' \" \\\\ \\| ` ~ ! @ # % \\$ \\^ & \\* \\( \\) \\- _ \\+ = \\[ \\] \\{ \\} \u3000 \uff0c \u3002 \u300a \u3008 \u00ab \u2039 \u300b \u3009 \u00bb \u203a \u3001 \uff0f \u00f7 \uff1f \uff1b \uff1a \u2018 \u2019 \u201c \u201d \u3001 \uff3c \u30fb \u00a7 \u00a6 \uff40 \u301c \uff01 \uff20 \u262f \uff03 \u2318 \uff05 \u00b0 \u2103 \uffe5 \u20ac \u00a3 \u00a5 \u00a2 \u00a4 \u2026\u2026 \uff06 \uff0a \u30fb \u00d7 \u203b \u2742 \u00b7 \uff08 \uff09 \uff0d \u2014\u2014 \uff0b \uff1d \u300c \u3010 \u3014 \uff3b \u300d \u3011 \u3015 \uff3d \u300e \u3016 \uff5b \u300f \u3017 \uff5d".split(" ");
S.b.c.ae=S.b.c.Wf.join("|");S.b.c.Yg=function(a){return S.b.c.trim(a).split(/\s+/g).length};S.b.c.Sb=function(a){return a.length-a.replace(RegExp("["+S.b.c.Gb+"]","g"),"").length};S.b.c.indexOf=function(a,b,d,e){function f(a,b){return"string"===typeof b?a===b:(b.lastIndex=0,b.test(a))}d=d||0;if(e)for(;0<=d;d--){if(f(a[d],b))return d}else for(e=a.length;d<e;d++)if(f(a[d],b))return d;return-1};function yc(a){this.config(a)}var zc="\\. \u3002 ; \uff1b ' \u2018 \" \u201c , \uff0c".split(" "),Ac="\\. \u3002 ; \uff1b ' \u2018 \" \u201d , \uff0c".split(" "),Bc=["\\s",S.b.c.Gb];yc.prototype.config=function(a){a=a||{};this.quote_min=2*(a.quote_min!==i?a.quote_min:S.a.k.Yf);this.quote_max=2*(a.quote_max!==i?a.quote_max:S.a.k.Xf);return this};
yc.prototype.Ce=function(a,b,d){var e=[b,d],f=[b,d],h=[0,a.length];(Cc(a.substring(b,d))>this.quote_max||this.quote_min>Cc(a))&&S.b.error("out of limits","qtext longer than quote_max or quote_min longer than content");if(Cc(a)<=this.quote_max)return h;b=this.quote_min;for(d=this.wg;Cc(a.substring.apply(a,e))<b;)d.call(this,a,e,h,l),e[0]<h[0]&&(e[0]=h[0]),e[1]>h[1]&&(e[1]=h[1]);h=this.quote_max;for(b=this.xg;Cc(a.substring.apply(a,e))>h;)b.call(this,a,e,f,p),e[0]>f[0]&&(e[0]=f[0]),e[1]<f[1]&&(e[1]=
f[1]);for(;-1!==zc.indexOf(a[e[0]]);)e[0]++;for(;-1!==Ac.indexOf(a[e[1]-1]);)e[1]--;return e};yc.prototype.wg=S.b.Ba(function(a,b,d,e,f){var h;a.reverse=!a.reverse;a.reverse?(e=f?0:1,f=d[e]-1,h=S.a.b.Da(Ac)):(e=f?1:0,f=d[e]+1,h=S.a.b.Da(zc));f=S.b.c.indexOf(b,h,f,a.reverse);d[e]=-1===f?a.reverse?0:b.length:f});
yc.prototype.xg=S.b.Ba(function(a,b,d,e,f){a.reverse=!a.reverse;a.reverse?(e=f?0:1,f=d[e]-1):(e=f?1:0,f=d[e]+1);f=S.b.c.indexOf(b,S.a.b.Da(Bc),f,a.reverse);d[e]=-1===f?a.reverse?0:b.length:f});function Cc(a){return a.length+S.b.c.Sb(a)}S.a.Quote=yc;yc.prototype.getQuote=yc.prototype.Ce;S.b.object={};S.b.object.clone=function(a){var b={},d;for(d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);return b};S.b.object.keys=function(a){var b=[],d;for(d in a)a.hasOwnProperty(d)&&b.push(d);return b};S.b.object.ka=function(a){var b,d=Array.prototype.slice.call(arguments,1),e,f;e=0;for(f=d.length;e<f;e++)for(b in d[e])d[e].hasOwnProperty(b)&&(a[b]=d[e][b]);return a};S.a.b.Fb=S.b.Dd(function(){this.G=S.b.ma("rpc")||S.b.ma("rpc",new easyXDM.Rpc({remote:S.a.k.yc},{remote:{request:{}}}))});S.a.b.Fb.prototype.set=function(a,b,d,e){this.G.request({url:"/inner/cookie/set",data:{key:a,value:b,secs:d||S.a.k.Af}},function(a){e&&e(a)})};S.a.b.Fb.prototype.get=function(a,b){this.G.request({url:"/inner/cookie/get",data:{key:a}},function(a){b&&b(a)})};S.a.b.Fb.prototype.remove=function(a,b){this.G.request({url:"/inner/cookie/remove",data:{key:a}},function(a){b&&b(a)})};
S.a.b.cookie=new S.a.b.Fb;S.a.b.cookie.set=S.a.b.cookie.set;S.a.b.cookie.get=S.a.b.cookie.get;S.a.b.cookie.remove=S.a.b.cookie.remove;S.fb={};S.fb.Eb={};var Dc=S.fb,Ec;"undefined"!==typeof module&&module.xe&&(Ec=require("buffer").Vh);for(var Fc={},Gc=0;64>Gc;Gc++)Fc["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(Gc)]=Gc;var Hc=String.fromCharCode;function Ic(a){var b=a.charCodeAt(0);return 128>b?a:2048>b?Hc(192|b>>>6)+Hc(128|b&63):Hc(224|b>>>12&15)+Hc(128|b>>>6&63)+Hc(128|b&63)}function Jc(a){return a.replace(/[^\x00-\x7F]/g,Ic)}
function Kc(a){var b=[0,2,1][a.length%3];a=a.charCodeAt(0)<<16|(1<a.length?a.charCodeAt(1):0)<<8|(2<a.length?a.charCodeAt(2):0);return["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>18),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>12&63),2<=b?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6&63),1<=b?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a&63)].join("")}
var Lc=Dc.btoa||function(a){return a.replace(/[\s\S]{1,3}/g,Kc)},Mc=Ec?function(a){return(new Ec(a)).toString("base64")}:function(a){return Lc(Jc(a))};function Nc(a,b){return!b?Mc(a):Mc(a).replace(/[+\/]/g,function(a){return"+"==a?"-":"_"})}var Oc=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}/g;function Pc(a){return Hc(3>a.length?(31&a.charCodeAt(0))<<6|63&a.charCodeAt(1):(15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2))}function Sc(a){return a.replace(Oc,Pc)}
function Tc(a){var b=a.length,d=b%4;a=(0<b?Fc[a.charAt(0)]<<18:0)|(1<b?Fc[a.charAt(1)]<<12:0)|(2<b?Fc[a.charAt(2)]<<6:0)|(3<b?Fc[a.charAt(3)]:0);a=[Hc(a>>>16),Hc(a>>>8&255),Hc(a&255)];a.length-=[0,0,2,1][d];return a.join("")}var Uc=Dc.atob||function(a){return a.replace(/[\s\S]{1,4}/g,Tc)},Vc=Ec?function(a){return(new Ec(a,"base64")).toString()}:function(a){return Sc(Uc(a))};function Wc(a){return Vc(a.replace(/[-_]/g,function(a){return"-"==a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}
Dc.Eb={atob:Uc,btoa:Lc,Fi:Wc,jj:Nc,qj:Jc,Ug:Nc,zi:function(a){return Nc(a,l)},wi:Sc,Rg:Wc};if("function"===typeof Object.defineProperty){var Xc=function(a){return{value:a,enumerable:p,writable:l,configurable:l}};Dc.Eb.Bi=function(){Object.defineProperty(String.prototype,"fromBase64",Xc(function(){return Wc(this)}));Object.defineProperty(String.prototype,"toBase64",Xc(function(a){return Nc(this,a)}))}};S.a.Jd=S.b.Dd(function(){this.t={Me:{uf:"/q/add",kg:"/q/update",eg:"/q/ban",Pf:"/q/like",Ef:"/q/",Ff:"/q/p/",bi:"/p/",Xh:"/q/u/added/",Zh:"/q/u/liked/",ai:"/q/pop/",ci:"/q/qtext/",di:"/q/qurl/",Lf:"/u/qlist/",Kf:"/u/",lg:"/u/info",$h:"/u/q/liked/",Yh:"/u/q/isliked/"},Hf:"/qlinks/from/one/",Gf:"/qlinks/from/",Cf:"/qlinks/",Jf:"/qlinks/url/",tf:"/qlinks/create",dg:"/qlink/",If:"/qlinks/related/from/",Df:"/qlinks/start",Ld:"/u/login/",Md:"/u/logout",Vf:"/si/monitor"};this.G=S.b.ma("rpc")||S.b.ma("rpc",
new easyXDM.Rpc({remote:S.a.k.yc},{remote:{request:{}}}));this.cookie=S.a.b.cookie;for(var a in this.t.Me)this.t[a]="/json"+this.t.Me[a]});S.a.q=new S.a.Jd;v=S.a.Jd.prototype;v.initialize=function(a){var b=this;this.G.request({url:"/inner/init",data:{AUTH_KEY_ID:window._pintex.auth[0],AUTH_KEY_SECRET:window._pintex.auth[1]}},function(){b.cookie.set("src_id",window._pintex.auth[0],m,function(){a&&a()})})};
v.J=function(a,b){var d=Yc({uid:a.uid,qurl:a.qurl,qtext:a.qtext,qquote:a.qquote,search_loc:a.search_loc,range_loc:a.range_loc,share2sns:a.shareAdd===i?l:a.shareAdd,qtitle:a.qtitle,qquoteindex:a.qquoteindex});T(this,{url:this.t.uf,method:"POST",data:{data:d}},b)};v.Lc=function(a,b){var d=S.b.c.Ic(this.t.Ef+"{0}/{1}",a.qid,a.uid||0);T(this,{url:d,method:"GET"},b)};
v.ba=function(a,b){stream=Yc({uid:a.uid,qid:a.qid,client:a.Lg,client_ver:a.Mg,share2sns:a.shareLike===i?l:a.shareLike});T(this,{url:this.t.Pf,method:"POST",data:{data:stream}},b)};v.nc=function(a,b){var d=Yc({qid:a.qid,search_loc:a.search_loc,range_loc:a.range_loc});T(this,{url:this.t.kg,method:"POST",data:{data:d}},b)};v.ab=function(a,b){var d=Yc({qid:a.qid});T(this,{url:this.t.eg,method:"POST",data:{data:d}},b)};
v.Ub=function(a,b){var d=S.b.c.Ic(this.t.Ff+"{0}/{1}",a.uid||0,a.url);T(this,{url:d,method:"GET"},b)};v.Uc=function(a,b){var d=S.b.c.Ic(this.t.Lf+"{0}/{1}/{2}",a.uid,a.Qi||0,a.fj||0);T(this,{url:d,method:"GET"},b)};v.rb=function(a){T(this,{url:this.t.lg,method:"GET"},a)};v.Tc=function(a,b){T(this,{url:this.t.Kf+a.uid||0,method:"GET"},b)};
v.gb=function(a,b){"function"===typeof a?(b=a,this.cookie.get("userConfig",function(a){a?(a=JSON.parse(a),b(a)):b({shareAdd:l,shareLike:l,rememberAdd:p,rememberLike:p})})):this.cookie.set("userConfig",JSON.stringify(a),m,function(){b&&b()})};v.u=function(a,b){S.b.Gh({url:S.a.k.be+this.t.Ld+a,title:"\u8da3\u70b9\u767b\u5f55",sf:750,Fe:450},function(){b&&b()})};v.O=function(a){this.cookie.remove("uid",function(){a&&a()})};v.Nc=function(a,b){T(this,{url:this.t.Hf+a.qid,method:"GET"},b)};
v.Mc=function(a,b){T(this,{url:this.t.Gf+a.Ih,method:"GET"},b)};v.Jc=function(a,b){T(this,{url:this.t.Cf+("0"===a.ff?"":a.ff),method:"GET"},b)};v.Sc=function(a,b){T(this,{url:this.t.Jf+a.url,method:"GET"},b)};v.Fc=function(a,b){var d=Yc({qid_start:a.sd,qids_end:a.Jh});T(this,{url:this.t.tf,method:"POST",data:{data:d}},b)};v.wd=function(a,b){T(this,{url:this.t.dg+a.sd+"/"+a.Hh,method:"DELETE"},b)};v.Oc=function(a,b){T(this,{url:this.t.If+a.qid,method:"GET"},b)};
v.Kc=function(a){T(this,{url:this.t.Df,method:"GET"},a)};function Yc(a){a=JSON.stringify(a);return S.fb.Eb.Ug(a)}function T(a,b,d){var e=(new Date).getTime();Zc(a,b,function(f){var h=(new Date).getTime();1E3<h-e&&(h=Yc({api:b.url,data:b.data||"",orig_url:window.location.href,time:h-e}),Zc(a,{url:a.t.Vf,method:"POST",data:{data:h}}));d&&d(f)})}
function Zc(a,b,d){a.G.request(b,function(a){var b;if(d&&0!==a.data.length)try{var h=S.fb.Eb.Rg(a.data);b=JSON.parse(h)}catch(j){console.log("Server JSON parse error"),d&&d(m)}else b=m;d&&d(b)})};S.a.cj={};function $c(){return this}$c.prototype.X=function(a){var b=a.j(),d=a.p();a.o();a.s();b=d+S.a.b.Pc(b,S.a.b.Tb());a=b+S.a.b.Fa(a).length;return[b,a]};$c.prototype.pa=function(a){return S.a.b.De(S.a.b.Tb(),a[0],a[1])};$c.prototype.serialize=$c.prototype.X;$c.prototype.deserialize=$c.prototype.pa;function ad(){return this}ad.prototype.X=function(a){var b={},d=S.a.b.Tb(),e=Eb(d);b.text=S.a.b.Fa(a);a=a.p()+S.a.b.Pc(a.j(),d);b.md=bd(e.substr(0,a),b.text)+1;b.total=bd(e,b.text);return b};ad.prototype.pa=function(a){var b,d,e=S.a.b.Tb(),f=Eb(e);if(bd(f,a.text)!==a.total)return m;try{for(var h=a.text,j=a.md,k=0;0!==j;)k=f.indexOf(h,k),-1===k&&S.b.error("qtext not found in text"),k+=h.length,j--;b=k-h.length;d=b+a.text.length;return S.a.b.De(e,b,d)}catch(n){return m}};
function bd(a,b){for(var d=0,e=0;-1!==(e=a.indexOf(b,e));)e+=b.length,d++;return d}ad.prototype.serialize=ad.prototype.X;ad.prototype.deserialize=ad.prototype.pa;function cd(a){this.config(a)}cd.prototype.config=function(a){a=a||{};this.ud=new $c;this.kf=new ad;this.quote=new yc(a);return this};
cd.prototype.X=function(a){if(0===S.b.c.trim(a.aa(),l).length)return m;try{var b=this.kf.X(a);b.ec=this.ud.X(a);b.title=document.title;for(var d,e=this.quote,f,h,j=a.Z().parentNode,k=Eb(j);Cc(k)<e.quote_min;)j=j.parentNode,k=Eb(j);f=S.a.b.Pc(a.j(),j)+a.p();h=f+S.a.b.Fa(a).length;d=[k,f,h];var n=this.quote.Ce.apply(this.quote,d),s=d[0].substring.apply(d[0],n);b.$a=d[1]-n[0];b.quote=s;var r=b.quote.slice(0,b.$a),t=b.quote.slice(b.$a+b.text.length),x,R;x=r.replace(/(\r|\r\n|\n)/g," ").replace(/\s+/g,
" ");R=t.replace(/(\r|\r\n|\n)/g," ").replace(/\s+/g," ");b.$a-=r.length-x.length;b.quote=x+b.text+R;return dd(b)}catch(D){return console.log(D),m}};
cd.prototype.pa=function(a,b){var d=a,e=S.b.object.clone(d);e.text=d.qtext;e.quote=d.qquote;e.title=d.qtitle;e.ec=fb(d.range_loc.split(";"),function(a){return+a});e.md=+d.search_loc.split(";")[0];e.total=+d.search_loc.split(";")[1];e.$a=d.qquoteindex;a=e;d=this.ud.pa(a.ec);if(d===m||S.a.b.Fa(d)!==a.text)d=this.kf.pa(a),d!==m&&S.a.b.Fa(d)===a.text?(a.ec=this.ud.X(d),a=dd(a),a.qid&&S.a.q.nc(a)):b&&S.a.q.ab(a);return d};
function dd(a){var b=S.b.object.clone(a);b.qtext=a.text;b.qquote=a.quote;b.qtitle=a.title;b.range_loc=a.ec.join(";");b.search_loc=a.md+";"+a.total;b.qquoteindex=a.$a;return b}cd.prototype.serialize=cd.prototype.X;cd.prototype.deserialize=cd.prototype.pa;S.a.action={};S.a.action.J=function(a,b,d,e){(b=(new cd).X(b))&&a&&"object"===typeof d?(b.uid=a,b.qurl=window.location.href,S.b.object.ka(b,d),S.a.q.J(b,e)):S.b.error("argument not correct")};S.a.action.ba=function(a,b,d,e){a&&b&&"object"===typeof d?S.a.q.ba(S.b.object.ka({uid:a,qid:b,Lg:Ca(),Mg:La},d),e):S.b.error("argument not correct")};S.a.action.nc=function(a,b,d){a&&"object"===typeof b?S.a.q.nc(S.b.object.ka({qid:a},b),d):S.b.error("argument not correct")};
S.a.action.ab=function(a,b){a?S.a.q.ab({qid:a},b):S.b.error("argument not correct")};S.a.action.u=function(a,b){a?S.a.q.u(a,function(){S.a.q.rb(b)}):S.b.error("argument not correct")};S.a.action.O=function(a){S.a.q.O(a)};S.a.action.Fc=function(a,b,d){a&&b?S.a.q.Fc({sd:a,Jh:"object"===typeof b?b.join(","):b+""},d):S.b.error("argument not correct")};S.a.action.wd=function(a,b,d){a&&b?S.a.q.wd({sd:a,Hh:b},d):S.b.error("argument not correct")};S.a.action.addQpoint=S.a.action.J;S.a.action.likeQpoint=S.a.action.ba;
S.a.action.login=S.a.action.u;S.a.action.logout=S.a.action.O;S.a.action.removeQpoint=S.a.action.ab;S.a.action.updateQpoint=S.a.action.nc;S.a.action.addQlink=S.a.action.Fc;S.a.action.removeQlink=S.a.action.wd;S.a.data={};S.a.data.Lc=function(a,b,d){a&&"object"===typeof b?S.a.q.Lc(S.b.object.ka({qid:a},b),d):S.b.error("argument not correct")};S.a.data.Tc=function(a,b){a?S.a.q.Tc({uid:a},b):S.b.error("argument not correct")};S.a.data.rb=function(a){S.a.q.rb(a)};S.a.data.Ub=function(a,b,d){a&&"object"===typeof b?S.a.q.Ub(S.b.object.ka({url:encodeURIComponent(escape(a))},b),d):S.b.error("argument not correct")};S.a.data.Uc=function(a,b,d){a&&"object"===typeof b?S.a.q.Uc(S.b.object.ka({uid:a},b),d):S.b.error("argument not correct")};
S.a.data.gb=function(a,b){S.a.q.gb.apply(S.a.q,arguments)};S.a.data.Nc=function(a,b){a?S.a.q.Nc({qid:a},b):S.b.error("argument not correct")};S.a.data.Mc=function(a,b){a?S.a.q.Mc({Ih:"object"===typeof a?a.join(","):a+""},b):S.b.error("argument not correct")};S.a.data.Jc=function(a,b){a?S.a.q.Jc({ff:a},b):S.b.error("argument not correct")};S.a.data.Sc=function(a,b){a?S.a.q.Sc({url:encodeURIComponent(escape(a))},b):S.b.error("argument not correct")};S.a.data.Oc=function(a,b){a?S.a.q.Oc({qid:a},b):S.b.error("argument not correct")};
S.a.data.Kc=function(a){S.a.q.Kc(a)};S.a.data.getCurrentUser=S.a.data.rb;S.a.data.getPageQpointList=S.a.data.Ub;S.a.data.getQpoint=S.a.data.Lc;S.a.data.getUser=S.a.data.Tc;S.a.data.getUserQpointList=S.a.data.Uc;S.a.data.userConfig=S.a.data.gb;S.a.data.getQlinkList=S.a.data.Jc;S.a.data.getQlinkManage=S.a.data.Kc;S.a.data.getQpointListQlinkList=S.a.data.Mc;S.a.data.getQpointQlinkList=S.a.data.Nc;S.a.data.getQpointQlinkQpointList=S.a.data.Oc;S.a.data.getUrlQlinkList=S.a.data.Sc;S.a.b.ee=S.b.Dd(function(){this.G=S.b.ma("rpc")||S.b.ma("rpc",new easyXDM.Rpc({remote:S.a.k.yc},{remote:{request:{}}}))});v=S.a.b.ee.prototype;v.setItem=function(a,b,d,e){b?this.G.request({url:"/inner/storage/set",data:{key:a,value:b,expire:d+(new Date).getTime()}},function(a){e&&e(a)}):e&&e(m)};v.getItem=function(a,b){this.G.request({url:"/inner/storage/get",data:{key:a}},function(a){b&&b(a)})};v.removeItem=function(a,b){this.G.request({url:"/inner/storage/remove",data:{key:a}},function(a){b&&b(a)})};
v.length=function(a){this.G.request({url:"/inner/storage/length"},function(b){a&&a(b)})};v.key=function(a,b){this.G.request({url:"/inner/storage/key",data:{index:a}},function(a){b&&b(a)})};v.clear=function(a){this.G.request({url:"/inner/storage/clear"},function(b){a&&a(b)})};v.keys=function(a){this.G.request({url:"/inner/storage/keys"},function(b){a&&a(b)})};v.count=function(a){this.G.request({url:"/inner/storage/count"},function(b){a&&a(b)})};S.a.b.v=new S.a.b.ee;S.a.b.v.clear=S.a.b.v.clear;
S.a.b.v.count=S.a.b.v.count;S.a.b.v.getItem=S.a.b.v.getItem;S.a.b.v.key=S.a.b.v.key;S.a.b.v.keys=S.a.b.v.keys;S.a.b.v.length=S.a.b.v.length;S.a.b.v.removeItem=S.a.b.v.removeItem;S.a.b.v.setItem=S.a.b.v.setItem;var ed="StopIteration"in w?w.StopIteration:Error("StopIteration");function fd(){}fd.prototype.next=function(){g(ed)};fd.prototype.ya=function(){return this};function gd(a){if(a instanceof fd)return a;if("function"==typeof a.ya)return a.ya(p);if(ha(a)){var b=0,d=new fd;d.next=function(){for(;;){b>=a.length&&g(ed);if(b in a)return a[b++];b++}};return d}g(Error("Not implemented"))};function hd(a,b,d,e,f){this.F=!!b;a&&id(this,a,e);this.depth=f!=i?f:this.R||0;this.F&&(this.depth*=-1);this.Nb=!d}B(hd,fd);v=hd.prototype;v.r=m;v.R=0;v.Ed=p;function id(a,b,d,e){if(a.r=b)a.R="number"==typeof d?d:1!=a.r.nodeType?0:a.F?-1:1;"number"==typeof e&&(a.depth=e)}v.ha=function(a){this.r=a.r;this.R=a.R;this.depth=a.depth;this.F=a.F;this.Nb=a.Nb};v.clone=function(){return new hd(this.r,this.F,!this.Nb,this.R,this.depth)};
v.next=function(){var a;if(this.Ed){(!this.r||this.Nb&&0==this.depth)&&g(ed);a=this.r;var b=this.F?-1:1;if(this.R==b){var d=this.F?a.lastChild:a.firstChild;d?id(this,d):id(this,a,-1*b)}else(d=this.F?a.previousSibling:a.nextSibling)?id(this,d):id(this,a.parentNode,-1*b);this.depth+=this.R*(this.F?-1:1)}else this.Ed=l;(a=this.r)||g(ed);return a};
v.splice=function(a){var b=this.r,d=this.F?1:-1;this.R==d&&(this.R=-1*d,this.depth+=this.R*(this.F?-1:1));this.F=!this.F;hd.prototype.next.call(this);this.F=!this.F;for(var d=ha(arguments[0])?arguments[0]:arguments,e=d.length-1;0<=e;e--)b.parentNode&&b.parentNode.insertBefore(d[e],b.nextSibling);b&&b.parentNode&&b.parentNode.removeChild(b)};function jd(a){this.config(a)}jd.prototype.config=function(a){a=a||{};this.Gd=a.Gd;return this};jd.prototype.Wb=function(a,b){var d=a,e=d.j(),f=d.p(),h=d.o(),d=d.s();e===h?(h=e=kd(e,f),d-=f):e=kd(e,f);f=0;kd(h,d);a=xc(e,f,h,d);var e=a.ya(),f=[],j,k;try{for(;j=e.next();){var h=j,n=this.Gd(b);3===h.nodeType&&0!==Eb(h).replace(/(\r|\r\n|\n)/g,"").replace(/\s+/g,"").length?(h.parentNode.replaceChild(n,h),n.appendChild(h),k=n):k=m;k&&f.push(k)}}catch(s){return f}};
function kd(a,b){var d=a.cloneNode(p);d.deleteData(0,b);a.deleteData(b,a.length-b);a.parentNode&&a.parentNode.insertBefore(d,a.nextSibling);return d}S.a.Qmark=jd;jd.prototype.highlight=jd.prototype.Wb;S.a.Ci={};Array.prototype.indexOf=Array.prototype.indexOf||function(a,b){for(var d=this.length,e=b||0;e<d;e++)if(this[e]===a)return e;return-1};function ld(a){return md(a||arguments.callee.caller,[])}
function md(a,b){var d=[];if(0<=cb(b,a))d.push("[...circular reference...]");else if(a&&50>b.length){d.push(nd(a)+"(");for(var e=a.arguments,f=0;f<e.length;f++){0<f&&d.push(", ");var h;h=e[f];switch(typeof h){case "object":h=h?"object":"null";break;case "string":break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=nd(h))?h:"[fn]";break;default:h=typeof h}40<h.length&&(h=h.substr(0,40)+"...");d.push(h)}b.push(a);d.push(")\n");try{d.push(md(a.caller,b))}catch(j){d.push("[exception trying to get caller]\n")}}else a?
d.push("[...long stack...]"):d.push("[end]");return d.join("")}function nd(a){if(od[a])return od[a];a=String(a);if(!od[a]){var b=/function ([^\(]+)/.exec(a);od[a]=b?b[1]:"[Anonymous]"}return od[a]}var od={};function pd(a,b,d,e,f){this.reset(a,b,d,e,f)}pd.prototype.Lh=0;pd.prototype.we=m;pd.prototype.ve=m;var qd=0;pd.prototype.reset=function(a,b,d,e,f){this.Lh="number"==typeof f?f:qd++;this.ij=e||oa();this.ub=a;this.gh=b;this.Wi=d;delete this.we;delete this.ve};pd.prototype.lf=function(a){this.ub=a};function rd(a){this.hh=a}rd.prototype.ic=m;rd.prototype.ub=m;rd.prototype.Gc=m;rd.prototype.Ie=m;function sd(a,b){this.name=a;this.value=b}sd.prototype.toString=u("name");var td=new sd("SEVERE",1E3),ud=new sd("WARNING",900),vd=new sd("CONFIG",700);v=rd.prototype;v.getParent=u("ic");v.ze=function(){this.Gc||(this.Gc={});return this.Gc};v.lf=function(a){this.ub=a};function wd(a){if(a.ub)return a.ub;if(a.ic)return wd(a.ic);ab("Root logger has no level set.");return m}
v.log=function(a,b,d){if(a.value>=wd(this).value){a=this.Zg(a,b,d);b="log:"+a.gh;w.console&&(w.console.timeStamp?w.console.timeStamp(b):w.console.markTimeline&&w.console.markTimeline(b));w.msWriteProfilerMark&&w.msWriteProfilerMark(b);for(b=this;b;){d=b;var e=a;if(d.Ie)for(var f=0,h=i;h=d.Ie[f];f++)h(e);b=b.getParent()}}};
v.Zg=function(a,b,d){var e=new pd(a,String(b),this.hh);if(d){e.we=d;var f;var h=arguments.callee.caller;try{var j;var k=da("window.location.href");if(y(d))j={message:d,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var n,s,r=p;try{n=d.lineNumber||d.Si||"Not available"}catch(t){n="Not available",r=l}try{s=d.fileName||d.filename||d.sourceURL||k}catch(x){s="Not available",r=l}j=r||!d.lineNumber||!d.fileName||!d.stack?{message:d.message,name:d.name,lineNumber:n,
fileName:s,stack:d.stack||"Not available"}:d}f="Message: "+ra(j.message)+'\nUrl: <a href="view-source:'+j.fileName+'" target="_new">'+j.fileName+"</a>\nLine: "+j.lineNumber+"\n\nBrowser stack:\n"+ra(j.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ra(ld(h)+"-> ")}catch(R){f="Exception trying to expose exception! You win, we lose. "+R}e.ve=f}return e};v.config=function(a,b){this.log(vd,a,b)};var xd={},yd=m;
function zd(a){yd||(yd=new rd(""),xd[""]=yd,yd.lf(vd));var b;if(!(b=xd[a])){b=new rd(a);var d=a.lastIndexOf("."),e=a.substr(d+1),d=zd(a.substr(0,d));d.ze()[e]=b;b.ic=d;xd[a]=b}return b};function Ad(){M.call(this)}B(Ad,M);zd("goog.dom.SavedRange");function Bd(){}function Cd(a){if(a.getSelection)return a.getSelection();a=a.document;var b=a.selection;if(b){try{var d=b.createRange();if(d.parentElement){if(d.parentElement().document!=a)return m}else if(!d.length||d.item(0).document!=a)return m}catch(e){return m}return b}return m}function Dd(a){for(var b=[],d=0,e=a.Ta();d<e;d++)b.push(a.ra(d));return b}Bd.prototype.V=ba(p);Bd.prototype.Ae=function(){return J(C?this.Z():this.j())};Bd.prototype.Ee=function(){return tb(this.Ae())};
Bd.prototype.containsNode=function(a,b){return this.oa(Ed(Fd(a),i),b)};function Gd(a,b){hd.call(this,a,b,l)}B(Gd,hd);function Hd(){}B(Hd,Bd);Hd.prototype.oa=function(a,b){var d=Dd(this),e=Dd(a);return(b?gb:hb)(e,function(a){return gb(d,function(d){return d.oa(a,b)})})};function Id(a,b,d,e,f){var h;a&&(this.i=a,this.n=b,this.h=d,this.m=e,1==a.nodeType&&"BR"!=a.tagName&&(a=a.childNodes,(b=a[b])?(this.i=b,this.n=0):(a.length&&(this.i=bb(a)),h=l)),1==d.nodeType&&((this.h=d.childNodes[e])?this.m=0:this.h=d));hd.call(this,f?this.h:this.i,f,l);if(h)try{this.next()}catch(j){j!=ed&&g(j)}}B(Id,Gd);v=Id.prototype;v.i=m;v.h=m;v.n=0;v.m=0;v.j=u("i");v.o=u("h");v.tb=function(){return this.Ed&&this.r==this.h&&(!this.m||1!=this.R)};v.next=function(){this.tb()&&g(ed);return Id.z.next.call(this)};
v.ha=function(a){this.i=a.i;this.h=a.h;this.n=a.n;this.m=a.m;this.W=a.W;Id.z.ha.call(this,a)};v.clone=function(){var a=new Id(this.i,this.n,this.h,this.m,this.W);a.ha(this);return a};function Jd(){}v=Jd.prototype;v.Ga=function(){var a=this.d.getClientRects();return a.length?new jb(a[0].left,a[0].top):m};v.Ea=function(){var a=this.d.getClientRects();return a.length?(a=bb(a),new jb(a.right,a.bottom)):m};v.oa=function(a,b){var d=b&&!a.isCollapsed(),e=a.d;try{return d?0<=this.M(e,0,1)&&0>=this.M(e,1,0):0<=this.M(e,0,0)&&0>=this.M(e,1,1)}catch(f){return C||g(f),p}};v.containsNode=function(a,b){return this.oa(Fd(a),b)};v.ya=function(){return new Id(this.j(),this.p(),this.o(),this.s())};function Kd(a){this.d=a}B(Kd,Jd);function Ld(a){var b=J(a).createRange();if(3==a.nodeType)b.setStart(a,0),b.setEnd(a,a.length);else if(U(a)){for(var d,e=a;(d=e.firstChild)&&U(d);)e=d;b.setStart(e,0);for(e=a;(d=e.lastChild)&&U(d);)e=d;b.setEnd(e,1==e.nodeType?e.childNodes.length:e.length)}else d=a.parentNode,a=cb(d.childNodes,a),b.setStart(d,a),b.setEnd(d,a+1);return b}function Md(a,b,d,e){var f=J(a).createRange();f.setStart(a,b);f.setEnd(d,e);return f}v=Kd.prototype;v.clone=function(){return new this.constructor(this.d.cloneRange())};
v.Z=function(){return this.d.commonAncestorContainer};v.j=function(){return this.d.startContainer};v.p=function(){return this.d.startOffset};v.o=function(){return this.d.endContainer};v.s=function(){return this.d.endOffset};v.M=function(a,b,d){return this.d.compareBoundaryPoints(1==d?1==b?w.Range.START_TO_START:w.Range.START_TO_END:1==b?w.Range.END_TO_START:w.Range.END_TO_END,a)};v.isCollapsed=function(){return this.d.collapsed};v.aa=function(){return this.d.toString()};
v.select=function(a){var b=tb(J(this.j()));this.xb(b.getSelection(),a)};v.xb=function(a){a.removeAllRanges();a.addRange(this.d)};v.collapse=function(a){this.d.collapse(a)};function Nd(a){this.d=a}B(Nd,Kd);Nd.prototype.M=function(a,b,d){return H("528")?Nd.z.M.call(this,a,b,d):this.d.compareBoundaryPoints(1==d?1==b?w.Range.START_TO_START:w.Range.END_TO_START:1==b?w.Range.START_TO_END:w.Range.END_TO_END,a)};Nd.prototype.xb=function(a,b){a.removeAllRanges();b?a.setBaseAndExtent(this.o(),this.s(),this.j(),this.p()):a.setBaseAndExtent(this.j(),this.p(),this.o(),this.s())};function Od(a,b){this.d=a;this.Tg=b}B(Od,Jd);var Pd=zd("goog.dom.browserrange.IeRange");function Qd(a){var b=J(a).body.createTextRange();if(1==a.nodeType)b.moveToElementText(a),U(a)&&!a.childNodes.length&&b.collapse(p);else{for(var d=0,e=a;e=e.previousSibling;){var f=e.nodeType;if(3==f)d+=e.length;else if(1==f){b.moveToElementText(e);break}}e||b.moveToElementText(a.parentNode);b.collapse(!e);d&&b.move("character",d);b.moveEnd("character",a.length)}return b}v=Od.prototype;v.ca=m;v.i=m;v.h=m;v.n=-1;
v.m=-1;v.clone=function(){var a=new Od(this.d.duplicate(),this.Tg);a.ca=this.ca;a.i=this.i;a.h=this.h;return a};v.nb=function(){this.ca=this.i=this.h=m;this.n=this.m=-1};
v.Z=function(){if(!this.ca){var a=this.d.text,b=this.d.duplicate(),d=a.replace(/ +$/,"");(d=a.length-d.length)&&b.moveEnd("character",-d);d=b.parentElement();b=b.htmlText.replace(/(\r\n|\r|\n)+/g," ").length;if(this.isCollapsed()&&0<b)return this.ca=d;for(;b>d.outerHTML.replace(/(\r\n|\r|\n)+/g," ").length;)d=d.parentNode;for(;1==d.childNodes.length&&d.innerText==(3==d.firstChild.nodeType?d.firstChild.nodeValue:d.firstChild.innerText)&&U(d.firstChild);)d=d.firstChild;0==a.length&&(d=Rd(this,d));this.ca=
d}return this.ca};function Rd(a,b){for(var d=b.childNodes,e=0,f=d.length;e<f;e++){var h=d[e];if(U(h)){var j=Qd(h),k=j.htmlText!=h.outerHTML;if(a.isCollapsed()&&k?0<=a.M(j,1,1)&&0>=a.M(j,1,0):a.d.inRange(j))return Rd(a,h)}}return b}v.j=function(){this.i||(this.i=Sd(this,1),this.isCollapsed()&&(this.h=this.i));return this.i};v.p=function(){0>this.n&&(this.n=Td(this,1),this.isCollapsed()&&(this.m=this.n));return this.n};
v.o=function(){if(this.isCollapsed())return this.j();this.h||(this.h=Sd(this,0));return this.h};v.s=function(){if(this.isCollapsed())return this.p();0>this.m&&(this.m=Td(this,0),this.isCollapsed()&&(this.n=this.m));return this.m};v.M=function(a,b,d){return this.d.compareEndPoints((1==b?"Start":"End")+"To"+(1==d?"Start":"End"),a)};
function Sd(a,b,d){d=d||a.Z();if(!d||!d.firstChild)return d;for(var e=1==b,f=0,h=d.childNodes.length;f<h;f++){var j=e?f:h-f-1,k=d.childNodes[j],n;try{n=Fd(k)}catch(s){continue}var r=n.d;if(a.isCollapsed())if(U(k)){if(n.oa(a))return Sd(a,b,k)}else{if(0==a.M(r,1,1)){a.n=a.m=j;break}}else{if(a.oa(n)){if(!U(k)){e?a.n=j:a.m=j+1;break}return Sd(a,b,k)}if(0>a.M(r,1,0)&&0<a.M(r,0,1))return Sd(a,b,k)}}return d}
function Td(a,b){var d=1==b,e=d?a.j():a.o();if(1==e.nodeType){for(var e=e.childNodes,f=e.length,h=d?1:-1,j=d?0:f-1;0<=j&&j<f;j+=h){var k=e[j];if(!U(k)&&0==a.d.compareEndPoints((1==b?"Start":"End")+"To"+(1==b?"Start":"End"),Fd(k).d))return d?j:j+1}return-1==j?0:j}f=a.d.duplicate();h=Qd(e);f.setEndPoint(d?"EndToEnd":"StartToStart",h);f=f.text.length;return d?e.length-f:f}v.isCollapsed=function(){return 0==this.d.compareEndPoints("StartToEnd",this.d)};v.aa=function(){return this.d.text};v.select=function(){this.d.select()};
v.collapse=function(a){this.d.collapse(a);a?(this.h=this.i,this.m=this.n):(this.i=this.h,this.n=this.m)};function Ud(a){this.d=a}B(Ud,Kd);Ud.prototype.xb=function(a,b){!b||this.isCollapsed()?Ud.z.xb.call(this,a,b):(a.collapse(this.o(),this.s()),a.extend(this.j(),this.p()))};function Vd(a){this.d=a}B(Vd,Kd);Vd.prototype.xb=function(a){a.collapse(this.j(),this.p());(this.o()!=this.j()||this.s()!=this.p())&&a.extend(this.o(),this.s());0==a.rangeCount&&a.addRange(this.d)};function Wd(a){return C&&!(C&&9<=Ta)?new Od(a,J(a.parentElement())):G?new Nd(a):E?new Ud(a):Ga?new Vd(a):new Kd(a)}function Fd(a){if(C&&!(C&&9<=Ta)){var b=new Od(Qd(a),J(a));if(U(a)){for(var d,e=a;(d=e.firstChild)&&U(d);)e=d;b.i=e;b.n=0;for(e=a;(d=e.lastChild)&&U(d);)e=d;b.h=e;b.m=1==e.nodeType?e.childNodes.length:e.length;b.ca=a}else b.i=b.h=b.ca=a.parentNode,b.n=cb(b.ca.childNodes,a),b.m=b.n+1;a=b}else a=G?new Nd(Ld(a)):E?new Ud(Ld(a)):Ga?new Vd(Ld(a)):new Kd(Ld(a));return a}
function U(a){var b;a:if(1!=a.nodeType)b=p;else{switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":b=p;break a}b=l}return b||3==a.nodeType};function Xd(){}B(Xd,Bd);function Ed(a,b){var d=new Xd;d.Aa=a;d.W=!!b;return d}function xc(a,b,d,e){var f=new Xd;f.W=Yd(a,b,d,e);if("BR"==a.tagName){var h=a.parentNode;b=cb(h.childNodes,a);a=h}"BR"==d.tagName&&(h=d.parentNode,e=cb(h.childNodes,d),d=h);f.W?(f.i=d,f.n=e,f.h=a,f.m=b):(f.i=a,f.n=b,f.h=d,f.m=e);return f}v=Xd.prototype;v.Aa=m;v.i=m;v.n=m;v.h=m;v.m=m;v.W=p;v.clone=function(){var a=new Xd;a.Aa=this.Aa;a.i=this.i;a.n=this.n;a.h=this.h;a.m=this.m;a.W=this.W;return a};v.Rc=ba("text");v.Rb=function(){return V(this).d};
v.nb=function(){this.i=this.n=this.h=this.m=m};v.Ta=ba(1);v.ra=function(){return this};
function V(a){var b;if(!(b=a.Aa)){b=a.j();var d=a.p(),e=a.o(),f=a.s();if(C&&!(C&&9<=Ta)){var h=b,j=d,k=e,n=f,s=p;1==h.nodeType&&(j>h.childNodes.length&&Pd.log(td,"Cannot have startOffset > startNode child count",i),j=h.childNodes[j],s=!j,h=j||h.lastChild||h,j=0);var r=Qd(h);j&&r.move("character",j);h==k&&j==n?r.collapse(l):(s&&r.collapse(p),s=p,1==k.nodeType&&(n>k.childNodes.length&&Pd.log(td,"Cannot have endOffset > endNode child count",i),k=(j=k.childNodes[n])||k.lastChild||k,n=0,s=!j),h=Qd(k),
h.collapse(!s),n&&h.moveEnd("character",n),r.setEndPoint("EndToEnd",h));n=new Od(r,J(b));n.i=b;n.n=d;n.h=e;n.m=f;b=n}else b=G?new Nd(Md(b,d,e,f)):E?new Ud(Md(b,d,e,f)):Ga?new Vd(Md(b,d,e,f)):new Kd(Md(b,d,e,f));b=a.Aa=b}return b}v.Z=function(){return V(this).Z()};v.j=function(){return this.i||(this.i=V(this).j())};v.p=function(){return this.n!=m?this.n:this.n=V(this).p()};v.Ga=function(){return this.V()?V(this).Ea():V(this).Ga()};v.o=function(){return this.h||(this.h=V(this).o())};
v.s=function(){return this.m!=m?this.m:this.m=V(this).s()};v.Ea=function(){return this.V()?V(this).Ga():V(this).Ea()};v.V=u("W");v.oa=function(a,b){var d=a.Rc();return"text"==d?V(this).oa(V(a),b):"control"==d?(d=Zd(a),(b?gb:hb)(d,function(a){return this.containsNode(a,b)},this)):p};v.isCollapsed=function(){return V(this).isCollapsed()};v.aa=function(){return V(this).aa()};v.ya=function(){return new Id(this.j(),this.p(),this.o(),this.s())};v.select=function(){V(this).select(this.W)};v.Ad=function(){return new $d(this)};
v.collapse=function(a){a=this.V()?!a:a;this.Aa&&this.Aa.collapse(a);a?(this.h=this.i,this.m=this.n):(this.i=this.h,this.n=this.m);this.W=p};function $d(a){this.Fg=a.V()?a.o():a.j();this.ri=a.V()?a.s():a.p();this.Xg=a.V()?a.j():a.o();this.Di=a.V()?a.p():a.s()}B($d,Ad);$d.prototype.C=function(){$d.z.C.call(this);this.Xg=this.Fg=m};function ae(){}B(ae,Hd);function be(a){var b=new ae;b.d=a;return b}function ce(a){for(var b=J(arguments[0]).body.createControlRange(),d=0,e=arguments.length;d<e;d++)b.addElement(arguments[d]);return be(b)}v=ae.prototype;v.d=m;v.D=m;v.Ab=m;v.nb=function(){this.Ab=this.D=m};v.clone=function(){return ce.apply(this,Zd(this))};v.Rc=ba("control");v.Rb=function(){return this.d||document.body.createControlRange()};v.Ta=function(){return this.d?this.d.length:0};
v.ra=function(a){a=this.d.item(a);return Ed(Fd(a),i)};v.Z=function(){return Ab.apply(m,Zd(this))};v.j=function(){return de(this)[0]};v.p=ba(0);v.o=function(){var a=de(this),b=bb(a),d;a:{d=function(a){return vb(a,b)};for(var e=a.length,f=y(a)?a.split(""):a,h=0;h<e;h++)if(h in f&&d.call(i,f[h])){d=h;break a}d=-1}return 0>d?m:y(a)?a.charAt(d):a[d]};v.s=function(){return this.o().childNodes.length};function Zd(a){if(!a.D&&(a.D=[],a.d))for(var b=0;b<a.d.length;b++)a.D.push(a.d.item(b));return a.D}
function de(a){a.Ab||(a.Ab=Zd(a).concat(),a.Ab.sort(function(a,d){return a.sourceIndex-d.sourceIndex}));return a.Ab}v.isCollapsed=function(){return!this.d||!this.d.length};v.aa=ba("");v.ya=function(){return new ge(this)};v.select=function(){this.d&&this.d.select()};v.Ad=function(){return new he(this)};v.collapse=function(){this.d=m;this.nb()};function he(a){this.D=Zd(a)}B(he,Ad);he.prototype.C=function(){he.z.C.call(this);delete this.D};
function ge(a){a&&(this.D=de(a),this.i=this.D.shift(),this.h=bb(this.D)||this.i);hd.call(this,this.i,p,l)}B(ge,Gd);v=ge.prototype;v.i=m;v.h=m;v.D=m;v.j=u("i");v.o=u("h");v.tb=function(){return!this.depth&&!this.D.length};v.next=function(){this.tb()&&g(ed);if(!this.depth){var a=this.D.shift();id(this,a,1,1);return a}return ge.z.next.call(this)};v.ha=function(a){this.D=a.D;this.i=a.i;this.h=a.h;ge.z.ha.call(this,a)};v.clone=function(){var a=new ge(m);a.ha(this);return a};function ie(){this.Y=[];this.wb=[];this.Ob=this.eb=m}B(ie,Hd);v=ie.prototype;v.fh=zd("goog.dom.MultiRange");v.nb=function(){this.wb=[];this.Ob=this.eb=m};v.clone=function(){var a=new ie;a.Y=ib(this.Y);return a};v.Rc=ba("mutli");v.Rb=function(){1<this.Y.length&&this.fh.log(ud,"getBrowserRangeObject called on MultiRange with more than 1 range",i);return this.Y[0]};v.Ta=function(){return this.Y.length};v.ra=function(a){this.wb[a]||(this.wb[a]=Ed(Wd(this.Y[a]),i));return this.wb[a]};
v.Z=function(){if(!this.Ob){for(var a=[],b=0,d=this.Ta();b<d;b++)a.push(this.ra(b).Z());this.Ob=Ab.apply(m,a)}return this.Ob};function je(a){a.eb||(a.eb=Dd(a),a.eb.sort(function(a,d){var e=a.j(),f=a.p(),h=d.j(),j=d.p();return e==h&&f==j?0:Yd(e,f,h,j)?1:-1}));return a.eb}v.j=function(){return je(this)[0].j()};v.p=function(){return je(this)[0].p()};v.o=function(){return bb(je(this)).o()};v.s=function(){return bb(je(this)).s()};v.isCollapsed=function(){return 0==this.Y.length||1==this.Y.length&&this.ra(0).isCollapsed()};
v.aa=function(){return fb(Dd(this),function(a){return a.aa()}).join("")};v.ya=function(){return new ke(this)};v.select=function(){var a=Cd(this.Ee());a.removeAllRanges();for(var b=0,d=this.Ta();b<d;b++)a.addRange(this.ra(b).Rb())};v.Ad=function(){return new le(this)};v.collapse=function(a){if(!this.isCollapsed()){var b=a?this.ra(0):this.ra(this.Ta()-1);this.nb();b.collapse(a);this.wb=[b];this.eb=[b];this.Y=[b.Rb()]}};function le(a){this.jf=fb(Dd(a),function(a){return a.Ad()})}B(le,Ad);
le.prototype.C=function(){le.z.C.call(this);db(this.jf,function(a){a.Hc()});delete this.jf};function ke(a){a&&(this.sa=fb(je(a),function(a){return gd(a)}));a=a?this.j():m;hd.call(this,a,p,l)}B(ke,Gd);v=ke.prototype;v.sa=m;v.Pb=0;v.j=function(){return this.sa[0].j()};v.o=function(){return bb(this.sa).o()};v.tb=function(){return this.sa[this.Pb].tb()};
v.next=function(){try{var a=this.sa[this.Pb],b=a.next();id(this,a.r,a.R,a.depth);return b}catch(d){return(d!==ed||this.sa.length-1==this.Pb)&&g(d),this.Pb++,this.next()}};v.ha=function(a){this.sa=ib(a.sa);ke.z.ha.call(this,a)};v.clone=function(){var a=new ke(m);a.ha(this);return a};function me(){var a=Cd(window);return a&&ne(a)}function ne(a){var b,d=p;if(a.createRange)try{b=a.createRange()}catch(e){return m}else if(a.rangeCount){if(1<a.rangeCount){b=new ie;for(var d=0,f=a.rangeCount;d<f;d++)b.Y.push(a.getRangeAt(d));return b}b=a.getRangeAt(0);d=Yd(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)}else return m;return b&&b.addElement?be(b):Ed(Wd(b),d)}
function Yd(a,b,d,e){if(a==d)return e<b;var f;if(1==a.nodeType&&b)if(f=a.childNodes[b])a=f,b=0;else if(vb(a,d))return l;if(1==d.nodeType&&e)if(f=d.childNodes[e])d=f,e=0;else if(vb(d,a))return p;return 0<(wb(a,d)||b-e)};function W(a){this.config(a);this.ie=m}W.prototype.config=function(a){this.options=a||oe};W.prototype.mb=function(a){var b;if(b=a)if(b=!a.isCollapsed())a=a.aa(),b=S.a.b.Da([S.b.c.ag,"\\d"]),S.a.b.Da([S.b.c.Gb]).test(a)?b.test(a)?(b=S.b.c.Sb(a),a=b*this.options.zc.fa.jb+(a.length-b)*this.options.zc.fa.xa<=this.options.vc.fa&&S.b.c.Sb(a)<=this.options.vc.Hb):a=S.b.c.Sb(a)<=this.options.jb.fa:a=b.test(a)?a.length*this.options.zc.fa.xa<=this.options.xa.fa&&S.b.c.Yg(a)<=this.options.xa.Hb:p,b=a;return b};
var pe=[S.b.c.Gb,S.b.c.ae];W.prototype.complete=function(a){a=S.a.b.ih(a);var b=a.j(),d=a.p(),e=a.o();a=a.s();var f=S.a.b.Da(pe),h,j;b.nodeValue=" "+b.nodeValue;h=d+=1;f.test(b.nodeValue[d])||(h=S.b.c.indexOf(b.nodeValue,f,d,l),h++);f.lastIndex=0;b.nodeValue=b.nodeValue.slice(1);h--;d--;e.nodeValue+=" ";j=a;f.test(e.nodeValue[a-1])||(j=S.b.c.indexOf(e.nodeValue,f,a-1,p));f.lastIndex=0;e.nodeValue=e.nodeValue.slice(0,-1);this.ie=xc(b,d,e,a);return xc(b,h,e,j)};
W.prototype.trim=function(a){var b=a.j(),d=a.p(),e=a.o();a=a.s();var f=S.a.b.Da([S.b.c.ae],l),h;h=S.b.c.indexOf(b.nodeValue,f,d,p);f.lastIndex=0;d=-1===h?d:h;h=S.b.c.indexOf(e.nodeValue,f,a-1,l);f.lastIndex=0;a=(-1===h?a-1:h)+1;a=S.a.b.Ia(e,a);e=a.r;a=a.offset;return xc(b,d,e,a)};var oe={xa:{fa:30,Hb:4},jb:{fa:8},vc:{Hb:8,fa:30},zc:{fa:{xa:1,jb:2},Hb:{xa:2,jb:1}}};S.a.Qubi=W;W.prototype.check=W.prototype.mb;W.prototype.complete=W.prototype.complete;W.prototype.trim=W.prototype.trim;function qe(a){var b=S.a,d;for(d in a)a.hasOwnProperty(d)&&"function"===typeof a[d]&&function(){var e=d;b[e]=function(){a[e].apply(a,arguments)}}()}S.a.initialize=function(){S.a.q.initialize.apply(S.a.q,arguments)};qe(S.a.data);qe(S.a.action);S.a.cookie=S.a.b.cookie;S.a.v=S.a.b.v;S.a.gd=new cd;S.a.range=new $c;S.a.search=new ad;S.a.quote=new yc;S.a.La=new W;S.a.td=new jd;window.pintex=S;S.core=S.a;S.a.initialize=S.a.initialize;S.a.cookie=S.a.cookie;S.a.storage=S.a.v;S.a.locator=S.a.gd;S.a.range=S.a.range;
S.a.search=S.a.search;S.a.qubi=S.a.La;S.a.qmark=S.a.td;S.a.quote=S.a.quote;S.l={};S.l.view={};
S.l.view.$d=function(a,b){this.e=a;this.parent=b;this.ac=m;this.partial={Cb:document.getElementById("pintex-qpoint-start"),Ca:document.getElementById("pintex-qpoint-end"),K:document.getElementById("pintex-mark"),bc:document.getElementById("pintex-mark-body"),jd:document.getElementById("pintex-mark-icon"),Wa:document.getElementById("pintex-mark-about"),ua:document.getElementById("pintex-mark-about-tip"),shareAdd:L("pintex-sync-check-li"),rememberAdd:L("pintex-sync-record-li")};this.offset={Kd:17,qc:3,
hb:1,tc:7,uc:5,ib:119,Nd:84,sc:29,xc:35,Td:20,Id:30,yf:5,Od:70};this.range=this.position=m;this.N()};var ve=S.l.view.$d;v=ve.prototype;v.Ve=function(){O(document.body,"mousemove",this.We,p,this);this.Yc();this.Zc()};v.We=function(){this.Ah()};v.Xe=function(){P(document.body,"mousemove",this.We,p,this);var a=me();a&&a.aa()&&(this.e.pe(a)&&(this.range=a),this.of(this.range),this.Cd(this.range))};v.Xa=function(){if(!this.range||!this.range.aa())this.Yc(),this.Zc()};
v.ef=function(){this.Cd(this.range);this.of(this.range)};v.Ah=function(){var a=me();this.e.pe(a)&&(this.range=a,this.Cd(this.range))};v.uh=function(){var a=this;setTimeout(function(){a.partial.Wa.style.display="block"},S.g.k.time.ig);(new qc(this.partial.bc,[0,this.offset.sc],[this.offset.Nd,this.offset.sc],300)).play()};v.Ze=function(){clearTimeout(this.ac);this.partial.ua.style.display="block"};v.Ye=function(){var a=this;a.ac=setTimeout(function(){a.partial.ua.style.display="none"},2E3)};v.af=function(){clearTimeout(this.ac)};
v.$e=function(){var a=this;a.ac=setTimeout(function(){a.partial.ua.style.display="none"},400)};v.cf=function(){this.J()};v.bf=function(){this.J()};v.Cd=function(a){if(a&&!a.isCollapsed()){var b=a.Ga().x,d=a.Ga().y,e=a.Ea().x,f=a.Ea().y;a.V()?(this.qf(e,f),this.mf(b,d)):(this.qf(b,d),this.mf(e,f))}};v.Zc=function(){this.partial.Cb.style.display="none";this.partial.Ca.style.display="none"};
v.qf=function(a,b){this.partial.Cb.style.display="inline";var d=sb(document),e=b+d.y+3,f=this.partial.Cb.offsetHeight;this.partial.Cb.style.left=a+d.x-this.offset.qc+"px";this.partial.Cb.style.top=e-f+this.offset.hb+"px"};
v.mf=function(a,b){this.partial.Ca.style.display="inline";var d=sb(document),e=b+d.y-5,f=this.partial.Ca.offsetHeight;this.partial.Ca.style.left=a+d.x-this.partial.Ca.offsetWidth+this.offset.qc+"px";this.partial.Ca.style.top=e-f-this.offset.Kd+this.offset.hb+"px";this.partial.Ca.style.top=e-this.offset.hb+this.offset.hb+"px"};
v.of=function(a){if(a&&!a.isCollapsed()){var b;a.V()?(b=a.Ga().x,a=a.Ga().y):(b=a.Ea().x,a=a.Ea().y);this.position={x:b,y:a};this.partial.K.style.display="block";var d=sb(document);b+=d.x;b+this.offset.ib>document.body.offsetWidth&&(b-=this.offset.ib);a+=d.y;this.partial.K.style.left=b+this.offset.tc+"px";this.partial.K.style.top=a+this.offset.uc+"px";Yb(this.partial.jd,"mouseover",this.uh,p,this)}};
v.Yc=function(){this.partial.K.style.display="none";this.partial.bc.style.width=0;this.partial.Wa.style.display="none";this.partial.ua.style.display="none"};v.J=function(){this.e.J(this.range);this.Yc();this.Zc();this.Ph()};
v.N=function(){O(this.partial.K,"mouseup",S.b.stopPropagation,p,this);O(this.partial.K,"mousedown",S.b.stopPropagation,p,this);O(this.partial.K,"click",S.b.stopPropagation,p,this);O(document.body,"mousedown",this.Ve,p,this);O(document.body,"mouseup",this.Xe,p,this);O(document.body,"click",this.Xa,p,this);O(window,"resize",this.ef,p,this);O(this.partial.Wa,"mouseover",this.Ze,p,this);O(this.partial.Wa,"mouseout",this.Ye,p,this);O(this.partial.ua,"mouseover",this.af,p,this);O(this.partial.ua,"mouseout",
this.$e,p,this);O(this.partial.jd,"click",this.cf,p,this);O(this.partial.bc,"click",this.bf,p,this)};
v.Ph=function(){P(this.partial.K,"mouseup",S.b.stopPropagation,p,this);P(this.partial.K,"mousedown",S.b.stopPropagation,p,this);P(this.partial.K,"click",S.b.stopPropagation,p,this);P(document.body,"mousedown",this.Ve,p,this);P(document.body,"mouseup",this.Xe,p,this);P(document.body,"click",this.Xa,p,this);P(window,"resize",this.ef,p,this);P(this.partial.Wa,"mouseover",this.Ze,p,this);P(this.partial.Wa,"mouseout",this.Ye,p,this);P(this.partial.ua,"mouseover",this.af,p,this);P(this.partial.ua,"mouseout",
this.$e,p,this);P(this.partial.jd,"click",this.cf,p,this);P(this.partial.bc,"click",this.bf,p,this)};var we={ej:l};C&&H(8);function X(a){return a&&a.Pg&&a.Pg===we?a.content:String(a).replace(xe,ye)}var ze={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function ye(a){return ze[a]}var xe=/[\x00\x22\x26\x27\x3c\x3e]/g;S.l.wa={};
S.l.wa.Og=function(){var a=S.g.k;return'<div id="pintex-container"><div class="pintex-msgbox"></div><span id="pintex-qpoint-start"></span><span id="pintex-qpoint-end"></span><div id="pintex-mark"><div id="pintex-mark-about"></div><a id="pintex-mark-about-tip" target="_blank" href="'+X(a.url.dc)+'">'+X(a.c.ng)+'</a><div id="pintex-mark-body"></div><img id="pintex-mark-icon" src="'+X(a.url.host)+'/static/img/add_logo.png"></div><ul id="pintex-syncul"><li class="pintex-sync-check-li"><input id="pintex-sync-check" checked type="checkbox"><label for="pintex-sync-check" class="pintex-sync-tip">'+X(a.c.de)+
'</label></li><li class="pintex-sync-record-li"><input id="pintex-sync-record" checked type="checkbox"><label for="pintex-sync-record" class="pintex-record-tip">'+X(a.c.bg)+'</label></li></ul><div id="pintex-flap"></div><ul id="pintex-qlogin"><li class="pintex-sina-login"></li></ul><div id="pintex-qpanel"><a class="pintex-qfo-icon" href="'+X(a.url.Qh)+'" target="_blank"></a><div id="pintex-auth"><a class="pintex-auth-avatar" href="" target="_blank"><img class="pintex-qavatar" src=""></a></div><ul id="pintex-setting"><li class="pintex-sync-title">'+
X(a.c.de)+'</li><li id="pintex-add-sync-li"><input type="checkbox" checked id="pintex-add-sync"><label for="pintex-add-sync">'+X(a.c.fg)+'</label></li><li id="pintex-like-sync-li"><input type="checkbox" checked id="pintex-like-sync"><label for="pintex-like-sync">'+X(a.c.gg)+'</label></li><li><input type="button" class="pintex-logout" value="'+X(a.c.Md)+'"></li></ul></div><div class="pintex-qpoint-tip"></div></div>'};
S.l.wa.w=function(a){for(var b='<div class="pintex-qmaker"><a href="'+X(a.url.dc)+"/u/"+X(a.user_simple.uid)+'" class="pintex-upage-link" target="_blank"><img class="pintex-qmaker-avatar" src="'+X(a.user_simple.profile_image_url)+'" alt="'+X(a.user_simple.uname)+'"></a></div><ul class="pintex-follower-avatar-wrap">',d=a.liked_users,e=d.length,f=0;f<e;f++)var h=d[f],b=b+('<li class="pintex-follower-li"><a class="pintex-upage-link" href="'+X(a.url.dc)+"/u/"+X(h.user_simple.uid)+'" target="_blank"><img src="'+
X(h.user_simple.profile_image_url)+'" alt="'+X(h.user_simple.uname)+'" class="pintex-follower-avatar"></a></li>');return b+="</ul>"+(a.uid==a.user_simple.uid&&!a.liked_count?'<div class="pintex-nopeople"></div>':a.uid!=a.user_simple.uid&&!a.liked?'<div class="pintex-likeButton"></div>':"")+'<div class="pintex-avatar-tip"><div class="pintex-avatar-tip-arrow"></div></div><span class="pintex-qpoint-tip-text">'+X(a.liked_count)+'</span><div class="pintex-like-tip">'+X(a.c.Qf)+"</div>"};
S.l.wa.f=function(a){return'<div id="pintex-auth"><a class="pintex-auth-avatar" href="'+X(a.host)+"/u/"+X(a.uid)+'" target="_blank"><img class="pintex-qavatar" src="'+X(a.profile_image_url)+'"></a></div>'};S.l.wa.Wb=function(a){return'<span class="pintex-tag pintex-user-tag" data-qid="'+X(a.qid)+'"></span>'};S.g.view={};S.g.view.ce=function(a,b){this.f=a;this.e=b;this.el=document.getElementById("pintex-syncul");this.partial={mc:document.getElementById("pintex-sync-check"),vd:document.getElementById("pintex-sync-record")};this.offset=S.g.k.offset;this.Ua=this.pd=this.type=m;this.N()};var Ae=S.g.view.ce;v=Ae.prototype;v.Bd=function(a,b){this.type="Add";this.pf(a,b)};v.zb=function(a,b){this.type="Like";this.pf(a,b)};
v.pf=function(a,b){var d,e;this.pd=b;switch(this.type){case "Add":this.partial.mc.checked=this.f.attributes.config.shareAdd;break;case "Like":this.partial.mc.checked=this.f.attributes.config.shareLike}clientX=a.x;clientY=a.y;this.partial.vd.checked=p;this.el.style.display="block";d=sb(document);e=clientX+d.x;e+this.offset.ib>document.body.offsetWidth&&(e-=this.offset.ib);d=clientY+d.y;this.el.style.left=e+this.offset.tc+"px";this.el.style.top=d+this.offset.uc+"px";this.Je()};
v.Je=function(){var a=this;this.Ua=setTimeout(function(){a.el.style.display="none";a.pd&&a.pd()},S.g.k.time.cg)};v.Ch=function(){this.e.na("share"+this.type,this.partial.mc.checked)};v.zh=function(){this.e.na("remember"+this.type,this.partial.vd.checked)};v.kh=function(a){a.target===this.el&&clearTimeout(this.Ua)};v.jh=function(a){a.target===this.el&&this.Je()};
v.N=function(){O(this.el,"mouseup",S.b.stopPropagation,l,this);O(this.el,"mousedown",S.b.stopPropagation,l,this);O(this.el,"click",S.b.stopPropagation,p,this);O(this.partial.mc,"click",this.Ch,p,this);O(this.partial.vd,"click",this.zh,p,this);O(this.el,"mouseover",this.kh,p,this);O(this.el,"mouseout",this.jh,p,this)};S.g.view.Vd=function(){this.e=this.A=this.f=m;this.partial={w:L("pintex-qpoint-tip"),Ri:L("pintex-like-tip")};this.offset=S.g.k.offset;this.position=this.Ua=m;this.N()};var Be=S.g.view.Vd;v=Be.prototype;
v.bb=function(a){this.f=a.f;this.A=a.A;this.e=a.e;this.partial.w.innerHTML=S.l.wa.w(S.b.object.ka(S.b.object.clone(this.A.attributes),{uid:this.f.attributes.uid},S.g.k));a=L("pintex-qmaker");O(a,"mouseover",this.Te,p,this);O(a,"mouseout",this.Se,p,this);a=L("pintex-follower-avatar-wrap").children;for(var b=0;b<a.length;b++)a[b]&&(O(a[b],"mouseover",this.Te,p,this),O(a[b],"mouseout",this.Se,p,this));var d=L("pintex-follower-avatar-wrap").childNodes[0];d&&(d.style.backgroundPosition=S.g.k.offset.Rf,
setTimeout(function(){d.style.backgroundPosition=S.g.k.offset.Of},S.g.k.time.Sf))};
v.yb=function(a){clearTimeout(this.Ua);this.partial.w.style.display="block";var b=sb(document),d=document.body.offsetWidth,e=a.getBoundingClientRect().left+0.5*a.offsetWidth+this.offset.Td;e+this.partial.w.offsetWidth>d&&(e=a.getBoundingClientRect().left+a.offsetWidth-this.partial.w.offsetWidth);a=a.getBoundingClientRect().top;this.partial.w.style.left=e+b.x+"px";this.partial.w.style.top=a+b.y+this.offset.xc+"px";this.position={x:e,y:a+this.offset.xc+this.partial.w.offsetHeight};L("pintex-likeButton")&&
Yb(L("pintex-likeButton"),"click",this.nh,p,this);this.partial.dd=L("pintex-likeButton");this.partial.dd&&(O(this.partial.dd,"mouseover",this.ph,p,this),O(this.partial.dd,"mouseout",this.oh,p,this))};v.Vb=function(){var a=this;this.Ua=setTimeout(function(){a.partial.w.style.display="none"},4E3)};v.wh=function(){clearTimeout(this.Ua)};v.df=function(){this.Vb()};v.nh=function(){this.e.ba()};v.ph=function(){L("pintex-like-tip").style.display="block"};
v.oh=function(){L("pintex-like-tip").style.display="none"};v.Xa=function(){this.partial.w.style.display="none"};
v.Te=function(a){var b=a.currentTarget.children[0].children[0],d=b.alt,e=b.className,b=L("pintex-avatar-tip"),f,h=a.currentTarget;var j,k=J(h),n=Gb(h,"position"),s=E&&k.getBoxObjectFor&&!h.getBoundingClientRect&&"absolute"==n&&(j=k.getBoxObjectFor(h))&&(0>j.screenX||0>j.screenY);f=new jb(0,0);var r;j=k?J(k):document;if(r=C)if(r=!(C&&9<=Ta))r="CSS1Compat"!=ob(j).qa.compatMode;r=r?j.body:j.documentElement;if(h!=r)if(h.getBoundingClientRect)j=Hb(h),k=ob(k),k=sb(k.qa),f.x=j.left+k.x,f.y=j.top+k.y;else if(k.getBoxObjectFor&&
!s)j=k.getBoxObjectFor(h),k=k.getBoxObjectFor(r),f.x=j.screenX-k.screenX,f.y=j.screenY-k.screenY;else{j=h;do{f.x+=j.offsetLeft;f.y+=j.offsetTop;j!=h&&(f.x+=j.clientLeft||0,f.y+=j.clientTop||0);if(G&&"fixed"==Gb(j,"position")){f.x+=k.body.scrollLeft;f.y+=k.body.scrollTop;break}j=j.offsetParent}while(j&&j!=h);if(Ga||G&&"absolute"==n)f.y-=k.body.offsetTop;for(j=h;(j=Ib(j))&&j!=k.body&&j!=r;)if(f.x-=j.scrollLeft,!Ga||"TR"!=j.tagName)f.y-=j.scrollTop}"none"!=Gb(h,"display")?h=Jb(h):(j=h.style,k=j.display,
n=j.visibility,s=j.position,j.visibility="hidden",j.position="absolute",j.display="inline",h=Jb(h),j.display=k,j.position=s,j.visibility=n);f=new lb(f.x,f.y,h.width,h.height);h=new jb(a.currentTarget.offsetLeft,a.currentTarget.offsetTop);if("textContent"in b)b.textContent=d;else if(b.firstChild&&3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);b.firstChild.data=d}else{for(;j=b.firstChild;)b.removeChild(j);b.appendChild(J(b).createTextNode(String(d)))}b.style.display=
"block";"pintex-qmaker-avatar"==e?(d=h.y+f.height,a=h.x-0.5*(b.offsetWidth-f.width)):(d=h.y+this.offset.Id,a=a.currentTarget.parentElement.offsetLeft+h.x-0.5*(b.offsetWidth-f.width));b.style.left=a+"px";b.style.top=d+"px"};v.Se=function(){L("pintex-avatar-tip").style.display="none"};
v.N=function(){O(this.partial.w,"mouseup",S.b.stopPropagation,l,this);O(this.partial.w,"mousedown",S.b.stopPropagation,l,this);O(this.partial.w,"click",S.b.stopPropagation,p,this);O(this.partial.w,"mouseover",this.wh,p,this);O(this.partial.w,"mouseout",this.df,p,this);O(document,"click",this.Xa,p,this);O(this.partial.w,"mouseout",this.df,p,this)};/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

The "New" BSD License:

Copyright (c) 2005-2009, The Dojo Foundation
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
    may be used to endorse or promote products derived from this software
    without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
function Ce(a,b){var d=b||[];a&&d.push(a);return d}var De=G&&"BackCompat"==document.compatMode,Ee=document.firstChild.children?"children":"childNodes",Fe=p;
function Ge(a){function b(){0<=s&&(A.id=d(s,D).replace(/\\/g,""),s=-1);if(0<=r){var a=r==D?m:d(r,D);0>">~+".indexOf(a)?A.I=a:A.gc=a;r=-1}0<=n&&(A.ga.push(d(n+1,D).replace(/\\/g,"")),n=-1)}function d(b,d){return qa(a.slice(b,d))}a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ";for(var e=[],f=-1,h=-1,j=-1,k=-1,n=-1,s=-1,r=-1,t="",x="",R,D=0,gc=a.length,A=m,K=m;t=x,x=a.charAt(D),D<gc;D++)if("\\"!=t)if(A||(R=D,A={Za:m,Ka:[],Qa:[],ga:[],I:m,gc:m,id:m,Qc:function(){return Fe?this.Eh:this.I}},r=D),0<=f)if("]"==
x){K.Lb?K.kd=d(j||f+1,D):K.Lb=d(f+1,D);if((f=K.kd)&&('"'==f.charAt(0)||"'"==f.charAt(0)))K.kd=f.slice(1,-1);A.Qa.push(K);K=m;f=j=-1}else"="==x&&(j=0<="|~^$*".indexOf(t)?t:"",K.type=j+x,K.Lb=d(f+1,D-j.length),j=D+1);else 0<=h?")"==x&&(0<=k&&(K.value=d(h+1,D)),k=h=-1):"#"==x?(b(),s=D+1):"."==x?(b(),n=D):":"==x?(b(),k=D):"["==x?(b(),f=D,K={}):"("==x?(0<=k&&(K={name:d(k+1,D),value:m},A.Ka.push(K)),h=D):" "==x&&t!=x&&(b(),0<=k&&A.Ka.push({name:d(k+1,D)}),A.Oe=A.Ka.length||A.Qa.length||A.ga.length,A.Zi=
A.Za=d(R,D),A.Eh=A.I=A.gc?m:A.I||"*",A.I&&(A.I=A.I.toUpperCase()),e.length&&e[e.length-1].gc&&(A.Ke=e.pop(),A.Za=A.Ke.Za+" "+A.Za),e.push(A),A=m);return e}function He(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}}function Ie(a){return 1==a.nodeType}function Je(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(Fe?a.getAttribute(b):a.getAttribute(b,2))||""}
var Ke={"*=":function(a,b){return function(d){return 0<=Je(d,a).indexOf(b)}},"^=":function(a,b){return function(d){return 0==Je(d,a).indexOf(b)}},"$=":function(a,b){return function(d){d=" "+Je(d,a);return d.lastIndexOf(b)==d.length-b.length}},"~=":function(a,b){var d=" "+b+" ";return function(b){return 0<=(" "+Je(b,a)+" ").indexOf(d)}},"|=":function(a,b){b=" "+b;return function(d){d=" "+Je(d,a);return d==b||0==d.indexOf(b+"-")}},"=":function(a,b){return function(d){return Je(d,a)==b}}},Le="undefined"==
typeof document.firstChild.nextElementSibling,Me=!Le?"nextElementSibling":"nextSibling",Ne=!Le?"previousElementSibling":"previousSibling",Oe=Le?Ie:ec;function Pe(a){for(;a=a[Ne];)if(Oe(a))return p;return l}function Qe(a){for(;a=a[Me];)if(Oe(a))return p;return l}function Re(a){var b=a.parentNode,d=0,e=b[Ee],f=a._i||-1,h=b._l||-1;if(!e)return-1;e=e.length;if(h==e&&0<=f&&0<=h)return f;b._l=e;f=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[Me])Oe(b)&&(b._i=++d,a===b&&(f=d));return f}
function Se(a){return!(Re(a)%2)}function Te(a){return Re(a)%2}
var Ve={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return Pe},"last-child":function(){return Qe},"only-child":function(){return function(a){return!Pe(a)||!Qe(a)?p:l}},empty:function(){return function(a){var b=a.childNodes;for(a=a.childNodes.length-1;0<=a;a--){var d=b[a].nodeType;if(1===d||3==d)return p}return l}},contains:function(a,b){var d=b.charAt(0);if('"'==d||"'"==d)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},
not:function(a,b){var d=Ge(b)[0],e={el:1};"*"!=d.I&&(e.I=1);d.ga.length||(e.ga=1);var f=Ue(d,e);return function(a){return!f(a)}},"nth-child":function(a,b){if("odd"==b)return Te;if("even"==b)return Se;if(-1!=b.indexOf("n")){var d=b.split("n",2),e=d[0]?"-"==d[0]?-1:parseInt(d[0],10):1,f=d[1]?parseInt(d[1],10):0,h=0,j=-1;0<e?0>f?f=f%e&&e+f%e:0<f&&(f>=e&&(h=f-f%e),f%=e):0>e&&(e*=-1,0<f&&(j=f,f%=e));if(0<e)return function(a){a=Re(a);return a>=h&&(0>j||a<=j)&&a%e==f};b=f}var k=parseInt(b,10);return function(a){return Re(a)==
k}}},We=C?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(d){return Fe?d.getAttribute(a):d[a]||d[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}};
function Ue(a,b){if(!a)return ec;b=b||{};var d=m;b.el||(d=He(d,Ie));b.I||"*"!=a.I&&(d=He(d,function(b){return b&&b.tagName==a.Qc()}));b.ga||db(a.ga,function(a,b){var h=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");d=He(d,function(a){return h.test(a.className)});d.count=b});b.Ka||db(a.Ka,function(a){var b=a.name;Ve[b]&&(d=He(d,Ve[b](b,a.value)))});b.Qa||db(a.Qa,function(a){var b,h=a.Lb;a.type&&Ke[a.type]?b=Ke[a.type](h,a.kd):h.length&&(b=We(h));b&&(d=He(d,b))});b.id||a.id&&(d=He(d,function(b){return!!b&&b.id==
a.id}));d||"default"in b||(d=ec);return d}var Xe={};
function Ye(a){var b=Xe[a.Za];if(b)return b;var d=a.Ke,d=d?d.gc:"",e=Ue(a,{el:1}),f="*"==a.I,h=document.getElementsByClassName;if(d)if(h={el:1},f&&(h.I=1),e=Ue(a,h),"+"==d)var j=e,b=function(a,b,d){for(;a=a[Me];)if(!Le||Ie(a)){(!d||Ze(a,d))&&j(a)&&b.push(a);break}return b};else if("~"==d)var k=e,b=function(a,b,d){for(a=a[Me];a;){if(Oe(a)){if(d&&!Ze(a,d))break;k(a)&&b.push(a)}a=a[Me]}return b};else{if(">"==d)var n=e,n=n||ec,b=function(a,b,d){for(var e=0,f=a[Ee];a=f[e++];)Oe(a)&&((!d||Ze(a,d))&&n(a,
e))&&b.push(a);return b}}else if(a.id)e=!a.Oe&&f?ec:Ue(a,{el:1,id:1}),b=function(b,d){var f=ob(b).Be(a.id),h;if(h=f&&e(f))if(!(h=9==b.nodeType)){for(h=f.parentNode;h&&h!=b;)h=h.parentNode;h=!!h}if(h)return Ce(f,d)};else if(h&&/\{\s*\[native code\]\s*\}/.test(String(h))&&a.ga.length&&!De)var e=Ue(a,{el:1,ga:1,id:1}),s=a.ga.join(" "),b=function(a,b){for(var d=Ce(0,b),f,h=0,j=a.getElementsByClassName(s);f=j[h++];)e(f,a)&&d.push(f);return d};else!f&&!a.Oe?b=function(b,d){for(var f=Ce(0,d),e,h=0,j=b.getElementsByTagName(a.Qc());e=
j[h++];)f.push(e);return f}:(e=Ue(a,{el:1,I:1,id:1}),b=function(b,d){for(var f=Ce(0,d),h,j=0,k=b.getElementsByTagName(a.Qc());h=k[j++];)e(h,b)&&f.push(h);return f});return Xe[a.Za]=b}var $e={},af={};function bf(a){var b=Ge(qa(a));if(1==b.length){var d=Ye(b[0]);return function(a){if(a=d(a,[]))a.cc=l;return a}}return function(a){a=Ce(a);for(var d,h,j=b.length,k,n,s=0;s<j;s++){n=[];d=b[s];h=a.length-1;0<h&&(k={},n.cc=l);h=Ye(d);for(var r=0;d=a[r];r++)h(d,n,k);if(!n.length)break;a=n}return n}}
var cf=!!document.querySelectorAll&&(!G||H("526"));
function df(a,b){if(cf){var d=af[a];if(d&&!b)return d}if(d=$e[a])return d;var d=a.charAt(0),e=-1==a.indexOf(" ");0<=a.indexOf("#")&&e&&(b=l);if(cf&&!b&&-1==">~+".indexOf(d)&&(!C||-1==a.indexOf(":"))&&!(De&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf("|=")){var f=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return af[a]=function(b){try{9==b.nodeType||e||g("");var d=b.querySelectorAll(f);C?d.Ng=l:d.cc=l;return d}catch(h){return df(a,l)(b)}}}var h=a.split(/\s*,\s*/);return $e[a]=
2>h.length?bf(a):function(a){for(var b=0,d=[],f;f=h[b++];)d=d.concat(bf(f)(a));return d}}var ef=0,ff=C?function(a){return Fe?a.getAttribute("_uid")||a.setAttribute("_uid",++ef)||ef:a.uniqueID}:function(a){return a._uid||(a._uid=++ef)};function Ze(a,b){if(!b)return 1;var d=ff(a);return!b[d]?b[d]=1:0}
function gf(a){if(a&&a.cc)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;ef++;if(C&&Fe){var d=ef+"";a[0].setAttribute("_zipIdx",d);for(var e=1,f;f=a[e];e++)a[e].getAttribute("_zipIdx")!=d&&b.push(f),f.setAttribute("_zipIdx",d)}else if(C&&a.Ng)try{for(e=1;f=a[e];e++)Ie(f)&&b.push(f)}catch(h){}else{a[0]&&(a[0]._zipIdx=ef);for(e=1;f=a[e];e++)a[e]._zipIdx!=ef&&b.push(f),f._zipIdx=ef}return b}
function hf(a,b){if(!a)return[];if(a.constructor==Array)return a;if(!y(a))return[a];if(y(b)&&(b=y(b)?document.getElementById(b):b,!b))return[];b=b||document;var d=b.ownerDocument||b.documentElement;Fe=b.contentType&&"application/xml"==b.contentType||Ga&&(b.doctype||"[object XMLDocument]"==d.toString())||!!d&&(C?d.xml:b.xmlVersion||d.xmlVersion);return(d=df(a)(b))&&d.cc?d:gf(d)}hf.Ka=Ve;ca("goog.dom.query",hf);ca("goog.dom.query.pseudos",hf.Ka);S.l.view.Yd=function(a,b,d,e){this.f=a;this.A=b;this.e=d;this.parent=e;this.rd=[];this.Bf=5E3;this.zf=1E4};var jf=S.l.view.Yd;v=jf.prototype;v.yh=function(a){this.bb();this.yb(a.currentTarget)};v.xh=function(){this.parent.Vb()};v.yd=function(){this.Ec({B:this.tg,timeout:this.Bf})};v.tg=function(){this.Ec({B:this.pg,timeout:this.zf})};v.pg=function(){this.Ec({Gg:l})};
v.Ec=function(a){var b=this;a=a||{};var d=S.a.gd.pa(b.A.attributes,a.Gg);if(d){var e=b.A.attributes.qid.toString();S.a.td.Wb(d,{qid:e});db(qb("pintex-tag"),function(a){a.getAttribute("data-qid")===e&&b.rd.push(a)},b);b.N()}else a.B&&setTimeout(function(){a.B.apply(b)},a.timeout)};v.Jg=function(){db(this.rd,function(a){var b=document.createDocumentFragment();db(a.childNodes,function(a){b.appendChild(a)});a.parentNode.replaceChild(b,a)})};v.yb=function(a){this.parent.yb(a)};v.bb=function(){this.parent.bb(this)};
v.ed=function(){this.parent.ed()};v.zb=function(){this.parent.zb()};v.N=function(){db(this.rd,function(a){O(a,"mouseover",this.yh,p,this);O(a,"mouseout",this.xh,p,this)},this)};S.l.view.Sd=function(a,b,d){this.f=a;this.e=b;this.parent=d;this.partial={Sa:document.getElementById("pintex-flap"),Ni:L("pintex-qfo-icon"),P:document.getElementById("pintex-qpanel"),u:document.getElementById("pintex-qlogin"),hj:L("pintex-sina-login"),Fd:document.getElementById("pintex-auth"),gj:document.getElementById("pintex-setting"),O:L("pintex-logout"),shareAdd:document.getElementById("pintex-add-sync"),shareLike:document.getElementById("pintex-like-sync")};this.offset=S.g.k.offset;this.hd={Wc:l};
a=window.screen.height;b=this.partial.P.offsetHeight;this.partial.P.style.top=(a-b)*this.offset.wc+"px";this.partial.Sa.style.top=(a-b)*this.offset.wc+"px";this.partial.u.style.top=(a-b)*this.offset.wc+"px";this.partial.u.style.left=this.partial.Sa.offsetWidth+this.offset.Tf+"px";this.N()};var kf=S.l.view.Sd;v=kf.prototype;v.Xa=function(){""!==this.partial.P.style.width&&"0px"!==this.partial.P.style.width&&this.$c()};v.mh=function(){this.f.attributes.uid?this.Nh():this.nf()};
v.lh=function(){this.f.attributes.uid||this.Xc()};v.sh=function(){this.nf()};v.rh=function(){this.Xc()};v.qh=function(){this.u("sina");this.Xc()};v.th=function(){this.$c(1);this.O()};v.vh=function(a){a.target===this.partial.P&&this.$c()};v.Bh=function(){this.e.na("shareAdd",this.partial.shareAdd.checked);this.e.na("rememberAdd",p)};v.Dh=function(){this.e.na("shareLike",this.partial.shareLike.checked);this.e.na("rememberLike",p)};
v.Nh=function(){var a=new qc(this.partial.Sa,[36,38],[0,0],300),b=new qc(this.partial.P,[0,0],[134,204],300);a.play();setTimeout(function(){b.play()},S.g.k.time.jg)};v.$c=function(a){var b=new qc(this.partial.P,[134,204],[0,0],a||300),d=new qc(this.partial.Sa,[28,30],[36,38],a||300);b.play();setTimeout(function(){d.play()},S.g.k.time.Nf)};v.nf=function(){this.hd.Wc=l;this.partial.u.style.display="block"};
v.Xc=function(){var a=this;a.hd.Wc=p;setTimeout(function(){a.hd.Wc||(a.partial.u.style.display="none")},S.g.k.time.Mf)};v.zd=function(){var a=ub(S.l.wa.f(S.b.object.ka(S.b.object.clone(this.f.attributes),{host:S.g.k.url.dc})));this.partial.Fd.parentNode.replaceChild(a,this.partial.Fd);this.partial.Fd=a};v.u=function(a,b){this.e.u(a,b)};v.O=function(a){this.e.O(a)};v.xd=function(){this.partial.shareAdd.checked=this.f.attributes.config.shareAdd;this.partial.shareLike.checked=this.f.attributes.config.shareLike};
v.N=function(){O(this.partial.P,"mouseup",S.b.stopPropagation,p,this);O(this.partial.P,"mousedown",S.b.stopPropagation,p,this);O(this.partial.P,"click",S.b.stopPropagation,p,this);O(document,"click",this.Xa,p,this);O(this.partial.Sa,"mouseover",this.mh,p,this);O(this.partial.Sa,"mouseout",this.lh,p,this);O(this.partial.u,"mouseover",this.sh,p,this);O(this.partial.u,"mouseout",this.rh,p,this);O(this.partial.u,"click",this.qh,p,this);O(this.partial.O,"click",this.th,p,this);O(this.partial.P,"mouseout",
this.vh,p,this);O(this.partial.shareAdd,"click",this.Bh,p,this);O(this.partial.shareLike,"click",this.Dh,p,this)};S.l.view.Rd=function(a,b,d){this.f=a;this.la=b;this.e=d;this.el=ub(S.l.wa.Og());document.body.appendChild(this.el);this.hc=new S.l.view.Sd(a,d,this);this.Ya=new S.l.view.$d(d,this);this.jc=new S.g.view.Vd;this.hf=new S.g.view.ce(a,d);this.kc=m;this.offset=S.g.k.offset;this.partial={P:document.getElementById("pintex-qpanel"),u:document.getElementById("pintex-qlogin"),K:document.getElementById("pintex-mark")};S.a.td.config({Gd:this.$g})};var lf=S.l.view.Rd;v=lf.prototype;v.zd=function(){this.hc.zd()};
v.xd=function(){this.hc.xd()};v.yd=function(a,b,d){a=new S.l.view.Yd(a,b,d,this);a.yd();this.Ya.N();return a};v.bb=function(a){this.kc=a;this.jc.bb(a)};v.yg=function(){S.g.b.ld(S.g.k.c.Hd,this.partial.K);this.Ya.N()};v.zg=function(){var a=this;S.g.b.ld(S.g.k.c.rc,a.partial.K);a.hc.u("sina",function(){a.f.attributes.uid&&a.e.J(a.Ya.range);a.Ya.N()})};
v.ed=function(){var a=this;S.g.b.ld(S.g.k.c.rc,a.partial.w);var b=a.kc.A.attributes.qid;a.hc.u("sina",function(){S.b.S.each(a.la.models,function(d){d.attributes.qid===b&&(a.kc=d.view)});a.e.ba(b)})};v.yb=function(a){this.jc.yb(a)};v.Vb=function(){this.jc.Vb()};v.Bd=function(){var a=this;a.hf.Bd(a.Ya.position,function(){a.e.J(a.Ya.range)})};v.zb=function(){var a=this;a.hf.zb(this.jc.position,function(){a.kc.e.ba()})};v.$g=function(a){return ub(S.l.wa.Wb(a))};S.a.e={};S.a.e.fe=q();var mf=S.a.e.fe;v=mf.prototype;v.initialize=function(a,b,d){this.f=a;this.view=b;this.parent=d;this.f.e=this;a.on("change:uid",this.Eg,this);a.on("change:config",this.Bg,this);return this};v.Wg=function(a){var b=this;S.a.rb(function(d){d?S.a.gb(function(e){d.config=e;b.f.set(d);a&&a(b.f)}):a&&a(b.f)})};v.u=function(a,b){var d=this;S.a.u(a,function(a){a&&S.a.gb(function(b){a.config=b;d.f.set(a)});b&&b()})};v.O=function(a){var b=this;S.a.O(function(){b.f.clear();a&&a()})};
v.na=function(a,b,d){var e=S.b.object.clone(this.f.attributes.config);e[a]=b;this.f.set({config:e});S.a.gb(this.f.attributes.config,d)};v.Eg=function(){this.f.attributes.uid&&this.view.zd()};v.Bg=function(){this.f.attributes.config&&this.view.xd()};S.a.e.Wd=q();var nf=S.a.e.Wd;v=nf.prototype;v.initialize=function(a,b,d,e){this.f=a;this.A=b;this.view=d;this.parent=e;this.A.e=this;this.A.view=d;b.on("change:qid",this.Dg,this);b.on("change:liked",this.Cg,this);return this};v.ba=S.b.Ba(function(a,b){this.f.attributes.uid?!this.f.attributes.config.rememberLike&&!a.liked?(a.liked=l,this.view.zb()):this.vg(b):this.view.ed()});
v.vg=function(a){var b=this;S.a.ba(b.f.attributes.uid,b.A.attributes.qid,b.f.attributes.config,function(d){d&&(b.A.set(d),b.A.set({liked_count:d.liked_count,liked_users:d.liked_users,liked:l}),a&&a())})};v.ab=function(){S.a.ab(this.A.attributes.qid);this.A.clear()};v.Cg=function(){this.A.attributes.liked_users&&this.view.bb()};v.Dg=function(){this.A.attributes.qid||this.view.Jg()};S.a.e.Xd=q();var of=S.a.e.Xd;v=of.prototype;v.initialize=function(a,b,d,e){this.f=a;this.la=b;this.view=d;this.parent=e;b.on("add",this.Ag,this);return this};v.J=S.b.Ba(function(a,b,d){this.f.attributes.uid?this.ad(S.a.gd.X(b))?this.view.yg():!this.f.attributes.config.rememberAdd&&a.range!==b?(a.range=b,this.view.Bd()):this.og(b,d):this.view.zg()});v.og=function(a,b){var d=this;S.a.J(d.f.attributes.uid,a,d.f.attributes.config,function(a){d.la.add(a);b&&b()})};
v.Ag=function(a){var b=new S.a.e.Wd,d=this.view.yd(this.f,a,b);b.initialize(this.f,a,d,this.parent)};v.Qb=function(){S.b.error("Override fetchQpointList method in subclass")};v.Kg=function(){var a=this;S.b.S.each([].slice.call(a.la.models),function(b){b.clear();a.la.remove(b)})};
v.ad=function(a){var b,d,e,f;b=+a.range_loc.split(";")[0];e=+a.range_loc.split(";")[1];return gb(this.la.models,function(a){a=a.attributes;d=+a.range_loc.split(";")[0];f=+a.range_loc.split(";")[1];if(d>b&&d<e||f>b&&f<e||b>d&&b<f||e>d&&e<f||b===d&&e===f)return l})};S.a.e.Qd=q();var pf=S.a.e.Qd;S.b.object.ka(pf.prototype,S.a.e.Xd.prototype);pf.prototype.Qb=function(a){var b=this;b.Kg();S.a.Ub(window.location.href,{uid:this.f.attributes.uid},function(d){d&&S.b.S.each(d,function(a){b.ad(a)||b.la.add(a)});a&&a(d)})};S.a.e.Zd=q();var qf=S.a.e.Zd;qf.prototype.initialize=function(a){this.parent=a;return this};qf.prototype.mb=function(a){return S.a.La.mb(a)};qf.prototype.complete=function(a){a=S.a.La.complete(a);return S.a.La.mb(a)?S.a.La.trim(a):S.a.La.trim(S.a.La.ie)};S.l.e={};S.l.e.Pd=q();var rf=S.l.e.Pd;v=rf.prototype;v.initialize=function(a,b,d){var e=this;e.f=a;e.la=b;e.view=d;e.vb=(new S.a.e.Qd).initialize(a,b,d,this);e.pc=(new S.a.e.fe).initialize(a,d,this);e.Kh=(new S.a.e.Zd).initialize(this);S.a.initialize(function(){e.pc.Wg(function(){e.vb.Qb()})})};v.u=function(a,b){var d=this;d.pc.u(a,function(){d.vb.Qb(b)})};v.O=function(a){var b=this;b.pc.O(function(){b.vb.Qb(a)})};v.na=function(a,b){this.pc.na(a,b)};v.J=function(a){this.vb.J(a)};
v.ba=function(a){S.b.S.each(this.la.models,function(b){b.attributes.qid===a&&b.e.ba()})};v.pe=function(a){var b={range_loc:S.a.range.X(a).join(";")};return this.vb.ad(b)?p:this.Kh.mb(a)};S.fb.mi={};
(function(){function a(b,d,e,h){if(b===d)return 0!==b||1/b==1/d;if(b==m||d==m)return b===d;b instanceof f&&(b=b.Pa);d instanceof f&&(d=d.Pa);var j=R.call(b);if(j!=R.call(d))return p;switch(j){case "[object String]":return b==String(d);case "[object Number]":return b!=+b?d!=+d:0==b?1/b==1/d:b==+d;case "[object Date]":case "[object Boolean]":return+b==+d;case "[object RegExp]":return b.source==d.source&&b.global==d.global&&b.multiline==d.multiline&&b.ignoreCase==d.ignoreCase}if("object"!=typeof b||
"object"!=typeof d)return p;for(var k=e.length;k--;)if(e[k]==b)return h[k]==d;e.push(b);h.push(d);var k=0,n=l;if("[object Array]"==j){if(k=b.length,n=k==d.length)for(;k--&&(n=a(b[k],d[k],e,h)););}else{var j=b.constructor,r=d.constructor;if(j!==r&&(!f.isFunction(j)||!(j instanceof j&&f.isFunction(r)&&r instanceof r)))return p;for(var s in b)if(f.has(b,s)&&(k++,!(n=f.has(d,s)&&a(b[s],d[s],e,h))))break;if(n){for(s in d)if(f.has(d,s)&&!k--)break;n=!k}}e.pop();h.pop();return n}function b(a,d,e){F(a,function(a){f.isArray(a)?
d?r.apply(e,a):b(a,d,e):e.push(a)});return e}function d(a,b,d,h){var j={},k=e(b||f.identity);F(a,function(b,f){var e=k.call(d,b,f,a);h(j,e,b)});return j}function e(a){return f.isFunction(a)?a:function(b){return b[a]}}function f(a){if(a instanceof f)return a;if(!(this instanceof f))return new f(a);this.Pa=a}var h=this,j=h.Ib,k={},n=Array.prototype,s=Object.prototype,r=n.push,t=n.slice,x=n.concat,R=s.toString,D=s.hasOwnProperty,gc=n.forEach,A=n.map,K=n.reduce,ee=n.reduceRight,fe=n.filter,re=n.every,
se=n.some,kc=n.indexOf,te=n.lastIndexOf,s=Array.isArray,Gf=Object.keys,Qc=Function.prototype.bind;"undefined"!==typeof exports?("undefined"!==typeof module&&module.xe&&(exports=module.xe=f),exports.Ib=f):h.Ib=f;f.VERSION="1.4.4";var F=f.each=f.forEach=function(a,b,d){if(a!=m)if(gc&&a.forEach===gc)a.forEach(b,d);else if(a.length===+a.length)for(var e=0,h=a.length;e<h&&b.call(d,a[e],e,a)!==k;e++);else for(e in a)if(f.has(a,e)&&b.call(d,a[e],e,a)===k)break};f.map=f.collect=function(a,b,d){var f=[];if(a==
m)return f;if(A&&a.map===A)return a.map(b,d);F(a,function(a,e,h){f[f.length]=b.call(d,a,e,h)});return f};f.reduce=f.foldl=f.inject=function(a,b,d,e){var h=2<arguments.length;a==m&&(a=[]);if(K&&a.reduce===K)return e&&(b=f.bind(b,e)),h?a.reduce(b,d):a.reduce(b);F(a,function(a,f,Ff){h?d=b.call(e,d,a,f,Ff):(d=a,h=l)});h||g(new TypeError("Reduce of empty array with no initial value"));return d};f.reduceRight=f.foldr=function(a,b,d,e){var h=2<arguments.length;a==m&&(a=[]);if(ee&&a.reduceRight===ee)return e&&
(b=f.bind(b,e)),h?a.reduceRight(b,d):a.reduceRight(b);var j=a.length;if(j!==+j)var k=f.keys(a),j=k.length;F(a,function(f,n,r){n=k?k[--j]:--j;h?d=b.call(e,d,a[n],n,r):(d=a[n],h=l)});h||g(new TypeError("Reduce of empty array with no initial value"));return d};f.find=f.detect=function(a,b,d){var f;ue(a,function(a,e,h){if(b.call(d,a,e,h))return f=a,l});return f};f.filter=f.select=function(a,b,d){var f=[];if(a==m)return f;if(fe&&a.filter===fe)return a.filter(b,d);F(a,function(a,e,h){b.call(d,a,e,h)&&(f[f.length]=
a)});return f};f.reject=function(a,b,d){return f.filter(a,function(a,f,e){return!b.call(d,a,f,e)},d)};f.every=f.all=function(a,b,d){b||(b=f.identity);var e=l;if(a==m)return e;if(re&&a.every===re)return a.every(b,d);F(a,function(a,f,h){if(!(e=e&&b.call(d,a,f,h)))return k});return!!e};var ue=f.some=f.any=function(a,b,d){b||(b=f.identity);var e=p;if(a==m)return e;if(se&&a.some===se)return a.some(b,d);F(a,function(a,f,h){if(e||(e=b.call(d,a,f,h)))return k});return!!e};f.contains=f.include=function(a,
b){return a==m?p:kc&&a.indexOf===kc?-1!=a.indexOf(b):ue(a,function(a){return a===b})};f.invoke=function(a,b){var d=t.call(arguments,2),e=f.isFunction(b);return f.map(a,function(a){return(e?b:a[b]).apply(a,d)})};f.pluck=function(a,b){return f.map(a,function(a){return a[b]})};f.where=function(a,b,d){return f.isEmpty(b)?d?m:[]:f[d?"find":"filter"](a,function(a){for(var d in b)if(b[d]!==a[d])return p;return l})};f.findWhere=function(a,b){return f.where(a,b,l)};f.max=function(a,b,d){if(!b&&f.isArray(a)&&
a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&f.isEmpty(a))return-Infinity;var e={ob:-Infinity,value:-Infinity};F(a,function(a,f,h){f=b?b.call(d,a,f,h):a;f>=e.ob&&(e={value:a,ob:f})});return e.value};f.min=function(a,b,d){if(!b&&f.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&f.isEmpty(a))return Infinity;var e={ob:Infinity,value:Infinity};F(a,function(a,f,h){f=b?b.call(d,a,f,h):a;f<e.ob&&(e={value:a,ob:f})});return e.value};f.shuffle=function(a){var b,
d=0,e=[];F(a,function(a){b=f.random(d++);e[d-1]=e[b];e[b]=a});return e};f.sortBy=function(a,b,d){var h=e(b);return f.pluck(f.map(a,function(a,b,e){return{value:a,index:b,re:h.call(d,a,b,e)}}).sort(function(a,b){var d=a.re,e=b.re;if(d!==e){if(d>e||d===i)return 1;if(d<e||e===i)return-1}return a.index<b.index?-1:1}),"value")};f.groupBy=function(a,b,e){return d(a,b,e,function(a,b,d){(f.has(a,b)?a[b]:a[b]=[]).push(d)})};f.countBy=function(a,b,e){return d(a,b,e,function(a,b){f.has(a,b)||(a[b]=0);a[b]++})};
f.sortedIndex=function(a,b,d,h){d=d==m?f.identity:e(d);b=d.call(h,b);for(var j=0,k=a.length;j<k;){var n=j+k>>>1;d.call(h,a[n])<b?j=n+1:k=n}return j};f.toArray=function(a){return!a?[]:f.isArray(a)?t.call(a):a.length===+a.length?f.map(a,f.identity):f.values(a)};f.size=function(a){return a==m?0:a.length===+a.length?a.length:f.keys(a).length};f.first=f.head=f.take=function(a,b,d){return a==m?i:b!=m&&!d?t.call(a,0,b):a[0]};f.initial=function(a,b,d){return t.call(a,0,a.length-(b==m||d?1:b))};f.last=function(a,
b,d){return a==m?i:b!=m&&!d?t.call(a,Math.max(a.length-b,0)):a[a.length-1]};f.rest=f.tail=f.drop=function(a,b,d){return t.call(a,b==m||d?1:b)};f.compact=function(a){return f.filter(a,f.identity)};f.flatten=function(a,d){return b(a,d,[])};f.without=function(a){return f.difference(a,t.call(arguments,1))};f.uniq=f.unique=function(a,b,d,e){f.isFunction(b)&&(e=d,d=b,b=p);d=d?f.map(a,d,e):a;var h=[],j=[];F(d,function(d,e){if(b?!e||j[j.length-1]!==d:!f.contains(j,d))j.push(d),h.push(a[e])});return h};f.union=
function(){return f.uniq(x.apply(n,arguments))};f.intersection=function(a){var b=t.call(arguments,1);return f.filter(f.uniq(a),function(a){return f.every(b,function(b){return 0<=f.indexOf(b,a)})})};f.difference=function(a){var b=x.apply(n,t.call(arguments,1));return f.filter(a,function(a){return!f.contains(b,a)})};f.zip=function(){for(var a=t.call(arguments),b=f.max(f.pluck(a,"length")),d=Array(b),e=0;e<b;e++)d[e]=f.pluck(a,""+e);return d};f.object=function(a,b){if(a==m)return{};for(var d={},e=0,
f=a.length;e<f;e++)b?d[a[e]]=b[e]:d[a[e][0]]=a[e][1];return d};f.indexOf=function(a,b,d){if(a==m)return-1;var e=0,h=a.length;if(d)if("number"==typeof d)e=0>d?Math.max(0,h+d):d;else return e=f.sortedIndex(a,b),a[e]===b?e:-1;if(kc&&a.indexOf===kc)return a.indexOf(b,d);for(;e<h;e++)if(a[e]===b)return e;return-1};f.lastIndexOf=function(a,b,d){if(a==m)return-1;var e=d!=m;if(te&&a.lastIndexOf===te)return e?a.lastIndexOf(b,d):a.lastIndexOf(b);for(d=e?d:a.length;d--;)if(a[d]===b)return d;return-1};f.range=
function(a,b,d){1>=arguments.length&&(b=a||0,a=0);d=arguments[2]||1;for(var e=Math.max(Math.ceil((b-a)/d),0),f=0,h=Array(e);f<e;)h[f++]=a,a+=d;return h};f.bind=function(a,b){if(a.bind===Qc&&Qc)return Qc.apply(a,t.call(arguments,1));var d=t.call(arguments,2);return function(){return a.apply(b,d.concat(t.call(arguments)))}};f.partial=function(a){var b=t.call(arguments,1);return function(){return a.apply(this,b.concat(t.call(arguments)))}};f.bindAll=function(a){var b=t.call(arguments,1);0===b.length&&
(b=f.functions(a));F(b,function(b){a[b]=f.bind(a[b],a)});return a};f.memoize=function(a,b){var d={};b||(b=f.identity);return function(){var e=b.apply(this,arguments);return f.has(d,e)?d[e]:d[e]=a.apply(this,arguments)}};f.delay=function(a,b){var d=t.call(arguments,2);return setTimeout(function(){return a.apply(m,d)},b)};f.defer=function(a){return f.delay.apply(f,[a,1].concat(t.call(arguments,1)))};f.throttle=function(a,b){function d(){k=new Date;h=m;j=a.apply(e,f)}var e,f,h,j,k=0;return function(){var n=
new Date,r=b-(n-k);e=this;f=arguments;0>=r?(clearTimeout(h),h=m,k=n,j=a.apply(e,f)):h||(h=setTimeout(d,r));return j}};f.debounce=function(a,b,d){var e,f;return function(){var h=this,j=arguments,k=d&&!e;clearTimeout(e);e=setTimeout(function(){e=m;d||(f=a.apply(h,j))},b);k&&(f=a.apply(h,j));return f}};f.once=function(a){var b=p,d;return function(){if(b)return d;b=l;d=a.apply(this,arguments);a=m;return d}};f.wrap=function(a,b){return function(){var d=[a];r.apply(d,arguments);return b.apply(this,d)}};
f.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;0<=d;d--)b=[a[d].apply(this,b)];return b[0]}};f.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};f.keys=Gf||function(a){a!==Object(a)&&g(new TypeError("Invalid object"));var b=[],d;for(d in a)f.has(a,d)&&(b[b.length]=d);return b};f.values=function(a){var b=[],d;for(d in a)f.has(a,d)&&b.push(a[d]);return b};f.pairs=function(a){var b=[],d;for(d in a)f.has(a,d)&&b.push([d,a[d]]);
return b};f.invert=function(a){var b={},d;for(d in a)f.has(a,d)&&(b[a[d]]=d);return b};f.functions=f.methods=function(a){var b=[],d;for(d in a)f.isFunction(a[d])&&b.push(d);return b.sort()};f.extend=function(a){F(t.call(arguments,1),function(b){if(b)for(var d in b)a[d]=b[d]});return a};f.pick=function(a){var b={},d=x.apply(n,t.call(arguments,1));F(d,function(d){d in a&&(b[d]=a[d])});return b};f.omit=function(a){var b={},d=x.apply(n,t.call(arguments,1)),e;for(e in a)f.contains(d,e)||(b[e]=a[e]);return b};
f.defaults=function(a){F(t.call(arguments,1),function(b){if(b)for(var d in b)a[d]==m&&(a[d]=b[d])});return a};f.clone=function(a){return!f.isObject(a)?a:f.isArray(a)?a.slice():f.extend({},a)};f.tap=function(a,b){b(a);return a};f.isEqual=function(b,d){return a(b,d,[],[])};f.isEmpty=function(a){if(a==m)return l;if(f.isArray(a)||f.isString(a))return 0===a.length;for(var b in a)if(f.has(a,b))return p;return l};f.isElement=function(a){return!!(a&&1===a.nodeType)};f.isArray=s||function(a){return"[object Array]"==
R.call(a)};f.isObject=function(a){return a===Object(a)};F("Arguments Function String Number Date RegExp".split(" "),function(a){f["is"+a]=function(b){return R.call(b)=="[object "+a+"]"}});f.isArguments(arguments)||(f.isArguments=function(a){return!(!a||!f.has(a,"callee"))});"function"!==typeof/./&&(f.isFunction=function(a){return"function"===typeof a});f.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};f.isNaN=function(a){return f.isNumber(a)&&a!=+a};f.isBoolean=function(a){return a===
l||a===p||"[object Boolean]"==R.call(a)};f.isNull=function(a){return a===m};f.isUndefined=function(a){return a===i};f.has=function(a,b){return D.call(a,b)};f.noConflict=function(){h.Ib=j;return this};f.identity=aa();f.times=function(a,b,d){for(var e=Array(a),f=0;f<a;f++)e[f]=b.call(d,f);return e};f.random=function(a,b){b==m&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var yb={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};yb.unescape=f.invert(yb.escape);
var Hf={escape:RegExp("["+f.keys(yb.escape).join("")+"]","g"),unescape:RegExp("("+f.keys(yb.unescape).join("|")+")","g")};f.each(["escape","unescape"],function(a){f[a]=function(b){return b==m?"":(""+b).replace(Hf[a],function(b){return yb[a][b]})}});f.result=function(a,b){if(a==m)return m;var d=a[b];return f.isFunction(d)?d.call(a):d};f.mixin=function(a){F(f.functions(a),function(b){var d=f[b]=a[b];f.prototype[b]=function(){var a=[this.Pa];r.apply(a,arguments);a=d.apply(f,a);return this.Ac?f(a).chain():
a}})};var If=0;f.uniqueId=function(a){var b=++If+"";return a?a+b:b};f.Oh={evaluate:/<%([\s\S]+?)%>/g,ah:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Rc=/(.)^/,Jf={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},Kf=/\\|'|\r|\n|\t|\u2028|\u2029/g;f.template=function(a,b,d){function e(a){return h.call(this,a,f)}var h;d=f.defaults({},d,f.Oh);var j=0,k="__p+='";a.replace(RegExp([(d.escape||Rc).source,(d.ah||Rc).source,(d.evaluate||Rc).source].join("|")+"|$","g"),function(b,
d,e,f,h){k+=a.slice(j,h).replace(Kf,function(a){return"\\"+Jf[a]});d&&(k+="'+\n((__t=("+d+"))==null?'':_.escape(__t))+\n'");e&&(k+="'+\n((__t=("+e+"))==null?'':__t)+\n'");f&&(k+="';\n"+f+"\n__p+='");j=h+b.length;return b});k+="';\n";d.rf||(k="with(obj||{}){\n"+k+"}\n");k="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+k+"return __p;\n";try{h=new Function(d.rf||"obj","_",k)}catch(n){n.source=k,g(n)}if(b)return h(b,f);e.source="function("+(d.rf||"obj")+"){\n"+
k+"}";return e};f.chain=function(a){return f(a).chain()};f.mixin(f);F("pop push reverse shift sort splice unshift".split(" "),function(a){var b=n[a];f.prototype[a]=function(){var d=this.Pa;b.apply(d,arguments);("shift"==a||"splice"==a)&&0===d.length&&delete d[0];return this.Ac?f(d).chain():d}});F(["concat","join","slice"],function(a){var b=n[a];f.prototype[a]=function(){var a=b.apply(this.Pa,arguments);return this.Ac?f(a).chain():a}});f.extend(f.prototype,{chain:function(){this.Ac=l;return this},
value:u("Pa")})}).call(this);S.fb.Db={};var sf=this,tf=sf.Db,uf=[],vf=uf.push,wf=uf.slice,xf=uf.splice,Y;Y="undefined"!==typeof exports?exports:sf.Db={};Y.VERSION="1.0.0";var Z=sf.Ib;!Z&&"undefined"!==typeof require&&(Z=require("underscore"));Y.$=sf.Pi||sf.ni||sf.Ai||sf.$;Y.noConflict=function(){sf.Db=tf;return this};Y.emulateHTTP=p;Y.emulateJSON=p;
var $=Y.Events={on:function(a,b,d){if(!yf(this,"on",a,[b,d])||!b)return this;this.L||(this.L={});(this.L[a]||(this.L[a]=[])).push({B:b,Qg:d,pb:d||this});return this},once:function(a,b,d){if(!yf(this,"once",a,[b,d])||!b)return this;var e=this,f=Z.once(function(){e.off(a,f);b.apply(this,arguments)});f.qg=b;return this.on(a,f,d)},off:function(a,b,d){var e,f,h,j,k,n,s,r;if(!this.L||!yf(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this.L={},this;j=a?[a]:Z.keys(this.L);k=0;for(n=j.length;k<n;k++)if(a=
j[k],h=this.L[a]){this.L[a]=e=[];if(b||d){s=0;for(r=h.length;s<r;s++)f=h[s],(b&&b!==f.B&&b!==f.B.qg||d&&d!==f.Qg)&&e.push(f)}e.length||delete this.L[a]}return this},trigger:function(a){if(!this.L)return this;var b=wf.call(arguments,1);if(!yf(this,"trigger",a,b))return this;var d=this.L[a],e=this.L.all;d&&zf(d,b);e&&zf(e,arguments);return this},stopListening:function(a,b,d){var e=this.Cc;if(!e)return this;var f=!b&&!d;"object"===typeof b&&(d=this);a&&((e={})[a.ge]=a);for(var h in e)e[h].off(b,d,this),
f&&delete this.Cc[h];return this}},Af=/\s+/;function yf(a,b,d,e){if(!d)return l;if("object"===typeof d){for(var f in d)a[b].apply(a,[f,d[f]].concat(e));return p}if(Af.test(d)){d=d.split(Af);f=0;for(var h=d.length;f<h;f++)a[b].apply(a,[d[f]].concat(e));return p}return l}
function zf(a,b){var d,e=-1,f=a.length,h=b[0],j=b[1],k=b[2];switch(b.length){case 0:for(;++e<f;)(d=a[e]).B.call(d.pb);break;case 1:for(;++e<f;)(d=a[e]).B.call(d.pb,h);break;case 2:for(;++e<f;)(d=a[e]).B.call(d.pb,h,j);break;case 3:for(;++e<f;)(d=a[e]).B.call(d.pb,h,j,k);break;default:for(;++e<f;)(d=a[e]).B.apply(d.pb,b)}}
Z.each({listenTo:"on",listenToOnce:"once"},function(a,b){$[b]=function(b,e,f){var h=this.Cc||(this.Cc={}),j=b.ge||(b.ge=Z.uniqueId("l"));h[j]=b;"object"===typeof e&&(f=this);b[a](e,f,this);return this}});$.bind=$.on;$.unbind=$.off;Z.extend(Y,$);
var Cf=Y.Model=function(a,b){var d,e=a||{};b||(b={});this.cid=Z.uniqueId("c");this.attributes={};Z.extend(this,Z.pick(b,Bf));b.parse&&(e=this.parse(e,b)||{});if(d=Z.result(this,"defaults"))e=Z.defaults({},e,d);this.set(e,b);this.changed={};this.initialize.apply(this,arguments)},Bf=["url","urlRoot","collection"];
Z.extend(Cf.prototype,$,{changed:m,validationError:m,idAttribute:"id",initialize:q(),toJSON:function(){return Z.clone(this.attributes)},sync:function(){return Y.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return Z.escape(this.get(a))},has:function(a){return this.get(a)!=m},set:function(a,b,d){var e,f,h,j,k,n,s;if(a==m)return this;"object"===typeof a?(f=a,d=b):(f={})[a]=b;d||(d={});if(!this.Kb(f,d))return p;h=d.unset;j=d.va;a=[];k=this.Bc;this.Bc=l;k||
(this.lb=Z.clone(this.attributes),this.changed={});s=this.attributes;n=this.lb;this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],Z.isEqual(s[e],b)||a.push(e),Z.isEqual(n[e],b)?delete this.changed[e]:this.changed[e]=b,h?delete s[e]:s[e]=b;if(!j){a.length&&(this.Dc=l);b=0;for(e=a.length;b<e;b++)this.trigger("change:"+a[b],this,s[a[b]],d)}if(k)return this;if(!j)for(;this.Dc;)this.Dc=p,this.trigger("change",this,d);this.Bc=this.Dc=p;return this},unset:function(a,b){return this.set(a,
i,Z.extend({},b,{unset:l}))},clear:function(a){var b={},d;for(d in this.attributes)b[d]=i;return this.set(b,Z.extend({},a,{unset:l}))},hasChanged:function(a){return a==m?!Z.isEmpty(this.changed):Z.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?Z.clone(this.changed):p;var b,d=p,e=this.Bc?this.lb:this.attributes,f;for(f in a)if(!Z.isEqual(e[f],b=a[f]))(d||(d={}))[f]=b;return d},previous:function(a){return a==m||!this.lb?m:this.lb[a]},previousAttributes:function(){return Z.clone(this.lb)},
fetch:function(a){a=a?Z.clone(a):{};a.parse===i&&(a.parse=l);var b=this,d=a.ea;a.ea=function(e){if(!b.set(b.parse(e,a),a))return p;d&&d(b,e,a);b.trigger("sync",b,e,a)};Df(this,a);return this.sync("read",this,a)},save:function(a,b,d){var e,f=this.attributes;a==m||"object"===typeof a?(e=a,d=b):(e={})[a]=b;if(e&&(!d||!d.Na)&&!this.set(e,d))return p;d=Z.extend({validate:l},d);if(!this.Kb(e,d))return p;e&&d.Na&&(this.attributes=Z.extend({},f,e));d.parse===i&&(d.parse=l);var h=this,j=d.ea;d.ea=function(a){h.attributes=
f;var b=h.parse(a,d);d.Na&&(b=Z.extend(e||{},b));if(Z.isObject(b)&&!h.set(b,d))return p;j&&j(h,a,d);h.trigger("sync",h,a,d)};Df(this,d);a=this.isNew()?"create":d.aj?"patch":"update";"patch"===a&&(d.Qa=e);a=this.sync(a,this,d);e&&d.Na&&(this.attributes=f);return a},destroy:function(a){function b(){d.trigger("destroy",d,d.Ra,a)}a=a?Z.clone(a):{};var d=this,e=a.ea;a.ea=function(f){(a.Na||d.isNew())&&b();e&&e(d,f,a);d.isNew()||d.trigger("sync",d,f,a)};if(this.isNew())return a.ea(),p;Df(this,a);var f=
this.sync("delete",this,a);a.Na||b();return f},url:function(){var a=Z.result(this,"urlRoot")||Z.result(this.Ra,"url")||Ef();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:aa(),clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==m},isValid:function(a){return this.Kb({},Z.extend(a||{},{validate:l}))},Kb:function(a,b){if(!b.validate||!this.validate)return l;a=Z.extend({},this.attributes,a);var d=this.validationError=
this.validate(a,b)||m;if(!d)return l;this.trigger("invalid",this,d,Z.extend(b||{},{validationError:d}));return p}});Z.each("keys values pairs invert pick omit".split(" "),function(a){Cf.prototype[a]=function(){var b=wf.call(arguments);b.unshift(this.attributes);return Z[a].apply(Z,b)}});
var Lf=Y.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&(this.model=b.model);b.T!==i&&(this.T=b.T);this.ke();this.initialize.apply(this,arguments);a&&this.reset(a,Z.extend({va:l},b))},Mf={add:l,remove:l,Pe:l},Nf={add:l,Pe:p,remove:p};
Z.extend(Lf.prototype,$,{model:Cf,initialize:q(),toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return Y.sync.apply(this,arguments)},add:function(a,b){return this.set(a,Z.defaults(b||{},Nf))},remove:function(a,b){a=Z.isArray(a)?a.slice():[a];b||(b={});var d,e,f,h;d=0;for(e=a.length;d<e;d++)if(h=this.get(a[d]))delete this.za[h.id],delete this.za[h.cid],f=this.indexOf(h),this.models.splice(f,1),this.length--,b.va||(b.index=f,h.trigger("remove",h,this,b)),this.je(h);
return this},set:function(a,b){b=Z.defaults(b||{},Mf);b.parse&&(a=this.parse(a,b));Z.isArray(a)||(a=a?[a]:[]);var d,e,f,h,j,k=b.at,n=this.T&&k==m&&b.sort!==p,s=Z.isString(this.T)?this.T:m,r=[],t=[],x={};d=0;for(e=a.length;d<e;d++)if(f=this.Jb(a[d],b))(h=this.get(f))?(b.remove&&(x[h.cid]=l),b.Pe&&(h.set(f.attributes,b),n&&(!j&&h.hasChanged(s))&&(j=l))):b.add&&(r.push(f),f.on("all",this.he,this),this.za[f.cid]=f,f.id!=m&&(this.za[f.id]=f));if(b.remove){d=0;for(e=this.length;d<e;++d)x[(f=this.models[d]).cid]||
t.push(f);t.length&&this.remove(t,b)}r.length&&(n&&(j=l),this.length+=r.length,k!=m?xf.apply(this.models,[k,0].concat(r)):vf.apply(this.models,r));j&&this.sort({va:l});if(b.va)return this;d=0;for(e=r.length;d<e;d++)(f=r[d]).trigger("add",f,this,b);j&&this.trigger("sort",this,b);return this},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;d<e;d++)this.je(this.models[d]);b.previousModels=this.models;this.ke();this.add(a,Z.extend({va:l},b));b.va||this.trigger("reset",this,b);return this},
push:function(a,b){a=this.Jb(a,b);this.add(a,Z.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this.Jb(a,b);this.add(a,Z.extend({at:0},b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return a==m?i:this.za[a.id!=m?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return Z.isEmpty(a)?b?i:[]:this[b?
"find":"filter"](function(b){for(var e in a)if(a[e]!==b.get(e))return p;return l})},findWhere:function(a){return this.where(a,l)},sort:function(a){this.T||g(Error("Cannot sort a set without a comparator"));a||(a={});Z.isString(this.T)||1===this.T.length?this.models=this.sortBy(this.T,this):this.models.sort(Z.bind(this.T,this));a.va||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,d){b||(b=this.T);var e=Z.isFunction(b)?b:function(a){return a.get(b)};return Z.sortedIndex(this.models,
a,e,d)},pluck:function(a){return Z.invoke(this.models,"get",a)},fetch:function(a){a=a?Z.clone(a):{};a.parse===i&&(a.parse=l);var b=a.ea,d=this;a.ea=function(e){d[a.reset?"reset":"set"](e,a);b&&b(d,e,a);d.trigger("sync",d,e,a)};Df(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?Z.clone(b):{};if(!(a=this.Jb(a,b)))return p;b.Na||this.add(a,b);var d=this,e=b.ea;b.ea=function(f){b.Na&&d.add(a,b);e&&e(a,f,b)};a.save(m,b);return a},parse:aa(),clone:function(){return new this.constructor(this.models)},
ke:function(){this.length=0;this.models=[];this.za={}},Jb:function(a,b){if(a instanceof Cf)return a.Ra||(a.Ra=this),a;b||(b={});b.Ra=this;var d=new this.model(a,b);return!d.Kb(a,b)?(this.trigger("invalid",this,a,b),p):d},je:function(a){this===a.Ra&&delete a.Ra;a.off("all",this.he,this)},he:function(a,b,d,e){("add"===a||"remove"===a)&&d!==this||("destroy"===a&&this.remove(b,e),b&&a==="change:"+b.idAttribute&&(delete this.za[b.previous(b.idAttribute)],b.id!=m&&(this.za[b.id]=b)),this.trigger.apply(this,
arguments))}});Z.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){Lf.prototype[a]=function(){var b=wf.call(arguments);b.unshift(this.models);return Z[a].apply(Z,b)}});
Z.each(["groupBy","countBy","sortBy"],function(a){Lf.prototype[a]=function(b,d){var e=Z.isFunction(b)?b:function(a){return a.get(b)};return Z[a](this.models,e,d)}});var Of=Y.View=function(a){this.cid=Z.uniqueId("view");this.sg(a||{});this.ug();this.initialize.apply(this,arguments);this.delegateEvents()},Pf=/^(\S+)\s*(.*)$/,Qf="model collection el id attributes className tagName events".split(" ");
Z.extend(Of.prototype,$,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:q(),render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof Y.$?a:Y.$(a);this.el=this.$el[0];b!==p&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=Z.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];Z.isFunction(d)||(d=this[a[b]]);
if(d){var e=b.match(Pf),f=e[1],e=e[2],d=Z.bind(d,this),f=f+(".delegateEvents"+this.cid);if(""===e)this.$el.on(f,d);else this.$el.on(f,e,d)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},sg:function(a){this.options&&(a=Z.extend({},Z.result(this,"options"),a));Z.extend(this,Z.pick(a,Qf));this.options=a},ug:function(){if(this.el)this.setElement(Z.result(this,"el"),p);else{var a=Z.extend({},Z.result(this,"attributes"));this.id&&(a.id=Z.result(this,"id"));
this.className&&(a["class"]=Z.result(this,"className"));a=Y.$("<"+Z.result(this,"tagName")+">").Lb(a);this.setElement(a,p)}}});
Y.sync=function(a,b,d){var e=Rf[a];Z.defaults(d||(d={}),{emulateHTTP:Y.emulateHTTP,emulateJSON:Y.emulateJSON});var f={type:e,dataType:"json"};d.url||(f.url=Z.result(b,"url")||Ef());if(d.data==m&&b&&("create"===a||"update"===a||"patch"===a))f.contentType="application/json",f.data=JSON.stringify(d.Qa||b.toJSON(d));d.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{});if(d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){f.type="POST";d.emulateJSON&&(f.data.pi=
e);var h=d.Hg;d.Hg=function(a){a.setRequestHeader("X-HTTP-Method-Override",e);if(h)return h.apply(this,arguments)}}"GET"!==f.type&&!d.emulateJSON&&(f.bj=p);if("PATCH"===f.type&&window.ActiveXObject&&(!window.external||!window.external.Yi))f.Th=function(){return new ActiveXObject("Microsoft.XMLHTTP")};a=d.Th=Y.oe(Z.extend(f,d));b.trigger("request",b,a,d);return a};var Rf={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};Y.oe=function(){return Y.$.oe.apply(Y.$,arguments)};
var Sf=Y.Router=function(a){a||(a={});a.cb&&(this.cb=a.cb);this._bindRoutes();this.initialize.apply(this,arguments)},Tf=/\((.*?)\)/g,Uf=/(\(\?)?:\w+/g,Vf=/\*\w+/g,Wf=/[\-{}\[\]+?.,\\\^$|#\s]/g;
Z.extend(Sf.prototype,$,{initialize:q(),route:function(a,b,d){Z.isRegExp(a)||(a=this._routeToRegExp(a));Z.isFunction(b)&&(d=b,b="");d||(d=this[b]);var e=this;Y.history.route(a,function(f){f=e._extractParameters(a,f);d&&d.apply(e,f);e.trigger.apply(e,["route:"+b].concat(f));e.trigger("route",b,f);Y.history.trigger("route",e,b,f)});return this},navigate:function(a,b){Y.history.navigate(a,b);return this},_bindRoutes:function(){if(this.cb){this.cb=Z.result(this,"routes");for(var a,b=Z.keys(this.cb);(a=
b.pop())!=m;)this.route(a,this.cb[a])}},_routeToRegExp:function(a){a=a.replace(Wf,"\\$&").replace(Tf,"(?:$1)?").replace(Uf,function(a,d){return d?a:"([^/]+)"}).replace(Vf,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return Z.map(d,function(a){return a?decodeURIComponent(a):m})}});
var Xf=Y.History=function(){this.He=[];Z.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},Yf=/^[#\/]|\s+$/g,Zf=/^\/+|\/+$/g,$f=/msie [\w.]+/,ag=/\/$/;Xf.started=p;
Z.extend(Xf.prototype,$,{bh:50,sb:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(a==m)if(this.kb||!this.Oa||b){a=this.location.pathname;var d=this.root.replace(ag,"");a.indexOf(d)||(a=a.substr(d.length))}else a=this.sb();return a.replace(Yf,"")},start:function(a){Xf.started&&g(Error("Backbone.history has already been started"));Xf.started=l;this.options=Z.extend({},{root:"/"},this.options,a);this.root=this.options.root;this.Oa=this.options.Li!==
p;this.me=!!this.options.pushState;this.kb=!(!this.options.pushState||!this.history||!this.history.pushState);a=this.getFragment();var b=document.documentMode,b=$f.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(Zf,"/");b&&this.Oa&&(this.Ha=Y.$('<iframe src="javascript:0" tabindex="-1" />').Mi().ti("body")[0].contentWindow,this.navigate(a));if(this.kb)Y.$(window).on("popstate",this.checkUrl);else if(this.Oa&&"onhashchange"in window&&!b)Y.$(window).on("hashchange",
this.checkUrl);else this.Oa&&(this.rg=setInterval(this.checkUrl,this.bh));this.ja=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this.Oa&&this.me&&!this.kb&&!b)return this.ja=this.getFragment(m,l),this.location.replace(this.root+this.location.search+"#"+this.ja),l;this.me&&(this.kb&&b&&a.hash)&&(this.ja=this.sb().replace(Yf,""),this.history.replaceState({},document.title,this.root+this.ja+a.search));if(!this.options.va)return this.Zb()},stop:function(){Y.$(window).off("popstate",
this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this.rg);Xf.started=p},route:function(a,b){this.He.unshift({route:a,B:b})},checkUrl:function(){var a=this.getFragment();a===this.ja&&this.Ha&&(a=this.getFragment(this.sb(this.Ha)));if(a===this.ja)return p;this.Ha&&this.navigate(a);this.Zb()||this.Zb(this.sb())},Zb:function(a){var b=this.ja=this.getFragment(a);return Z.any(this.He,function(a){if(a.route.test(b))return a.B(b),l})},navigate:function(a,b){if(!Xf.started)return p;if(!b||b===
l)b={trigger:b};a=this.getFragment(a||"");if(this.ja!==a){this.ja=a;var d=this.root+a;if(this.kb)this.history[b.replace?"replaceState":"pushState"]({},document.title,d);else if(this.Oa)this.le(this.location,a,b.replace),this.Ha&&a!==this.getFragment(this.sb(this.Ha))&&(b.replace||this.Ha.document.open().close(),this.le(this.Ha.location,a,b.replace));else return this.location.assign(d);b.trigger&&this.Zb(a)}},le:function(a,b,d){d?(d=a.href.replace(/(javascript:|#).*$/,""),a.replace(d+"#"+b)):a.hash=
"#"+b}});Y.history=new Xf;Cf.extend=Lf.extend=Sf.extend=Of.extend=Xf.extend=function(a,b){function d(){this.constructor=f}var e=this,f;f=a&&Z.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)};Z.extend(f,e,b);d.prototype=e.prototype;f.prototype=new d;a&&Z.extend(f.prototype,a);f.oi=e.prototype;return f};function Ef(){g(Error('A "url" property or function must be specified'))}function Df(a,b){var d=b.error;b.error=function(e){d&&d(a,e,b);a.trigger("error",a,e,b)}}
window.Backbone=window.Db;Backbone.Collection=Backbone.Collection;Backbone.Collection.extend=Backbone.Collection.extend;Backbone.Model=Backbone.Model;Backbone.Model.extend=Backbone.Model.extend;S.a.model={};S.a.model.$f=Backbone.Model.extend({idAttribute:"qid"});S.a.model.Zf=Backbone.Collection.extend({model:S.a.model.$f});S.a.model.mg=Backbone.Model.extend({idAttribute:"uid"});S.l.Ud=function(){var a=new S.a.model.mg,b=new S.a.model.Zf,d=new S.l.e.Pd,e=new S.l.view.Rd(a,b,d);d.initialize(a,b,e)};window._pintex&&_pintex.auto&&new S.l.Ud;window.pintex=S;S.qfo=S.l;S.l.Qfo=S.l.Ud;S.l.Vi={};})();
