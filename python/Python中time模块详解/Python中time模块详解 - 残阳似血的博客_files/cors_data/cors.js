(function(){function t(){function g(){this.reset()}function i(f){var c;for(c=0;c<f.length;c+=1){for(var a=f[c],b="",e=void 0,e=0;4>e;e+=1)b+=r[a>>8*e+4&15]+r[a>>8*e&15];f[c]=b}return f.join("")}function h(f){var c=f.length,a=[1732584193,-271733879,-1732584194,271733878],b,e,d;for(b=64;b<=c;b+=64)l(a,p(f.substring(b-64,b)));f=f.substring(b-64);e=f.length;d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(b=0;b<e;b+=1)d[b>>2]|=f.charCodeAt(b)<<(b%4<<3);d[b>>2]|=128<<(b%4<<3);if(55<b){l(a,d);for(b=0;16>b;b+=1)d[b]=0}c=(8*
c).toString(16).match(/(.*?)(.{0,8})$/);f=parseInt(c[2],16);c=parseInt(c[1],16)||0;d[14]=f;d[15]=c;l(a,d);return a}function j(f){var c=[],a;for(a=0;64>a;a+=4)c[a>>2]=f[a]+(f[a+1]<<8)+(f[a+2]<<16)+(f[a+3]<<24);return c}function p(f){var c=[],a;for(a=0;64>a;a+=4)c[a>>2]=f.charCodeAt(a)+(f.charCodeAt(a+1)<<8)+(f.charCodeAt(a+2)<<16)+(f.charCodeAt(a+3)<<24);return c}function l(f,c){var a=f[0],b=f[1],e=f[2],d=f[3],a=q(a,b,e,d,c[0],7,-680876936),d=q(d,a,b,e,c[1],12,-389564586),e=q(e,d,a,b,c[2],17,606105819),
b=q(b,e,d,a,c[3],22,-1044525330),a=q(a,b,e,d,c[4],7,-176418897),d=q(d,a,b,e,c[5],12,1200080426),e=q(e,d,a,b,c[6],17,-1473231341),b=q(b,e,d,a,c[7],22,-45705983),a=q(a,b,e,d,c[8],7,1770035416),d=q(d,a,b,e,c[9],12,-1958414417),e=q(e,d,a,b,c[10],17,-42063),b=q(b,e,d,a,c[11],22,-1990404162),a=q(a,b,e,d,c[12],7,1804603682),d=q(d,a,b,e,c[13],12,-40341101),e=q(e,d,a,b,c[14],17,-1502002290),b=q(b,e,d,a,c[15],22,1236535329),a=m(a,b,e,d,c[1],5,-165796510),d=m(d,a,b,e,c[6],9,-1069501632),e=m(e,d,a,b,c[11],14,
643717713),b=m(b,e,d,a,c[0],20,-373897302),a=m(a,b,e,d,c[5],5,-701558691),d=m(d,a,b,e,c[10],9,38016083),e=m(e,d,a,b,c[15],14,-660478335),b=m(b,e,d,a,c[4],20,-405537848),a=m(a,b,e,d,c[9],5,568446438),d=m(d,a,b,e,c[14],9,-1019803690),e=m(e,d,a,b,c[3],14,-187363961),b=m(b,e,d,a,c[8],20,1163531501),a=m(a,b,e,d,c[13],5,-1444681467),d=m(d,a,b,e,c[2],9,-51403784),e=m(e,d,a,b,c[7],14,1735328473),b=m(b,e,d,a,c[12],20,-1926607734),a=n(b^e^d,a,b,c[5],4,-378558),d=n(a^b^e,d,a,c[8],11,-2022574463),e=n(d^a^b,e,
d,c[11],16,1839030562),b=n(e^d^a,b,e,c[14],23,-35309556),a=n(b^e^d,a,b,c[1],4,-1530992060),d=n(a^b^e,d,a,c[4],11,1272893353),e=n(d^a^b,e,d,c[7],16,-155497632),b=n(e^d^a,b,e,c[10],23,-1094730640),a=n(b^e^d,a,b,c[13],4,681279174),d=n(a^b^e,d,a,c[0],11,-358537222),e=n(d^a^b,e,d,c[3],16,-722521979),b=n(e^d^a,b,e,c[6],23,76029189),a=n(b^e^d,a,b,c[9],4,-640364487),d=n(a^b^e,d,a,c[12],11,-421815835),e=n(d^a^b,e,d,c[15],16,530742520),b=n(e^d^a,b,e,c[2],23,-995338651),a=k(a,b,e,d,c[0],6,-198630844),d=k(d,
a,b,e,c[7],10,1126891415),e=k(e,d,a,b,c[14],15,-1416354905),b=k(b,e,d,a,c[5],21,-57434055),a=k(a,b,e,d,c[12],6,1700485571),d=k(d,a,b,e,c[3],10,-1894986606),e=k(e,d,a,b,c[10],15,-1051523),b=k(b,e,d,a,c[1],21,-2054922799),a=k(a,b,e,d,c[8],6,1873313359),d=k(d,a,b,e,c[15],10,-30611744),e=k(e,d,a,b,c[6],15,-1560198380),b=k(b,e,d,a,c[13],21,1309151649),a=k(a,b,e,d,c[4],6,-145523070),d=k(d,a,b,e,c[11],10,-1120210379),e=k(e,d,a,b,c[2],15,718787259),b=k(b,e,d,a,c[9],21,-343485551);f[0]=s(a,f[0]);f[1]=s(b,
f[1]);f[2]=s(e,f[2]);f[3]=s(d,f[3])}function k(f,c,a,b,e,d,g){return n(a^(c|~b),f,c,e,d,g)}function m(f,c,a,b,e,d,g){return n(c&b|a&~b,f,c,e,d,g)}function q(f,c,a,b,e,d,g){return n(c&a|~c&b,f,c,e,d,g)}function n(f,c,a,b,e,d){c=s(s(c,f),s(b,d));return s(c<<e|c>>>32-e,a)}function s(f,c){return f+c&4294967295}var r="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!==i(h("hello"))&&(s=function(f,c){var a=(f&65535)+(c&65535);return(f>>16)+(c>>16)+(a>>16)<<16|a&65535});g.prototype.append=
function(f){/[\u0080-\uFFFF]/.test(f)&&(f=unescape(encodeURIComponent(f)));this.h(f);return this};g.prototype.h=function(f){this.a+=f;this.d+=f.length;f=this.a.length;var c;for(c=64;c<=f;c+=64)l(this.b,p(this.a.substring(c-64,c)));this.a=this.a.substr(c-64)};g.prototype.end=function(f){var c=this.a,a=c.length,b,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(b=0;b<a;b+=1)e[b>>2]|=c.charCodeAt(b)<<(b%4<<3);this.e(e,a);f=f?this.b:i(this.b);this.reset();return f};g.prototype.e=function(f,c){var a=c,b;f[a>>2]|=
128<<(a%4<<3);if(55<a){l(this.b,f);for(a=0;16>a;a+=1)f[a]=0}b=8*this.d;b=b.toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(b[2],16);b=parseInt(b[1],16)||0;f[14]=a;f[15]=b;l(this.b,f)};g.prototype.reset=function(){this.a="";this.d=0;this.b=[1732584193,-271733879,-1732584194,271733878];return this};g.hash=function(f,c){/[\u0080-\uFFFF]/.test(f)&&(f=unescape(encodeURIComponent(f)));var a=h(f);return c?a:i(a)};g.k=function(f,c){var a=h(f);return c?a:i(a)};g.c=function(){this.reset()};g.c.prototype.append=
function(f){var c=this.g(this.a,f),a=c.length;this.d+=f.byteLength;for(f=64;f<=a;f+=64)l(this.b,j(c.subarray(f-64,f)));this.a=f-64<a?c.subarray(f-64):new Uint8Array(0);return this};g.c.prototype.end=function(f){var c=this.a,a=c.length,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e;for(e=0;e<a;e+=1)b[e>>2]|=c[e]<<(e%4<<3);this.e(b,a);f=f?this.b:i(this.b);this.reset();return f};g.c.prototype.e=g.prototype.e;g.c.prototype.reset=function(){this.a=new Uint8Array(0);this.d=0;this.b=[1732584193,-271733879,-1732584194,
271733878];return this};g.c.prototype.g=function(f,c){var a=f.length,b=new Uint8Array(a+c.byteLength);b.set(f);b.set(new Uint8Array(c),a);return b};g.c.hash=function(f,c){var a=new Uint8Array(f),b=a.length,e=[1732584193,-271733879,-1732584194,271733878],d,g,h;for(d=64;d<=b;d+=64)l(e,j(a.subarray(d-64,d)));a=d-64<b?a.subarray(d-64):new Uint8Array(0);g=a.length;h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<g;d+=1)h[d>>2]|=a[d]<<(d%4<<3);h[d>>2]|=128<<(d%4<<3);if(55<d){l(e,h);for(d=0;16>d;d+=1)h[d]=
0}b=(8*b).toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(b[2],16);b=parseInt(b[1],16)||0;h[14]=a;h[15]=b;l(e,h);return c?e:i(e)};return g}"object"===typeof exports?module.j=t():"function"===typeof define&&define.i?define("spark-md5",t):window.SparkMD5=t();function u(g,i){var h={};2===arguments.length?g(h):i=g}u(function(g){g.f=[];var i=window.onload;window.onload=function(){for(var h=0;h<g.f.length;h++)g.f[h]();"function"===typeof i?i():0}},function(){var g=arguments[0];g.f.push.apply(g.f,Array.prototype.slice.call(arguments,1))});function v(g,i,h){var j=w;g=[g,i].join("=");i=new Date;i.setTime(i.getTime()+1E3*h);h?g+=["; expires",i.toGMTString()].join("="):0;g+="; path=/";j?g+=["; domain",j].join("="):0;document.cookie=g}
u(function(g){g.hash=g.hash||[];for(var i=[],h=1,j=arguments.length;h<j;h++)-1===g.hash.indexOf(arguments[h])?g.hash.push(arguments[h]):0,i.push(g.hash.indexOf(arguments[h]));return i.join("")});u(function(g){var i=arguments.length;return 2===i?g[arguments[1]]:3!==i&&4===i?g[arguments[1]]?(g[arguments[1]].push(arguments[2]),g[arguments[1]]):g[arguments[1]]=[arguments[2]]:g[arguments[1]]=arguments[2]});var x;var y=window,z=typeof y.XMLHttpRequest;
if("function"==z||"object"==z&&y.XMLHttpRequest||"unknown"==z)x=function(){return new XMLHttpRequest};else{var A;b:{for(var B=["Microsoft","Msxml2","Msxml3"],C=B.length;C--;)try{A=B[C]+".XMLHTTP";new ActiveXObject(A);break b}catch(D){}A=void 0}x=function(){return new ActiveXObject(A)}};var w=".qudian.so",E,F;
function G(g,i){var h,j,p;switch(g){case "set":if(j=localStorage.getItem(i.key))h=JSON.parse(j).count++;return localStorage.setItem(i.key,JSON.stringify({value:i.value,expire:i.expire,count:h||0}));case "get":if(h=JSON.parse(localStorage.getItem(i.key))){if((new Date).getTime()>h.expire)return localStorage.removeItem(i.key),null;h.count++;localStorage.setItem(i.key,JSON.stringify(h));return h.value}return null;case "remove":return localStorage.removeItem(i.key);case "length":return localStorage.length;case "key":return localStorage.key(i.index);
case "clear":return localStorage.clear();case "keys":j=[];for(h=0;h<localStorage.length;h++)j.push(localStorage.key(h));return j;case "count":p={};for(h=0;h<localStorage.length;h++)j=localStorage.key(h),p[j]=JSON.parse(localStorage.getItem(j)).count;return p}}
var H=[/\.?easyxdm\.net/,/xdm1/,/.*/],I=new easyXDM.Rpc({},{local:{request:function(g,i,h){if(0===g.url.indexOf("/inner/init")){var j=g.data;E=j.AUTH_KEY_ID;F=j.AUTH_KEY_SECRET;i(void 0)}else if(0===g.url.indexOf("/inner/cookie")){a:{var p=g.url.split("/").slice(-1)[0],j=g.data;switch(p){case "set":j=v(j.key,j.value,j.secs);break a;case "get":b:{for(var p=document.cookie.split("; "),l=0,k=p.length;l<k;l++){var m=p[l].split("=");if(m[0]===j.key){j=m[1];break b}}j=""}break a;case "remove":v(j.key,"",
-86400);j=void 0;break a}j=void 0}i(j)}else if(0===g.url.indexOf("/inner/storage"))i(G(g.url.split("/").slice(-1)[0],g.data));else{j="POST"===g.method;p=[];for(k in g.data)g.data.hasOwnProperty(k)&&p.push(encodeURIComponent(k)+"="+encodeURIComponent(g.data[k]));var p=p.join("&"),k=new Date,m=j?p:g.url,q=E,n=F,s=parseInt(k.valueOf()/1E3,10).toString(),r=new SparkMD5;r.append(n);r.append("|");r.append(q);r.append("|");r.append(s);r.append("|");r.append(m);m=r.end();easyXDM.apply(g,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",
"X-Requested-With":"XMLHttpRequest","X-Date":k.toUTCString(),"X-ID":E+"|"+m},l:Function.prototype,error:function(a){throw Error(a);},data:{},timeout:1E4},!0);var f=x();f.open(g.method,g.url+(j?"":"?"+p),!0);for(l in g.headers)g.headers.hasOwnProperty(l)&&g.headers[l]&&f.setRequestHeader(l,g.headers[l]);var c;c=setTimeout(function(){f.abort();h({message:"timeout after "+g.timeout+" second",status:0,data:null,toString:function(){return this.message+" Status: "+this.status}},null)},g.timeout);l=!1;for(k=
H.length;k--&&!l;)H[k]instanceof RegExp?l=H[k].test(I.origin):"string"==typeof H[k]&&(l=I.origin===H[k]);f.send(j?p:"");f.onreadystatechange=function(){if(4==f.readyState){clearTimeout(c);for(var a=f.getAllResponseHeaders(),b={},e=/([\w-_]+):\s+(.*)$/gm,d;d=e.exec(a);)b[d[1]]=d[2];200>f.status||300<=f.status?(h("INVALID_STATUS_CODE",{status:f.status,data:f.responseText}),h("INVALID_STATUS_CODE",{status:f.status,data:f.responseText})):i({data:f.responseText,status:f.status,headers:b});f.onreadystatechange=
Function.prototype;f=null}}}}}});})();
